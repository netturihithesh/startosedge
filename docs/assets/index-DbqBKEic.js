function G1(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function IE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function K1(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),t}var mp={exports:{}},wc={};var cb;function Q1(){if(cb)return wc;cb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var ub;function Y1(){return ub||(ub=1,mp.exports=Q1()),mp.exports}var p=Y1(),pp={exports:{}},Ne={};var hb;function W1(){if(hb)return Ne;hb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,C={};function B(I,X,le){this.props=I,this.context=X,this.refs=C,this.updater=le||j}B.prototype.isReactComponent={},B.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function P(){}P.prototype=B.prototype;function z(I,X,le){this.props=I,this.context=X,this.refs=C,this.updater=le||j}var Z=z.prototype=new P;Z.constructor=z,O(Z,B.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray;function ae(){}var x={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(I,X,le){var he=le.ref;return{$$typeof:r,type:I,key:X,ref:he!==void 0?he:null,props:le}}function q(I,X){return k(I.type,X,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function F(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return X[le]})}var D=/\/+/g;function Je(I,X){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):X.toString(36)}function be(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ae,ae):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Q(I,X,le,he,Se){var ie=typeof I;(ie==="undefined"||ie==="boolean")&&(I=null);var de=!1;if(I===null)de=!0;else switch(ie){case"bigint":case"string":case"number":de=!0;break;case"object":switch(I.$$typeof){case r:case e:de=!0;break;case v:return de=I._init,Q(de(I._payload),X,le,he,Se)}}if(de)return Se=Se(I),de=he===""?"."+Je(I,0):he,ce(Se)?(le="",de!=null&&(le=de.replace(D,"$&/")+"/"),Q(Se,X,le,"",function(vn){return vn})):Se!=null&&(V(Se)&&(Se=q(Se,le+(Se.key==null||I&&I.key===Se.key?"":(""+Se.key).replace(D,"$&/")+"/")+de)),X.push(Se)),1;de=0;var Te=he===""?".":he+":";if(ce(I))for(var Ge=0;Ge<I.length;Ge++)he=I[Ge],ie=Te+Je(he,Ge),de+=Q(he,X,le,ie,Se);else if(Ge=A(I),typeof Ge=="function")for(I=Ge.call(I),Ge=0;!(he=I.next()).done;)he=he.value,ie=Te+Je(he,Ge++),de+=Q(he,X,le,ie,Se);else if(ie==="object"){if(typeof I.then=="function")return Q(be(I),X,le,he,Se);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return de}function oe(I,X,le){if(I==null)return I;var he=[],Se=0;return Q(I,he,"","",function(ie){return X.call(le,ie,Se++)}),he}function ge(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var De=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Me={map:oe,forEach:function(I,X,le){oe(I,function(){X.apply(this,arguments)},le)},count:function(I){var X=0;return oe(I,function(){X++}),X},toArray:function(I){return oe(I,function(X){return X})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=w,Ne.Children=Me,Ne.Component=B,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=z,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return x.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,X,le){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var he=O({},I.props),Se=I.key;if(X!=null)for(ie in X.key!==void 0&&(Se=""+X.key),X)!N.call(X,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&X.ref===void 0||(he[ie]=X[ie]);var ie=arguments.length-2;if(ie===1)he.children=le;else if(1<ie){for(var de=Array(ie),Te=0;Te<ie;Te++)de[Te]=arguments[Te+2];he.children=de}return k(I.type,Se,he)},Ne.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Ne.createElement=function(I,X,le){var he,Se={},ie=null;if(X!=null)for(he in X.key!==void 0&&(ie=""+X.key),X)N.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=X[he]);var de=arguments.length-2;if(de===1)Se.children=le;else if(1<de){for(var Te=Array(de),Ge=0;Ge<de;Ge++)Te[Ge]=arguments[Ge+2];Se.children=Te}if(I&&I.defaultProps)for(he in de=I.defaultProps,de)Se[he]===void 0&&(Se[he]=de[he]);return k(I,ie,Se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:d,render:I}},Ne.isValidElement=V,Ne.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ge}},Ne.memo=function(I,X){return{$$typeof:g,type:I,compare:X===void 0?null:X}},Ne.startTransition=function(I){var X=x.T,le={};x.T=le;try{var he=I(),Se=x.S;Se!==null&&Se(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ae,De)}catch(ie){De(ie)}finally{X!==null&&le.types!==null&&(X.types=le.types),x.T=X}},Ne.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ne.use=function(I){return x.H.use(I)},Ne.useActionState=function(I,X,le){return x.H.useActionState(I,X,le)},Ne.useCallback=function(I,X){return x.H.useCallback(I,X)},Ne.useContext=function(I){return x.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,X){return x.H.useDeferredValue(I,X)},Ne.useEffect=function(I,X){return x.H.useEffect(I,X)},Ne.useEffectEvent=function(I){return x.H.useEffectEvent(I)},Ne.useId=function(){return x.H.useId()},Ne.useImperativeHandle=function(I,X,le){return x.H.useImperativeHandle(I,X,le)},Ne.useInsertionEffect=function(I,X){return x.H.useInsertionEffect(I,X)},Ne.useLayoutEffect=function(I,X){return x.H.useLayoutEffect(I,X)},Ne.useMemo=function(I,X){return x.H.useMemo(I,X)},Ne.useOptimistic=function(I,X){return x.H.useOptimistic(I,X)},Ne.useReducer=function(I,X,le){return x.H.useReducer(I,X,le)},Ne.useRef=function(I){return x.H.useRef(I)},Ne.useState=function(I){return x.H.useState(I)},Ne.useSyncExternalStore=function(I,X,le){return x.H.useSyncExternalStore(I,X,le)},Ne.useTransition=function(){return x.H.useTransition()},Ne.version="19.2.0",Ne}var db;function Og(){return db||(db=1,pp.exports=W1()),pp.exports}var U=Og();const J1=IE(U);var gp={exports:{}},Ec={},yp={exports:{}},vp={};var fb;function X1(){return fb||(fb=1,(function(r){function e(Q,oe){var ge=Q.length;Q.push(oe);e:for(;0<ge;){var De=ge-1>>>1,Me=Q[De];if(0<a(Me,oe))Q[De]=oe,Q[ge]=Me,ge=De;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var oe=Q[0],ge=Q.pop();if(ge!==oe){Q[0]=ge;e:for(var De=0,Me=Q.length,I=Me>>>1;De<I;){var X=2*(De+1)-1,le=Q[X],he=X+1,Se=Q[he];if(0>a(le,ge))he<Me&&0>a(Se,le)?(Q[De]=Se,Q[he]=ge,De=he):(Q[De]=le,Q[X]=ge,De=X);else if(he<Me&&0>a(Se,ge))Q[De]=Se,Q[he]=ge,De=he;else break e}}return oe}function a(Q,oe){var ge=Q.sortIndex-oe.sortIndex;return ge!==0?ge:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,w=null,T=3,A=!1,j=!1,O=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var oe=t(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=Q)i(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function ce(Q){if(O=!1,Z(Q),!j)if(t(m)!==null)j=!0,ae||(ae=!0,F());else{var oe=t(g);oe!==null&&be(ce,oe.startTime-Q)}}var ae=!1,x=-1,N=5,k=-1;function q(){return C?!0:!(r.unstable_now()-k<N)}function V(){if(C=!1,ae){var Q=r.unstable_now();k=Q;var oe=!0;try{e:{j=!1,O&&(O=!1,P(x),x=-1),A=!0;var ge=T;try{t:{for(Z(Q),w=t(m);w!==null&&!(w.expirationTime>Q&&q());){var De=w.callback;if(typeof De=="function"){w.callback=null,T=w.priorityLevel;var Me=De(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof Me=="function"){w.callback=Me,Z(Q),oe=!0;break t}w===t(m)&&i(m),Z(Q)}else i(m);w=t(m)}if(w!==null)oe=!0;else{var I=t(g);I!==null&&be(ce,I.startTime-Q),oe=!1}}break e}finally{w=null,T=ge,A=!1}oe=void 0}}finally{oe?F():ae=!1}}}var F;if(typeof z=="function")F=function(){z(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Je=D.port2;D.port1.onmessage=V,F=function(){Je.postMessage(null)}}else F=function(){B(V,0)};function be(Q,oe){x=B(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ge=T;T=oe;try{return Q()}finally{T=ge}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=T;T=Q;try{return oe()}finally{T=ge}},r.unstable_scheduleCallback=function(Q,oe,ge){var De=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,Q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ge+Me,Q={id:v++,callback:oe,priorityLevel:Q,startTime:ge,expirationTime:Me,sortIndex:-1},ge>De?(Q.sortIndex=ge,e(g,Q),t(m)===null&&Q===t(g)&&(O?(P(x),x=-1):O=!0,be(ce,ge-De))):(Q.sortIndex=Me,e(m,Q),j||A||(j=!0,ae||(ae=!0,F()))),Q},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(Q){var oe=T;return function(){var ge=T;T=oe;try{return Q.apply(this,arguments)}finally{T=ge}}}})(vp)),vp}var mb;function Z1(){return mb||(mb=1,yp.exports=X1()),yp.exports}var _p={exports:{}},ln={};var pb;function eC(){if(pb)return ln;pb=1;var r=Og();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},ln.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},ln.requestFormReset=function(m){i.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var gb;function tC(){if(gb)return _p.exports;gb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_p.exports=eC(),_p.exports}var yb;function nC(){if(yb)return Ec;yb=1;var r=Z1(),e=Og(),t=tC();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),n;if(y===u)return m(f),s;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=y;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=y;break}if(S===u){b=!0,u=f,o=y;break}S=S.sibling}if(!b){for(S=y.child;S;){if(S===o){b=!0,o=y,u=f;break}if(S===u){b=!0,u=y,o=f;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Je(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case ce:return"Suspense";case ae:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case z:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case Z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return s=n.displayName||null,s!==null?s:Je(n.type)||"Memo";case N:s=n._payload,n=n._init;try{return Je(n(s))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],Me=-1;function I(n){return{current:n}}function X(n){0>Me||(n.current=De[Me],De[Me]=null,Me--)}function le(n,s){Me++,De[Me]=n.current,n.current=s}var he=I(null),Se=I(null),ie=I(null),de=I(null);function Te(n,s){switch(le(ie,s),le(Se,n),le(he,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?j0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=j0(s),n=k0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(he),le(he,n)}function Ge(){X(he),X(Se),X(ie)}function vn(n){n.memoizedState!==null&&le(de,n);var s=he.current,o=k0(s,n.type);s!==o&&(le(Se,n),le(he,o))}function Wt(n){Se.current===n&&(X(he),X(Se)),de.current===n&&(X(de),yc._currentValue=ge)}var La,Ba;function xr(n){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||"",Ba=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+n+Ba}var yl=!1;function Fs(n,s){if(!n||yl)return"";yl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var Y=J}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(J){Y=J}n.call(ne.prototype)}}else{try{throw Error()}catch(J){Y=J}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),b=y[0],S=y[1];if(b&&S){var M=b.split(`
`),K=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===K.length)for(u=M.length-1,f=K.length-1;1<=u&&0<=f&&M[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==K[f]){var ee=`
`+M[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{yl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?xr(o):""}function vl(n,s){switch(n.tag){case 26:case 27:case 5:return xr(n.type);case 16:return xr("Lazy");case 13:return n.child!==s&&s!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Fs(n.type,!1);case 11:return Fs(n.type.render,!1);case 1:return Fs(n.type,!0);case 31:return xr("Activity");default:return""}}function _l(n){try{var s="",o=null;do s+=vl(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,Bt=r.unstable_scheduleCallback,Bi=r.unstable_cancelCallback,gf=r.unstable_shouldYield,du=r.unstable_requestPaint,mn=r.unstable_now,Hs=r.unstable_getCurrentPriorityLevel,bl=r.unstable_ImmediatePriority,wl=r.unstable_UserBlockingPriority,zi=r.unstable_NormalPriority,yf=r.unstable_LowPriority,fu=r.unstable_IdlePriority,mu=r.log,pu=r.unstable_setDisableYieldValue,or=null,Jt=null;function $n(n){if(typeof mu=="function"&&pu(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(or,n)}catch{}}var _t=Math.clz32?Math.clz32:yu,gu=Math.log,za=Math.LN2;function yu(n){return n>>>=0,n===0?32:31-(gu(n)/za|0)|0}var Ir=256,$s=262144,Ct=4194304;function Nr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Or(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,y=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?f=Nr(u):(b&=S,b!==0?f=Nr(b):o||(o=S&~n,o!==0&&(f=Nr(o))))):(S=u&~y,S!==0?f=Nr(S):b!==0?f=Nr(b):o||(o=u&~n,o!==0&&(f=Nr(o)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:f}function lr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function vf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var n=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),n}function jr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Gs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function _f(n,s,o,u,f,y){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,K=n.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-_t(o),ne=1<<ee;S[ee]=0,M[ee]=-1;var Y=K[ee];if(Y!==null)for(K[ee]=null,ee=0;ee<Y.length;ee++){var J=Y[ee];J!==null&&(J.lane&=-536870913)}o&=~ne}u!==0&&Ks(n,u,0),y!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=y&~(b&~s))}function Ks(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-_t(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function El(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-_t(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Tl(n,s){var o=s&-s;return o=(o&42)!==0?1:Qs(o),(o&(n.suspendedLanes|s))!==0?0:o}function Qs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function si(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _u(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:nb(n.type))}function cr(n,s){var o=oe.p;try{return oe.p=n,s()}finally{oe.p=o}}var ur=Math.random().toString(36).slice(2),xt="__reactFiber$"+ur,Gt="__reactProps$"+ur,kr="__reactContainer$"+ur,qa="__reactEvents$"+ur,bf="__reactListeners$"+ur,bu="__reactHandles$"+ur,wu="__reactResources$"+ur,Dr="__reactMarker$"+ur;function Fa(n){delete n[xt],delete n[Gt],delete n[qa],delete n[bf],delete n[bu]}function Pr(n){var s=n[xt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[kr]||o[xt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=B0(n);n!==null;){if(o=n[xt])return o;n=B0(n)}return s}n=o,o=n.parentNode}return null}function Gn(n){if(n=n[xt]||n[kr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function In(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Mr(n){var s=n[wu];return s||(s=n[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(n){n[Dr]=!0}var Sl=new Set,Al={};function Vr(n,s){Ur(n,s),Ur(n+"Capture",s)}function Ur(n,s){for(Al[n]=s,n=0;n<s.length;n++)Sl.add(s[n])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},xl={};function Eu(n){return Rt.call(xl,n)?!0:Rt.call(Cl,n)?!1:Rl.test(n)?xl[n]=!0:(Cl[n]=!0,!1)}function Ha(n,s,o){if(Eu(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Nn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Nt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Il(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,y.call(this,b)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=qi(n)?"checked":"value";n._valueTracker=Il(n,s,""+n[s])}}function Ys(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=qi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Lr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ws=/[\n"\\]/g;function _n(n){return n.replace(Ws,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $a(n,s,o,u,f,y,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Kt(s)):n.value!==""+Kt(s)&&(n.value=""+Kt(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Nl(n,b,Kt(s)):o!=null?Nl(n,b,Kt(o)):u!=null&&n.removeAttribute("value"),f==null&&y!=null&&(n.defaultChecked=!!y),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Kt(S):n.removeAttribute("name")}function Tu(n,s,o,u,f,y,b,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+Kt(o):"",s=s!=null?""+Kt(s):o,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Ze(n)}function Nl(n,s,o){s==="number"&&Lr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fi(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Kt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Su(n,s,o){if(s!=null&&(s=""+Kt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Kt(o):""}function Hi(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Kt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function bn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Au.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function jl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Ol(n,f,u)}else for(var y in s)s.hasOwnProperty(y)&&Ol(n,y,s[y])}function Ga(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(n){return $i.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function hr(){}var kl=null;function Kn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gi=null,Br=null;function Js(n){var s=Gn(n);if(s&&(n=s.stateNode)){var o=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if($a(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Gt]||null;if(!f)throw Error(i(90));$a(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ys(u)}break e;case"textarea":Su(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fi(n,!!o.multiple,s,!1)}}}var Qa=!1;function Ki(n,s,o){if(Qa)return n(s,o);Qa=!0;try{var u=n(s);return u}finally{if(Qa=!1,(Gi!==null||Br!==null)&&(_h(),Gi&&(s=Gi,n=Br,Br=Gi=null,Js(s),n)))for(s=0;s<n.length;s++)Js(n[s])}}function dr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Xs=!1}var zr=null,Dl=null,Zs=null;function Pl(){if(Zs)return Zs;var n,s=Dl,o=s.length,u,f="value"in zr?zr.value:zr.textContent,y=f.length;for(n=0;n<o&&s[n]===f[n];n++);var b=o-n;for(u=1;u<=b&&s[o-u]===f[y-u];u++);return Zs=f.slice(n,1<u?1-u:void 0)}function ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ai(){return!0}function fr(){return!1}function Xt(n){function s(o,u,f,y,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ai:fr,this.isPropagationStopped=fr,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),s}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=Xt(oi),Qi=w({},oi,{view:0,detail:0}),Ml=Xt(Qi),Yi,Ya,Fr,Wa=w({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fr&&(Fr&&n.type==="mousemove"?(Yi=n.screenX-Fr.screenX,Ya=n.screenY-Fr.screenY):Ya=Yi=0,Fr=n),Yi)},movementY:function(n){return"movementY"in n?n.movementY:Ya}}),Vl=Xt(Wa),ta=w({},Wa,{dataTransfer:0}),Cu=Xt(ta),xu=w({},Qi,{relatedTarget:0}),na=Xt(xu),Ul=w({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Xt(Ul),Ja=w({},oi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nu=Xt(Ja),Ou=w({},oi,{data:0}),Hr=Xt(Ou),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Du[n])?!!s[n]:!1}function Wi(){return Pu}var pn=w({},Qi,{key:function(n){if(n.key){var s=ju[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(n){return n.type==="keypress"?ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mu=Xt(pn),Vu=w({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=Xt(Vu),h=w({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),_=Xt(h),E=w({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xt(E),$=w({},Wa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Xt($),ue=w({},oi,{newState:0,oldState:0}),je=Xt(ue),bt=[9,13,27,32],Ye=Qn&&"CompositionEvent"in window,dt=null;Qn&&"documentMode"in document&&(dt=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!dt,$r=Qn&&(!Ye||dt&&8<dt&&11>=dt),mr=" ",pr=!1;function ra(n,s){switch(n){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function gR(n,s){switch(n){case"compositionend":return Xa(s);case"keypress":return s.which!==32?null:(pr=!0,mr);case"textInput":return n=s.data,n===mr&&pr?null:n;default:return null}}function yR(n,s){if(Za)return n==="compositionend"||!Ye&&ra(n,s)?(n=Pl(),Zs=Dl=zr=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $r&&s.locale!=="ko"?null:s.data;default:return null}}var vR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!vR[n.type]:s==="textarea"}function Hy(n,s,o,u){Gi?Br?Br.push(u):Br=[u]:Gi=u,s=Rh(s,"onChange"),0<s.length&&(o=new qr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Ll=null,Bl=null;function _R(n){R0(n,0)}function Uu(n){var s=In(n);if(Ys(s))return n}function $y(n,s){if(n==="change")return s}var Gy=!1;if(Qn){var wf;if(Qn){var Ef="oninput"in document;if(!Ef){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Ef=typeof Ky.oninput=="function"}wf=Ef}else wf=!1;Gy=wf&&(!document.documentMode||9<document.documentMode)}function Qy(){Ll&&(Ll.detachEvent("onpropertychange",Yy),Bl=Ll=null)}function Yy(n){if(n.propertyName==="value"&&Uu(Bl)){var s=[];Hy(s,Bl,n,Kn(n)),Ki(_R,s)}}function bR(n,s,o){n==="focusin"?(Qy(),Ll=s,Bl=o,Ll.attachEvent("onpropertychange",Yy)):n==="focusout"&&Qy()}function wR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Uu(Bl)}function ER(n,s){if(n==="click")return Uu(s)}function TR(n,s){if(n==="input"||n==="change")return Uu(s)}function SR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var On=typeof Object.is=="function"?Object.is:SR;function zl(n,s){if(On(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Rt.call(s,f)||!On(n[f],s[f]))return!1}return!0}function Wy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jy(n,s){var o=Wy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wy(o)}}function Xy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Xy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Zy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Lr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Lr(n.document)}return s}function Tf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var AR=Qn&&"documentMode"in document&&11>=document.documentMode,eo=null,Sf=null,ql=null,Af=!1;function ev(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Af||eo==null||eo!==Lr(u)||(u=eo,"selectionStart"in u&&Tf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&zl(ql,u)||(ql=u,u=Rh(Sf,"onSelect"),0<u.length&&(s=new qr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=eo)))}function ia(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var to={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Rf={},tv={};Qn&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function sa(n){if(Rf[n])return Rf[n];if(!to[n])return n;var s=to[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in tv)return Rf[n]=s[o];return n}var nv=sa("animationend"),rv=sa("animationiteration"),iv=sa("animationstart"),RR=sa("transitionrun"),CR=sa("transitionstart"),xR=sa("transitioncancel"),sv=sa("transitionend"),av=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function gr(n,s){av.set(n,s),Vr(s,[n])}var Lu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Wn=[],no=0,xf=0;function Bu(){for(var n=no,s=xf=no=0;s<n;){var o=Wn[s];Wn[s++]=null;var u=Wn[s];Wn[s++]=null;var f=Wn[s];Wn[s++]=null;var y=Wn[s];if(Wn[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}y!==0&&ov(o,f,y)}}function zu(n,s,o,u){Wn[no++]=n,Wn[no++]=s,Wn[no++]=o,Wn[no++]=u,xf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function If(n,s,o,u){return zu(n,s,o,u),qu(n)}function aa(n,s){return zu(n,null,null,s),qu(n)}function ov(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,y=n.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(f=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,f&&s!==null&&(f=31-_t(o),n=y.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),y):null}function qu(n){if(50<uc)throw uc=0,Um=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ro={};function IR(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,s,o,u){return new IR(n,s,o,u)}function Nf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ci(n,s){var o=n.alternate;return o===null?(o=jn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function lv(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Fu(n,s,o,u,f,y){var b=0;if(u=n,typeof n=="function")Nf(n)&&(b=1);else if(typeof n=="string")b=D1(n,o,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=jn(31,o,s,f),n.elementType=k,n.lanes=y,n;case O:return oa(o.children,f,y,s);case C:b=8,f|=24;break;case B:return n=jn(12,o,s,f|2),n.elementType=B,n.lanes=y,n;case ce:return n=jn(13,o,s,f),n.elementType=ce,n.lanes=y,n;case ae:return n=jn(19,o,s,f),n.elementType=ae,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:b=10;break e;case P:b=9;break e;case Z:b=11;break e;case x:b=14;break e;case N:b=16,u=null;break e}b=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=jn(b,o,s,f),s.elementType=n,s.type=u,s.lanes=y,s}function oa(n,s,o,u){return n=jn(7,n,u,s),n.lanes=o,n}function Of(n,s,o){return n=jn(6,n,null,s),n.lanes=o,n}function cv(n){var s=jn(18,null,null,0);return s.stateNode=n,s}function jf(n,s,o){return s=jn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var uv=new WeakMap;function Jn(n,s){if(typeof n=="object"&&n!==null){var o=uv.get(n);return o!==void 0?o:(s={value:n,source:s,stack:_l(s)},uv.set(n,s),s)}return{value:n,source:s,stack:_l(s)}}var io=[],so=0,Hu=null,Fl=0,Xn=[],Zn=0,Ji=null,Gr=1,Kr="";function ui(n,s){io[so++]=Fl,io[so++]=Hu,Hu=n,Fl=s}function hv(n,s,o){Xn[Zn++]=Gr,Xn[Zn++]=Kr,Xn[Zn++]=Ji,Ji=n;var u=Gr;n=Kr;var f=32-_t(u)-1;u&=~(1<<f),o+=1;var y=32-_t(s)+f;if(30<y){var b=f-f%5;y=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Gr=1<<32-_t(s)+f|o<<f|u,Kr=y+n}else Gr=1<<y|o<<f|u,Kr=n}function kf(n){n.return!==null&&(ui(n,1),hv(n,1,0))}function Df(n){for(;n===Hu;)Hu=io[--so],io[so]=null,Fl=io[--so],io[so]=null;for(;n===Ji;)Ji=Xn[--Zn],Xn[Zn]=null,Kr=Xn[--Zn],Xn[Zn]=null,Gr=Xn[--Zn],Xn[Zn]=null}function dv(n,s){Xn[Zn++]=Gr,Xn[Zn++]=Kr,Xn[Zn++]=Ji,Gr=s.id,Kr=s.overflow,Ji=n}var Zt=null,ct=null,He=!1,Xi=null,er=!1,Pf=Error(i(519));function Zi(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Jn(s,n)),Pf}function fv(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[xt]=n,s[Gt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<dc.length;o++)Ue(dc[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Tu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),Hi(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||N0(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=hr),s=!0):s=!1,s||Zi(n,!0)}function mv(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Zt=Zt.return}}function ao(n){if(n!==Zt)return!1;if(!He)return mv(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Zm(n.type,n.memoizedProps)),o=!o),o&&ct&&Zi(n),mv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ct=L0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ct=L0(n)}else s===27?(s=ct,fs(n.type)?(n=ip,ip=null,ct=n):ct=s):ct=Zt?nr(n.stateNode.nextSibling):null;return!0}function la(){ct=Zt=null,He=!1}function Mf(){var n=Xi;return n!==null&&(Sn===null?Sn=n:Sn.push.apply(Sn,n),Xi=null),n}function Hl(n){Xi===null?Xi=[n]:Xi.push(n)}var Vf=I(null),ca=null,hi=null;function es(n,s,o){le(Vf,s._currentValue),s._currentValue=o}function di(n){n._currentValue=Vf.current,X(Vf)}function Uf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Lf(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){var b=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Uf(y.return,o,n),u||(b=null);break e}y=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),Uf(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function oo(n,s,o,u){n=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=f.type;On(f.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(f===de.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(yc):n=[yc])}f=f.return}n!==null&&Lf(s,n,o,u),s.flags|=262144}function $u(n){for(n=n.firstContext;n!==null;){if(!On(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ua(n){ca=n,hi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return pv(ca,n)}function Gu(n,s){return ca===null&&ua(n),pv(n,s)}function pv(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},hi===null){if(n===null)throw Error(i(308));hi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else hi=hi.next=s;return o}var NR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},OR=r.unstable_scheduleCallback,jR=r.unstable_NormalPriority,Ot={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new NR,data:new Map,refCount:0}}function $l(n){n.refCount--,n.refCount===0&&OR(jR,function(){n.controller.abort()})}var Gl=null,zf=0,lo=0,co=null;function kR(n,s){if(Gl===null){var o=Gl=[];zf=0,lo=Hm(),co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return zf++,s.then(gv,gv),s}function gv(){if(--zf===0&&Gl!==null){co!==null&&(co.status="fulfilled");var n=Gl;Gl=null,lo=0,co=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function DR(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var yv=Q.S;Q.S=function(n,s){e0=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kR(n,s),yv!==null&&yv(n,s)};var ha=I(null);function qf(){var n=ha.current;return n!==null?n:at.pooledCache}function Ku(n,s){s===null?le(ha,ha.current):le(ha,s.pool)}function vv(){var n=qf();return n===null?null:{parent:Ot._currentValue,pool:n}}var uo=Error(i(460)),Ff=Error(i(474)),Qu=Error(i(542)),Yu={then:function(){}};function _v(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bv(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(hr,hr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ev(n),n;default:if(typeof s.status=="string")s.then(hr,hr);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ev(n),n}throw fa=s,uo}}function da(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,uo):o}}var fa=null;function wv(){if(fa===null)throw Error(i(459));var n=fa;return fa=null,n}function Ev(n){if(n===uo||n===Qu)throw Error(i(483))}var ho=null,Kl=0;function Wu(n){var s=Kl;return Kl+=1,ho===null&&(ho=[]),bv(ho,n,s)}function Ql(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ju(n,s){throw s.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Tv(n){function s(H,L){if(n){var G=H.deletions;G===null?(H.deletions=[L],H.flags|=16):G.push(L)}}function o(H,L){if(!n)return null;for(;L!==null;)s(H,L),L=L.sibling;return null}function u(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function f(H,L){return H=ci(H,L),H.index=0,H.sibling=null,H}function y(H,L,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<L?(H.flags|=67108866,L):G):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function b(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function S(H,L,G,te){return L===null||L.tag!==6?(L=Of(G,H.mode,te),L.return=H,L):(L=f(L,G),L.return=H,L)}function M(H,L,G,te){var we=G.type;return we===O?ee(H,L,G.props.children,te,G.key):L!==null&&(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&da(we)===L.type)?(L=f(L,G.props),Ql(L,G),L.return=H,L):(L=Fu(G.type,G.key,G.props,null,H.mode,te),Ql(L,G),L.return=H,L)}function K(H,L,G,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=jf(G,H.mode,te),L.return=H,L):(L=f(L,G.children||[]),L.return=H,L)}function ee(H,L,G,te,we){return L===null||L.tag!==7?(L=oa(G,H.mode,te,we),L.return=H,L):(L=f(L,G),L.return=H,L)}function ne(H,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Of(""+L,H.mode,G),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return G=Fu(L.type,L.key,L.props,null,H.mode,G),Ql(G,L),G.return=H,G;case j:return L=jf(L,H.mode,G),L.return=H,L;case N:return L=da(L),ne(H,L,G)}if(be(L)||F(L))return L=oa(L,H.mode,G,null),L.return=H,L;if(typeof L.then=="function")return ne(H,Wu(L),G);if(L.$$typeof===z)return ne(H,Gu(H,L),G);Ju(H,L)}return null}function Y(H,L,G,te){var we=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return we!==null?null:S(H,L,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===we?M(H,L,G,te):null;case j:return G.key===we?K(H,L,G,te):null;case N:return G=da(G),Y(H,L,G,te)}if(be(G)||F(G))return we!==null?null:ee(H,L,G,te,null);if(typeof G.then=="function")return Y(H,L,Wu(G),te);if(G.$$typeof===z)return Y(H,L,Gu(H,G),te);Ju(H,G)}return null}function J(H,L,G,te,we){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(G)||null,S(L,H,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return H=H.get(te.key===null?G:te.key)||null,M(L,H,te,we);case j:return H=H.get(te.key===null?G:te.key)||null,K(L,H,te,we);case N:return te=da(te),J(H,L,G,te,we)}if(be(te)||F(te))return H=H.get(G)||null,ee(L,H,te,we,null);if(typeof te.then=="function")return J(H,L,G,Wu(te),we);if(te.$$typeof===z)return J(H,L,G,Gu(L,te),we);Ju(L,te)}return null}function pe(H,L,G,te){for(var we=null,Ke=null,ye=L,Pe=L=0,Be=null;ye!==null&&Pe<G.length;Pe++){ye.index>Pe?(Be=ye,ye=null):Be=ye.sibling;var Qe=Y(H,ye,G[Pe],te);if(Qe===null){ye===null&&(ye=Be);break}n&&ye&&Qe.alternate===null&&s(H,ye),L=y(Qe,L,Pe),Ke===null?we=Qe:Ke.sibling=Qe,Ke=Qe,ye=Be}if(Pe===G.length)return o(H,ye),He&&ui(H,Pe),we;if(ye===null){for(;Pe<G.length;Pe++)ye=ne(H,G[Pe],te),ye!==null&&(L=y(ye,L,Pe),Ke===null?we=ye:Ke.sibling=ye,Ke=ye);return He&&ui(H,Pe),we}for(ye=u(ye);Pe<G.length;Pe++)Be=J(ye,H,Pe,G[Pe],te),Be!==null&&(n&&Be.alternate!==null&&ye.delete(Be.key===null?Pe:Be.key),L=y(Be,L,Pe),Ke===null?we=Be:Ke.sibling=Be,Ke=Be);return n&&ye.forEach(function(vs){return s(H,vs)}),He&&ui(H,Pe),we}function Ae(H,L,G,te){if(G==null)throw Error(i(151));for(var we=null,Ke=null,ye=L,Pe=L=0,Be=null,Qe=G.next();ye!==null&&!Qe.done;Pe++,Qe=G.next()){ye.index>Pe?(Be=ye,ye=null):Be=ye.sibling;var vs=Y(H,ye,Qe.value,te);if(vs===null){ye===null&&(ye=Be);break}n&&ye&&vs.alternate===null&&s(H,ye),L=y(vs,L,Pe),Ke===null?we=vs:Ke.sibling=vs,Ke=vs,ye=Be}if(Qe.done)return o(H,ye),He&&ui(H,Pe),we;if(ye===null){for(;!Qe.done;Pe++,Qe=G.next())Qe=ne(H,Qe.value,te),Qe!==null&&(L=y(Qe,L,Pe),Ke===null?we=Qe:Ke.sibling=Qe,Ke=Qe);return He&&ui(H,Pe),we}for(ye=u(ye);!Qe.done;Pe++,Qe=G.next())Qe=J(ye,H,Pe,Qe.value,te),Qe!==null&&(n&&Qe.alternate!==null&&ye.delete(Qe.key===null?Pe:Qe.key),L=y(Qe,L,Pe),Ke===null?we=Qe:Ke.sibling=Qe,Ke=Qe);return n&&ye.forEach(function($1){return s(H,$1)}),He&&ui(H,Pe),we}function st(H,L,G,te){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var we=G.key;L!==null;){if(L.key===we){if(we=G.type,we===O){if(L.tag===7){o(H,L.sibling),te=f(L,G.props.children),te.return=H,H=te;break e}}else if(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&da(we)===L.type){o(H,L.sibling),te=f(L,G.props),Ql(te,G),te.return=H,H=te;break e}o(H,L);break}else s(H,L);L=L.sibling}G.type===O?(te=oa(G.props.children,H.mode,te,G.key),te.return=H,H=te):(te=Fu(G.type,G.key,G.props,null,H.mode,te),Ql(te,G),te.return=H,H=te)}return b(H);case j:e:{for(we=G.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(H,L.sibling),te=f(L,G.children||[]),te.return=H,H=te;break e}else{o(H,L);break}else s(H,L);L=L.sibling}te=jf(G,H.mode,te),te.return=H,H=te}return b(H);case N:return G=da(G),st(H,L,G,te)}if(be(G))return pe(H,L,G,te);if(F(G)){if(we=F(G),typeof we!="function")throw Error(i(150));return G=we.call(G),Ae(H,L,G,te)}if(typeof G.then=="function")return st(H,L,Wu(G),te);if(G.$$typeof===z)return st(H,L,Gu(H,G),te);Ju(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(H,L.sibling),te=f(L,G),te.return=H,H=te):(o(H,L),te=Of(G,H.mode,te),te.return=H,H=te),b(H)):o(H,L)}return function(H,L,G,te){try{Kl=0;var we=st(H,L,G,te);return ho=null,we}catch(ye){if(ye===uo||ye===Qu)throw ye;var Ke=jn(29,ye,null,H.mode);return Ke.lanes=te,Ke.return=H,Ke}finally{}}}var ma=Tv(!0),Sv=Tv(!1),ts=!1;function Hf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ns(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rs(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=qu(n),ov(n,null,o),s}return zu(n,u,s,o),qu(n)}function Yl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,El(n,o)}}function Gf(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?f=y=s:y=y.next=s}else f=y=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Kf=!1;function Wl(){if(Kf){var n=co;if(n!==null)throw n}}function Jl(n,s,o,u){Kf=!1;var f=n.updateQueue;ts=!1;var y=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,K=M.next;M.next=null,b===null?y=K:b.next=K,b=M;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==b&&(S===null?ee.firstBaseUpdate=K:S.next=K,ee.lastBaseUpdate=M))}if(y!==null){var ne=f.baseState;b=0,ee=K=M=null,S=y;do{var Y=S.lane&-536870913,J=Y!==S.lane;if(J?(Le&Y)===Y:(u&Y)===Y){Y!==0&&Y===lo&&(Kf=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=n,Ae=S;Y=s;var st=o;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){ne=pe.call(st,ne,Y);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,Y=typeof pe=="function"?pe.call(st,ne,Y):pe,Y==null)break e;ne=w({},ne,Y);break e;case 2:ts=!0}}Y=S.callback,Y!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(K=ee=J,M=ne):ee=ee.next=J,b|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(M=ne),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=ee,y===null&&(f.shared.lanes=0),ls|=b,n.lanes=b,n.memoizedState=ne}}function Av(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Rv(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Av(o[n],s)}var fo=I(null),Xu=I(0);function Cv(n,s){n=wi,le(Xu,n),le(fo,s),wi=n|s.baseLanes}function Qf(){le(Xu,wi),le(fo,fo.current)}function Yf(){wi=Xu.current,X(fo),X(Xu)}var kn=I(null),tr=null;function is(n){var s=n.alternate;le(wt,wt.current&1),le(kn,n),tr===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(tr=n)}function Wf(n){le(wt,wt.current),le(kn,n),tr===null&&(tr=n)}function xv(n){n.tag===22?(le(wt,wt.current),le(kn,n),tr===null&&(tr=n)):ss()}function ss(){le(wt,wt.current),le(kn,kn.current)}function Dn(n){X(kn),tr===n&&(tr=null),X(wt)}var wt=I(0);function Zu(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||np(o)||rp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,ke=null,rt=null,jt=null,eh=!1,mo=!1,pa=!1,th=0,Xl=0,po=null,PR=0;function yt(){throw Error(i(321))}function Jf(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!On(n[o],s[o]))return!1;return!0}function Xf(n,s,o,u,f,y){return fi=y,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?h_:fm,pa=!1,y=o(u,f),pa=!1,mo&&(y=Nv(s,o,u,f)),Iv(n),y}function Iv(n){Q.H=tc;var s=rt!==null&&rt.next!==null;if(fi=0,jt=rt=ke=null,eh=!1,Xl=0,po=null,s)throw Error(i(300));n===null||kt||(n=n.dependencies,n!==null&&$u(n)&&(kt=!0))}function Nv(n,s,o,u){ke=n;var f=0;do{if(mo&&(po=null),Xl=0,mo=!1,25<=f)throw Error(i(301));if(f+=1,jt=rt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=d_,y=s(o,u)}while(mo);return y}function MR(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?Zl(s):s,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(ke.flags|=1024),s}function Zf(){var n=th!==0;return th=0,n}function em(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function tm(n){if(eh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}eh=!1}fi=0,jt=rt=ke=null,mo=!1,Xl=th=0,po=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ke.memoizedState=jt=n:jt=jt.next=n,jt}function Et(){if(rt===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var s=jt===null?ke.memoizedState:jt.next;if(s!==null)jt=s,rt=n;else{if(n===null)throw ke.alternate===null?Error(i(467)):Error(i(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},jt===null?ke.memoizedState=jt=n:jt=jt.next=n}return jt}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(n){var s=Xl;return Xl+=1,po===null&&(po=[]),n=bv(po,n,s),s=ke,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?h_:fm),n}function rh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zl(n);if(n.$$typeof===z)return en(n)}throw Error(i(438,String(n)))}function nm(n){var s=null,o=ke.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=nh(),ke.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=q;return s.index++,o}function mi(n,s){return typeof s=="function"?s(n):s}function ih(n){var s=Et();return rm(s,rt,n)}function rm(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,y=u.pending;if(y!==null){if(f!==null){var b=f.next;f.next=y.next,y.next=b}s.baseQueue=f=y,u.pending=null}if(y=n.baseState,f===null)n.memoizedState=y;else{s=f.next;var S=b=null,M=null,K=s,ee=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Le&ne)===ne:(fi&ne)===ne){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===lo&&(ee=!0);else if((fi&Y)===Y){K=K.next,Y===lo&&(ee=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=ne,b=y):M=M.next=ne,ke.lanes|=Y,ls|=Y;ne=K.action,pa&&o(y,ne),y=K.hasEagerState?K.eagerState:o(y,ne)}else Y={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=Y,b=y):M=M.next=Y,ke.lanes|=ne,ls|=ne;K=K.next}while(K!==null&&K!==s);if(M===null?b=y:M.next=S,!On(y,n.memoizedState)&&(kt=!0,ee&&(o=co,o!==null)))throw o;n.memoizedState=y,n.baseState=b,n.baseQueue=M,u.lastRenderedState=y}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function im(n){var s=Et(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,y=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do y=n(y,b.action),b=b.next;while(b!==f);On(y,s.memoizedState)||(kt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Ov(n,s,o){var u=ke,f=Et(),y=He;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!On((rt||f).memoizedState,o);if(b&&(f.memoizedState=o,kt=!0),f=f.queue,om(Dv.bind(null,u,f,n),[n]),f.getSnapshot!==s||b||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,go(9,{destroy:void 0},kv.bind(null,u,f,o,s),null),at===null)throw Error(i(349));y||(fi&127)!==0||jv(u,s,o)}return o}function jv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=ke.updateQueue,s===null?(s=nh(),ke.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function kv(n,s,o,u){s.value=o,s.getSnapshot=u,Pv(s)&&Mv(n)}function Dv(n,s,o){return o(function(){Pv(s)&&Mv(n)})}function Pv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!On(n,o)}catch{return!0}}function Mv(n){var s=aa(n,2);s!==null&&An(s,n,2)}function sm(n){var s=gn();if(typeof n=="function"){var o=n;if(n=o(),pa){$n(!0);try{o()}finally{$n(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:n},s}function Vv(n,s,o,u){return n.baseState=o,rm(n,rt,typeof u=="function"?u:mi)}function VR(n,s,o,u,f){if(oh(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};Q.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Uv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Uv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var y=Q.T,b={};Q.T=b;try{var S=o(f,u),M=Q.S;M!==null&&M(b,S),Lv(n,s,S)}catch(K){am(n,s,K)}finally{y!==null&&b.types!==null&&(y.types=b.types),Q.T=y}}else try{y=o(f,u),Lv(n,s,y)}catch(K){am(n,s,K)}}function Lv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Bv(n,s,u)},function(u){return am(n,s,u)}):Bv(n,s,o)}function Bv(n,s,o){s.status="fulfilled",s.value=o,zv(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,Uv(n,o)))}function am(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,zv(s),s=s.next;while(s!==u)}n.action=null}function zv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function qv(n,s){return s}function Fv(n,s){if(He){var o=at.formState;if(o!==null){e:{var u=ke;if(He){if(ct){t:{for(var f=ct,y=er;f.nodeType!==8;){if(!y){f=null;break t}if(f=nr(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ct=nr(f.nextSibling),u=f.data==="F!";break e}}Zi(u)}u=!1}u&&(s=o[0])}}return o=gn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qv,lastRenderedState:s},o.queue=u,o=l_.bind(null,ke,u),u.dispatch=o,u=sm(!1),y=dm.bind(null,ke,!1,u.queue),u=gn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=VR.bind(null,ke,f,y,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function Hv(n){var s=Et();return $v(s,rt,n)}function $v(n,s,o){if(s=rm(n,s,qv)[0],n=ih(mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Zl(s)}catch(b){throw b===uo?Qu:b}else u=s;s=Et();var f=s.queue,y=f.dispatch;return o!==s.memoizedState&&(ke.flags|=2048,go(9,{destroy:void 0},UR.bind(null,f,o),null)),[u,y,n]}function UR(n,s){n.action=s}function Gv(n){var s=Et(),o=rt;if(o!==null)return $v(s,o,n);Et(),s=s.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function go(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=ke.updateQueue,s===null&&(s=nh(),ke.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Kv(){return Et().memoizedState}function sh(n,s,o,u){var f=gn();ke.flags|=n,f.memoizedState=go(1|s,{destroy:void 0},o,u===void 0?null:u)}function ah(n,s,o,u){var f=Et();u=u===void 0?null:u;var y=f.memoizedState.inst;rt!==null&&u!==null&&Jf(u,rt.memoizedState.deps)?f.memoizedState=go(s,y,o,u):(ke.flags|=n,f.memoizedState=go(1|s,y,o,u))}function Qv(n,s){sh(8390656,8,n,s)}function om(n,s){ah(2048,8,n,s)}function LR(n){ke.flags|=4;var s=ke.updateQueue;if(s===null)s=nh(),ke.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Yv(n){var s=Et().memoizedState;return LR({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Wv(n,s){return ah(4,2,n,s)}function Jv(n,s){return ah(4,4,n,s)}function Xv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Zv(n,s,o){o=o!=null?o.concat([n]):null,ah(4,4,Xv.bind(null,s,n),o)}function lm(){}function e_(n,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Jf(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function t_(n,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Jf(s,u[1]))return u[0];if(u=n(),pa){$n(!0);try{n()}finally{$n(!1)}}return o.memoizedState=[u,s],u}function cm(n,s,o){return o===void 0||(fi&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=n0(),ke.lanes|=n,ls|=n,o)}function n_(n,s,o,u){return On(o,s)?o:fo.current!==null?(n=cm(n,o,u),On(n,s)||(kt=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(Le&261930)===0?(kt=!0,n.memoizedState=o):(n=n0(),ke.lanes|=n,ls|=n,s)}function r_(n,s,o,u,f){var y=oe.p;oe.p=y!==0&&8>y?y:8;var b=Q.T,S={};Q.T=S,dm(n,!1,s,o);try{var M=f(),K=Q.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=DR(M,u);ec(n,s,ee,Vn(n))}else ec(n,s,u,Vn(n))}catch(ne){ec(n,s,{then:function(){},status:"rejected",reason:ne},Vn())}finally{oe.p=y,b!==null&&S.types!==null&&(b.types=S.types),Q.T=b}}function BR(){}function um(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=i_(n).queue;r_(n,f,s,ge,o===null?BR:function(){return s_(n),o(u)})}function i_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function s_(n){var s=i_(n);s.next===null&&(s=n.alternate.memoizedState),ec(n,s.next.queue,{},Vn())}function hm(){return en(yc)}function a_(){return Et().memoizedState}function o_(){return Et().memoizedState}function zR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();n=ns(o);var u=rs(s,n,o);u!==null&&(An(u,s,o),Yl(u,s,o)),s={cache:Bf()},n.payload=s;return}s=s.return}}function qR(n,s,o){var u=Vn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oh(n)?c_(s,o):(o=If(n,s,o,u),o!==null&&(An(o,n,u),u_(o,s,u)))}function l_(n,s,o){var u=Vn();ec(n,s,o,u)}function ec(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(n))c_(s,f);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,S=y(b,o);if(f.hasEagerState=!0,f.eagerState=S,On(S,b))return zu(n,s,f,0),at===null&&Bu(),!1}catch{}finally{}if(o=If(n,s,f,u),o!==null)return An(o,n,u),u_(o,s,u),!0}return!1}function dm(n,s,o,u){if(u={lane:2,revertLane:Hm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},oh(n)){if(s)throw Error(i(479))}else s=If(n,o,u,2),s!==null&&An(s,n,2)}function oh(n){var s=n.alternate;return n===ke||s!==null&&s===ke}function c_(n,s){mo=eh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function u_(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,El(n,o)}}var tc={readContext:en,use:rh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};tc.useEffectEvent=yt;var h_={readContext:en,use:rh,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:en,useEffect:Qv,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,sh(4194308,4,Xv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return sh(4194308,4,n,s)},useInsertionEffect:function(n,s){sh(4,2,n,s)},useMemo:function(n,s){var o=gn();s=s===void 0?null:s;var u=n();if(pa){$n(!0);try{n()}finally{$n(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=gn();if(o!==void 0){var f=o(s);if(pa){$n(!0);try{o(s)}finally{$n(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=qR.bind(null,ke,n),[u.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=sm(n);var s=n.queue,o=l_.bind(null,ke,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:lm,useDeferredValue:function(n,s){var o=gn();return cm(o,n,s)},useTransition:function(){var n=sm(!1);return n=r_.bind(null,ke,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=ke,f=gn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),at===null)throw Error(i(349));(Le&127)!==0||jv(u,s,o)}f.memoizedState=o;var y={value:o,getSnapshot:s};return f.queue=y,Qv(Dv.bind(null,u,y,n),[n]),u.flags|=2048,go(9,{destroy:void 0},kv.bind(null,u,y,o,s),null),o},useId:function(){var n=gn(),s=at.identifierPrefix;if(He){var o=Kr,u=Gr;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=th++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=PR++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:hm,useFormState:Fv,useActionState:Fv,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=dm.bind(null,ke,!0,o),o.dispatch=s,[n,s]},useMemoCache:nm,useCacheRefresh:function(){return gn().memoizedState=zR.bind(null,ke)},useEffectEvent:function(n){var s=gn(),o={impl:n};return s.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},fm={readContext:en,use:rh,useCallback:e_,useContext:en,useEffect:om,useImperativeHandle:Zv,useInsertionEffect:Wv,useLayoutEffect:Jv,useMemo:t_,useReducer:ih,useRef:Kv,useState:function(){return ih(mi)},useDebugValue:lm,useDeferredValue:function(n,s){var o=Et();return n_(o,rt.memoizedState,n,s)},useTransition:function(){var n=ih(mi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Zl(n),s]},useSyncExternalStore:Ov,useId:a_,useHostTransitionStatus:hm,useFormState:Hv,useActionState:Hv,useOptimistic:function(n,s){var o=Et();return Vv(o,rt,n,s)},useMemoCache:nm,useCacheRefresh:o_};fm.useEffectEvent=Yv;var d_={readContext:en,use:rh,useCallback:e_,useContext:en,useEffect:om,useImperativeHandle:Zv,useInsertionEffect:Wv,useLayoutEffect:Jv,useMemo:t_,useReducer:im,useRef:Kv,useState:function(){return im(mi)},useDebugValue:lm,useDeferredValue:function(n,s){var o=Et();return rt===null?cm(o,n,s):n_(o,rt.memoizedState,n,s)},useTransition:function(){var n=im(mi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Zl(n),s]},useSyncExternalStore:Ov,useId:a_,useHostTransitionStatus:hm,useFormState:Gv,useActionState:Gv,useOptimistic:function(n,s){var o=Et();return rt!==null?Vv(o,rt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:nm,useCacheRefresh:o_};d_.useEffectEvent=Yv;function mm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:w({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var pm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Vn(),f=ns(u);f.payload=s,o!=null&&(f.callback=o),s=rs(n,f,u),s!==null&&(An(s,n,u),Yl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Vn(),f=ns(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=rs(n,f,u),s!==null&&(An(s,n,u),Yl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Vn(),u=ns(o);u.tag=2,s!=null&&(u.callback=s),s=rs(n,u,o),s!==null&&(An(s,n,o),Yl(s,n,o))}};function f_(n,s,o,u,f,y,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,b):s.prototype&&s.prototype.isPureReactComponent?!zl(o,u)||!zl(f,y):!0}function m_(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&pm.enqueueReplaceState(s,s.state,null)}function ga(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=w({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function p_(n){Lu(n)}function g_(n){console.error(n)}function y_(n){Lu(n)}function lh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function v_(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gm(n,s,o){return o=ns(o),o.tag=3,o.payload={element:null},o.callback=function(){lh(n,s)},o}function __(n){return n=ns(n),n.tag=3,n}function b_(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;n.payload=function(){return f(y)},n.callback=function(){v_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){v_(s,o,u),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function FR(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&oo(s,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 31:case 13:return tr===null?bh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Yu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),zm(n,u,f)),!1;case 22:return o.flags|=65536,u===Yu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),zm(n,u,f)),!1}throw Error(i(435,o.tag))}return zm(n,u,f),bh(),!1}if(He)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Pf&&(n=Error(i(422),{cause:u}),Hl(Jn(n,o)))):(u!==Pf&&(s=Error(i(423),{cause:u}),Hl(Jn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Jn(u,o),f=gm(n.stateNode,u,f),Gf(n,f),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:u});if(y=Jn(y,o),cc===null?cc=[y]:cc.push(y),vt!==4&&(vt=2),s===null)return!0;u=Jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=gm(o.stateNode,u,n),Gf(o,n),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(cs===null||!cs.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=__(f),b_(f,n,o,u),Gf(o,f),!1}o=o.return}while(o!==null);return!1}var ym=Error(i(461)),kt=!1;function tn(n,s,o,u){s.child=n===null?Sv(s,null,o,u):ma(s,n.child,o,u)}function w_(n,s,o,u,f){o=o.render;var y=s.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return ua(s),u=Xf(n,s,o,b,y,f),S=Zf(),n!==null&&!kt?(em(n,s,f),pi(n,s,f)):(He&&S&&kf(s),s.flags|=1,tn(n,s,u,f),s.child)}function E_(n,s,o,u,f){if(n===null){var y=o.type;return typeof y=="function"&&!Nf(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,T_(n,s,y,u,f)):(n=Fu(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Am(n,f)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(b,u)&&n.ref===s.ref)return pi(n,s,f)}return s.flags|=1,n=ci(y,u),n.ref=s.ref,n.return=s,s.child=n}function T_(n,s,o,u,f){if(n!==null){var y=n.memoizedProps;if(zl(y,u)&&n.ref===s.ref)if(kt=!1,s.pendingProps=u=y,Am(n,f))(n.flags&131072)!==0&&(kt=!0);else return s.lanes=n.lanes,pi(n,s,f)}return vm(n,s,o,u,f)}function S_(n,s,o,u){var f=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~y}else u=0,s.child=null;return A_(n,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ku(s,y!==null?y.cachePool:null),y!==null?Cv(s,y):Qf(),xv(s);else return u=s.lanes=536870912,A_(n,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Ku(s,y.cachePool),Cv(s,y),ss(),s.memoizedState=null):(n!==null&&Ku(s,null),Qf(),ss());return tn(n,s,f,o),s.child}function nc(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A_(n,s,o,u,f){var y=qf();return y=y===null?null:{parent:Ot._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},n!==null&&Ku(s,null),Qf(),xv(s),n!==null&&oo(n,s,u,!0),s.childLanes=f,null}function ch(n,s){return s=hh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function R_(n,s,o){return ma(s,n.child,null,o),n=ch(s,s.pendingProps),n.flags|=2,Dn(s),s.memoizedState=null,n}function HR(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=ch(s,u),s.lanes=536870912,nc(null,n);if(Wf(s),(n=ct)?(n=U0(n,er),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ji!==null?{id:Gr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},o=cv(n),o.return=s,s.child=o,Zt=s,ct=null)):n=null,n===null)throw Zi(s);return s.lanes=536870912,null}return ch(s,u)}var y=n.memoizedState;if(y!==null){var b=y.dehydrated;if(Wf(s),f)if(s.flags&256)s.flags&=-257,s=R_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(kt||oo(n,s,o,!1),f=(o&n.childLanes)!==0,kt||f){if(u=at,u!==null&&(b=Tl(u,o),b!==0&&b!==y.retryLane))throw y.retryLane=b,aa(n,b),An(u,n,b),ym;bh(),s=R_(n,s,o)}else n=y.treeContext,ct=nr(b.nextSibling),Zt=s,He=!0,Xi=null,er=!1,n!==null&&dv(s,n),s=ch(s,u),s.flags|=4096;return s}return n=ci(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function uh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function vm(n,s,o,u,f){return ua(s),o=Xf(n,s,o,u,void 0,f),u=Zf(),n!==null&&!kt?(em(n,s,f),pi(n,s,f)):(He&&u&&kf(s),s.flags|=1,tn(n,s,o,f),s.child)}function C_(n,s,o,u,f,y){return ua(s),s.updateQueue=null,o=Nv(s,u,o,f),Iv(n),u=Zf(),n!==null&&!kt?(em(n,s,y),pi(n,s,y)):(He&&u&&kf(s),s.flags|=1,tn(n,s,o,y),s.child)}function x_(n,s,o,u,f){if(ua(s),s.stateNode===null){var y=ro,b=o.contextType;typeof b=="object"&&b!==null&&(y=en(b)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Hf(s),b=o.contextType,y.context=typeof b=="object"&&b!==null?en(b):ro,y.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(mm(s,o,b,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&pm.enqueueReplaceState(y,y.state,null),Jl(s,u,y,f),Wl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var S=s.memoizedProps,M=ga(o,S);y.props=M;var K=y.context,ee=o.contextType;b=ro,typeof ee=="object"&&ee!==null&&(b=en(ee));var ne=o.getDerivedStateFromProps;ee=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==b)&&m_(s,y,u,b),ts=!1;var Y=s.memoizedState;y.state=Y,Jl(s,u,y,f),Wl(),K=s.memoizedState,S||Y!==K||ts?(typeof ne=="function"&&(mm(s,o,ne,u),K=s.memoizedState),(M=ts||f_(s,o,M,u,Y,K,b))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),y.props=u,y.state=K,y.context=b,u=M):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,$f(n,s),b=s.memoizedProps,ee=ga(o,b),y.props=ee,ne=s.pendingProps,Y=y.context,K=o.contextType,M=ro,typeof K=="object"&&K!==null&&(M=en(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==ne||Y!==M)&&m_(s,y,u,M),ts=!1,Y=s.memoizedState,y.state=Y,Jl(s,u,y,f),Wl();var J=s.memoizedState;b!==ne||Y!==J||ts||n!==null&&n.dependencies!==null&&$u(n.dependencies)?(typeof S=="function"&&(mm(s,o,S,u),J=s.memoizedState),(ee=ts||f_(s,o,ee,u,Y,J,M)||n!==null&&n.dependencies!==null&&$u(n.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,M)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),y.props=u,y.state=J,y.context=M,u=ee):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,uh(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=ma(s,n.child,null,f),s.child=ma(s,null,o,f)):tn(n,s,o,f),s.memoizedState=y.state,n=s.child):n=pi(n,s,f),n}function I_(n,s,o,u){return la(),s.flags|=256,tn(n,s,o,u),s.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(n){return{baseLanes:n,cachePool:vv()}}function wm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Mn),n}function N_(n,s,o){var u=s.pendingProps,f=!1,y=(s.flags&128)!==0,b;if((b=y)||(b=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?is(s):ss(),(n=ct)?(n=U0(n,er),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ji!==null?{id:Gr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},o=cv(n),o.return=s,s.child=o,Zt=s,ct=null)):n=null,n===null)throw Zi(s);return rp(n)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ss(),f=s.mode,S=hh({mode:"hidden",children:S},f),u=oa(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=bm(o),u.childLanes=wm(n,b,o),s.memoizedState=_m,nc(null,u)):(is(s),Em(s,S))}var M=n.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(y)s.flags&256?(is(s),s.flags&=-257,s=Tm(n,s,o)):s.memoizedState!==null?(ss(),s.child=n.child,s.flags|=128,s=null):(ss(),S=u.fallback,f=s.mode,u=hh({mode:"visible",children:u.children},f),S=oa(S,f,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,ma(s,n.child,null,o),u=s.child,u.memoizedState=bm(o),u.childLanes=wm(n,b,o),s.memoizedState=_m,s=nc(null,u));else if(is(s),rp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var K=b.dgst;b=K,u=Error(i(419)),u.stack="",u.digest=b,Hl({value:u,source:null,stack:null}),s=Tm(n,s,o)}else if(kt||oo(n,s,o,!1),b=(o&n.childLanes)!==0,kt||b){if(b=at,b!==null&&(u=Tl(b,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,aa(n,u),An(b,n,u),ym;np(S)||bh(),s=Tm(n,s,o)}else np(S)?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,ct=nr(S.nextSibling),Zt=s,He=!0,Xi=null,er=!1,n!==null&&dv(s,n),s=Em(s,u.children),s.flags|=4096);return s}return f?(ss(),S=u.fallback,f=s.mode,M=n.child,K=M.sibling,u=ci(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?S=ci(K,S):(S=oa(S,f,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,nc(null,u),u=s.child,S=n.child.memoizedState,S===null?S=bm(o):(f=S.cachePool,f!==null?(M=Ot._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=vv(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=wm(n,b,o),s.memoizedState=_m,nc(n.child,u)):(is(s),o=n.child,n=o.sibling,o=ci(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=o,s.memoizedState=null,o)}function Em(n,s){return s=hh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function hh(n,s){return n=jn(22,n,null,s),n.lanes=0,n}function Tm(n,s,o){return ma(s,n.child,null,o),n=Em(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function O_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Uf(n.return,s,o)}function Sm(n,s,o,u,f,y){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=y)}function j_(n,s,o){var u=s.pendingProps,f=u.revealOrder,y=u.tail;u=u.children;var b=wt.current,S=(b&2)!==0;if(S?(b=b&1|2,s.flags|=128):b&=1,le(wt,b),tn(n,s,u,o),u=He?Fl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&O_(n,o,s);else if(n.tag===19)O_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Zu(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Sm(s,!1,f,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Zu(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Sm(s,!0,o,null,y,u);break;case"together":Sm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function pi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ls|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(oo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=ci(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ci(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Am(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&$u(n)))}function $R(n,s,o){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),es(s,Ot,n.memoizedState.cache),la();break;case 27:case 5:vn(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:es(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Wf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(is(s),s.flags|=128,null):(o&s.child.childLanes)!==0?N_(n,s,o):(is(s),n=pi(n,s,o),n!==null?n.sibling:null);is(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(oo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return j_(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(wt,wt.current),u)break;return null;case 22:return s.lanes=0,S_(n,s,o,s.pendingProps);case 24:es(s,Ot,n.memoizedState.cache)}return pi(n,s,o)}function k_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)kt=!0;else{if(!Am(n,o)&&(s.flags&128)===0)return kt=!1,$R(n,s,o);kt=(n.flags&131072)!==0}else kt=!1,He&&(s.flags&1048576)!==0&&hv(s,Fl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=da(s.elementType),s.type=n,typeof n=="function")Nf(n)?(u=ga(n,u),s.tag=1,s=x_(null,s,n,u,o)):(s.tag=0,s=vm(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===Z){s.tag=11,s=w_(null,s,n,u,o);break e}else if(f===x){s.tag=14,s=E_(null,s,n,u,o);break e}}throw s=Je(n)||n,Error(i(306,s,""))}}return s;case 0:return vm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ga(u,s.pendingProps),x_(n,s,u,f,o);case 3:e:{if(Te(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;f=y.element,$f(n,s),Jl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,es(s,Ot,u),u!==y.cache&&Lf(s,[Ot],o,!0),Wl(),u=b.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=I_(n,s,u,o);break e}else if(u!==f){f=Jn(Error(i(424)),s),Hl(f),s=I_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=nr(n.firstChild),Zt=s,He=!0,Xi=null,er=!0,o=Sv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(la(),u===f){s=pi(n,s,o);break e}tn(n,s,u,o)}s=s.child}return s;case 26:return uh(n,s),n===null?(o=H0(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=Ch(ie.current).createElement(o),u[xt]=s,u[Gt]=n,nn(u,o,n),It(u),s.stateNode=u):s.memoizedState=H0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return vn(s),n===null&&He&&(u=s.stateNode=z0(s.type,s.pendingProps,ie.current),Zt=s,er=!0,f=ct,fs(s.type)?(ip=f,ct=nr(u.firstChild)):ct=f),tn(n,s,s.pendingProps.children,o),uh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=ct)&&(u=w1(u,s.type,s.pendingProps,er),u!==null?(s.stateNode=u,Zt=s,ct=nr(u.firstChild),er=!1,f=!0):f=!1),f||Zi(s)),vn(s),f=s.type,y=s.pendingProps,b=n!==null?n.memoizedProps:null,u=y.children,Zm(f,y)?u=null:b!==null&&Zm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Xf(n,s,MR,null,null,o),yc._currentValue=f),uh(n,s),tn(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=ct)&&(o=E1(o,s.pendingProps,er),o!==null?(s.stateNode=o,Zt=s,ct=null,n=!0):n=!1),n||Zi(s)),null;case 13:return N_(n,s,o);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ma(s,null,u,o):tn(n,s,u,o),s.child;case 11:return w_(n,s,s.type,s.pendingProps,o);case 7:return tn(n,s,s.pendingProps,o),s.child;case 8:return tn(n,s,s.pendingProps.children,o),s.child;case 12:return tn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,es(s,s.type,u.value),tn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ua(s),f=en(f),u=u(f),s.flags|=1,tn(n,s,u,o),s.child;case 14:return E_(n,s,s.type,s.pendingProps,o);case 15:return T_(n,s,s.type,s.pendingProps,o);case 19:return j_(n,s,o);case 31:return HR(n,s,o);case 22:return S_(n,s,o,s.pendingProps);case 24:return ua(s),u=en(Ot),n===null?(f=qf(),f===null&&(f=at,y=Bf(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),s.memoizedState={parent:u,cache:f},Hf(s),es(s,Ot,f)):((n.lanes&o)!==0&&($f(n,s),Jl(s,null,null,o),Wl()),f=n.memoizedState,y=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),es(s,Ot,u)):(u=y.cache,es(s,Ot,u),u!==f.cache&&Lf(s,[Ot],o,!0))),tn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function gi(n){n.flags|=4}function Rm(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(a0())n.flags|=8192;else throw fa=Yu,Ff}else n.flags&=-16777217}function D_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Y0(s))if(a0())n.flags|=8192;else throw fa=Yu,Ff}function dh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?vu():536870912,n.lanes|=s,bo|=s)}function rc(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ut(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function GR(n,s,o){var u=s.pendingProps;switch(Df(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),di(Ot),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ao(s)?gi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mf())),ut(s),null;case 26:var f=s.type,y=s.memoizedState;return n===null?(gi(s),y!==null?(ut(s),D_(s,y)):(ut(s),Rm(s,f,null,u,o))):y?y!==n.memoizedState?(gi(s),ut(s),D_(s,y)):(ut(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&gi(s),ut(s),Rm(s,f,n,u,o)),null;case 27:if(Wt(s),o=ie.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ut(s),null}n=he.current,ao(s)?fv(s):(n=z0(f,u,o),s.stateNode=n,gi(s))}return ut(s),null;case 5:if(Wt(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(y=he.current,ao(s))fv(s);else{var b=Ch(ie.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}y[xt]=s,y[Gt]=u;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=y;e:switch(nn(y,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gi(s)}}return ut(s),Rm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&gi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ie.current,ao(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[xt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||N0(n.nodeValue,o)),n||Zi(s,!0)}else n=Ch(n).createTextNode(u),n[xt]=s,s.stateNode=n}return ut(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=ao(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[xt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),n=!1}else o=Mf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Dn(s),s):(Dn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ut(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ao(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[xt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),f=!1}else f=Mf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Dn(s),s):(Dn(s),null)}return Dn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),dh(s,s.updateQueue),ut(s),null);case 4:return Ge(),n===null&&Qm(s.stateNode.containerInfo),ut(s),null;case 10:return di(s.type),ut(s),null;case 19:if(X(wt),u=s.memoizedState,u===null)return ut(s),null;if(f=(s.flags&128)!==0,y=u.rendering,y===null)if(f)rc(u,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Zu(n),y!==null){for(s.flags|=128,rc(u,!1),n=y.updateQueue,s.updateQueue=n,dh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)lv(o,n),o=o.sibling;return le(wt,wt.current&1|2),He&&ui(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&mn()>yh&&(s.flags|=128,f=!0,rc(u,!1),s.lanes=4194304)}else{if(!f)if(n=Zu(y),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,dh(s,n),rc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!He)return ut(s),null}else 2*mn()-u.renderingStartTime>yh&&o!==536870912&&(s.flags|=128,f=!0,rc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=mn(),n.sibling=null,o=wt.current,le(wt,f?o&1|2:o&1),He&&ui(s,u.treeForkCount),n):(ut(s),null);case 22:case 23:return Dn(s),Yf(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&dh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&X(ha),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),di(Ot),ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function KR(n,s){switch(Df(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return di(Ot),Ge(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 31:if(s.memoizedState!==null){if(Dn(s),s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(wt),null;case 4:return Ge(),null;case 10:return di(s.type),null;case 22:case 23:return Dn(s),Yf(),n!==null&&X(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return di(Ot),null;case 25:return null;default:return null}}function P_(n,s){switch(Df(s),s.tag){case 3:di(Ot),Ge();break;case 26:case 27:case 5:Wt(s);break;case 4:Ge();break;case 31:s.memoizedState!==null&&Dn(s);break;case 13:Dn(s);break;case 19:X(wt);break;case 10:di(s.type);break;case 22:case 23:Dn(s),Yf(),n!==null&&X(ha);break;case 24:di(Ot)}}function ic(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var y=o.create,b=o.inst;u=y(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){tt(s,s.return,S)}}function as(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&n)===n){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=s;var M=o,K=S;try{K()}catch(ee){tt(f,M,ee)}}}u=u.next}while(u!==y)}}catch(ee){tt(s,s.return,ee)}}function M_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{Rv(s,o)}catch(u){tt(n,n.return,u)}}}function V_(n,s,o){o.props=ga(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function sc(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function Qr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function U_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Cm(n,s,o){try{var u=n.stateNode;p1(u,n.type,o,s),u[Gt]=s}catch(f){tt(n,n.return,f)}}function L_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fs(n.type)||n.tag===4}function xm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||L_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Im(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hr));else if(u!==4&&(u===27&&fs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Im(n,s,o),n=n.sibling;n!==null;)Im(n,s,o),n=n.sibling}function fh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&fs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(fh(n,s,o),n=n.sibling;n!==null;)fh(n,s,o),n=n.sibling}function B_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);nn(s,u,o),s[xt]=n,s[Gt]=o}catch(y){tt(n,n.return,y)}}var yi=!1,Dt=!1,Nm=!1,z_=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function QR(n,s){if(n=n.containerInfo,Jm=Dh,n=Zy(n),Tf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,S=-1,M=-1,K=0,ee=0,ne=n,Y=null;t:for(;;){for(var J;ne!==o||f!==0&&ne.nodeType!==3||(S=b+f),ne!==y||u!==0&&ne.nodeType!==3||(M=b+u),ne.nodeType===3&&(b+=ne.nodeValue.length),(J=ne.firstChild)!==null;)Y=ne,ne=J;for(;;){if(ne===n)break t;if(Y===o&&++K===f&&(S=b),Y===y&&++ee===u&&(M=b),(J=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=J}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xm={focusedElem:n,selectionRange:o},Dh=!1,Qt=s;Qt!==null;)if(s=Qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qt=n;else for(;Qt!==null;){switch(s=Qt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=s,f=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var pe=ga(o.type,f);n=u.getSnapshotBeforeUpdate(pe,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){tt(o,o.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)tp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":tp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Qt=n;break}Qt=s.return}}function q_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_i(n,o),u&4&&ic(5,o);break;case 1:if(_i(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(b){tt(o,o.return,b)}else{var f=ga(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(o,o.return,b)}}u&64&&M_(o),u&512&&sc(o,o.return);break;case 3:if(_i(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Rv(n,s)}catch(b){tt(o,o.return,b)}}break;case 27:s===null&&u&4&&B_(o);case 26:case 5:_i(n,o),s===null&&u&4&&U_(o),u&512&&sc(o,o.return);break;case 12:_i(n,o);break;case 31:_i(n,o),u&4&&$_(n,o);break;case 13:_i(n,o),u&4&&G_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=r1.bind(null,o),T1(n,o))));break;case 22:if(u=o.memoizedState!==null||yi,!u){s=s!==null&&s.memoizedState!==null||Dt,f=yi;var y=Dt;yi=u,(Dt=s)&&!y?bi(n,o,(o.subtreeFlags&8772)!==0):_i(n,o),yi=f,Dt=y}break;case 30:break;default:_i(n,o)}}function F_(n){var s=n.alternate;s!==null&&(n.alternate=null,F_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Fa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,wn=!1;function vi(n,s,o){for(o=o.child;o!==null;)H_(n,s,o),o=o.sibling}function H_(n,s,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(or,o)}catch{}switch(o.tag){case 26:Dt||Qr(o,s),vi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Qr(o,s);var u=ft,f=wn;fs(o.type)&&(ft=o.stateNode,wn=!1),vi(n,s,o),mc(o.stateNode),ft=u,wn=f;break;case 5:Dt||Qr(o,s);case 6:if(u=ft,f=wn,ft=null,vi(n,s,o),ft=u,wn=f,ft!==null)if(wn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(y){tt(o,s,y)}else try{ft.removeChild(o.stateNode)}catch(y){tt(o,s,y)}break;case 18:ft!==null&&(wn?(n=ft,M0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),xo(n)):M0(ft,o.stateNode));break;case 4:u=ft,f=wn,ft=o.stateNode.containerInfo,wn=!0,vi(n,s,o),ft=u,wn=f;break;case 0:case 11:case 14:case 15:as(2,o,s),Dt||as(4,o,s),vi(n,s,o);break;case 1:Dt||(Qr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&V_(o,s,u)),vi(n,s,o);break;case 21:vi(n,s,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,vi(n,s,o),Dt=u;break;default:vi(n,s,o)}}function $_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{xo(n)}catch(o){tt(s,s.return,o)}}}function G_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xo(n)}catch(o){tt(s,s.return,o)}}function YR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new z_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new z_),s;default:throw Error(i(435,n.tag))}}function mh(n,s){var o=YR(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=i1.bind(null,n,u);u.then(f,f)}})}function En(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],y=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(fs(S.type)){ft=S.stateNode,wn=!1;break e}break;case 5:ft=S.stateNode,wn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));H_(y,b,f),ft=null,wn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)K_(s,n),s=s.sibling}var yr=null;function K_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(s,n),Tn(n),u&4&&(as(3,n,n.return),ic(3,n),as(5,n,n.return));break;case 1:En(s,n),Tn(n),u&512&&(Dt||o===null||Qr(o,o.return)),u&64&&yi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=yr;if(En(s,n),Tn(n),u&512&&(Dt||o===null||Qr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Dr]||y[xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),nn(y,u,o),y[xt]=n,It(y),u=y;break e;case"link":var b=K0("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(y=b[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}y=f.createElement(u),nn(y,u,o),f.head.appendChild(y);break;case"meta":if(b=K0("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(y=b[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}y=f.createElement(u),nn(y,u,o),f.head.appendChild(y);break;default:throw Error(i(468,u))}y[xt]=n,It(y),u=y}n.stateNode=u}else Q0(f,n.type,n.stateNode);else n.stateNode=G0(f,u,n.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Q0(f,n.type,n.stateNode):G0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Cm(n,n.memoizedProps,o.memoizedProps)}break;case 27:En(s,n),Tn(n),u&512&&(Dt||o===null||Qr(o,o.return)),o!==null&&u&4&&Cm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(En(s,n),Tn(n),u&512&&(Dt||o===null||Qr(o,o.return)),n.flags&32){f=n.stateNode;try{bn(f,"")}catch(pe){tt(n,n.return,pe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Cm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Nm=!0);break;case 6:if(En(s,n),Tn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(pe){tt(n,n.return,pe)}}break;case 3:if(Nh=null,f=yr,yr=xh(s.containerInfo),En(s,n),yr=f,Tn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(s.containerInfo)}catch(pe){tt(n,n.return,pe)}Nm&&(Nm=!1,Q_(n));break;case 4:u=yr,yr=xh(n.stateNode.containerInfo),En(s,n),Tn(n),yr=u;break;case 12:En(s,n),Tn(n);break;case 31:En(s,n),Tn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 13:En(s,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gh=mn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 22:f=n.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=yi,ee=Dt;if(yi=K||f,Dt=ee||M,En(s,n),Dt=ee,yi=K,Tn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||M||yi||Dt||ya(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(y=M.stateNode,f)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=M.stateNode;var ne=M.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===18){if(o===null){M=s;try{var J=M.stateNode;f?V0(J,!0):V0(M.stateNode,!1)}catch(pe){tt(M,M.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mh(n,o))));break;case 19:En(s,n),Tn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 30:break;case 21:break;default:En(s,n),Tn(n)}}function Tn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(L_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,y=xm(n);fh(n,y,f);break;case 5:var b=o.stateNode;o.flags&32&&(bn(b,""),o.flags&=-33);var S=xm(n);fh(n,S,b);break;case 3:case 4:var M=o.stateNode.containerInfo,K=xm(n);Im(n,K,M);break;default:throw Error(i(161))}}catch(ee){tt(n,n.return,ee)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Q_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Q_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function _i(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)q_(n,s.alternate,s),s=s.sibling}function ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:as(4,s,s.return),ya(s);break;case 1:Qr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&V_(s,s.return,o),ya(s);break;case 27:mc(s.stateNode);case 26:case 5:Qr(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}n=n.sibling}}function bi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,y=s,b=y.flags;switch(y.tag){case 0:case 11:case 15:bi(f,y,o),ic(4,y);break;case 1:if(bi(f,y,o),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){tt(u,u.return,K)}if(u=y,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Av(M[f],S)}catch(K){tt(u,u.return,K)}}o&&b&64&&M_(y),sc(y,y.return);break;case 27:B_(y);case 26:case 5:bi(f,y,o),o&&u===null&&b&4&&U_(y),sc(y,y.return);break;case 12:bi(f,y,o);break;case 31:bi(f,y,o),o&&b&4&&$_(f,y);break;case 13:bi(f,y,o),o&&b&4&&G_(f,y);break;case 22:y.memoizedState===null&&bi(f,y,o),sc(y,y.return);break;case 30:break;default:bi(f,y,o)}s=s.sibling}}function Om(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&$l(o))}function jm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n))}function vr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Y_(n,s,o,u),s=s.sibling}function Y_(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:vr(n,s,o,u),f&2048&&ic(9,s);break;case 1:vr(n,s,o,u);break;case 3:vr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n)));break;case 12:if(f&2048){vr(n,s,o,u),n=s.stateNode;try{var y=s.memoizedProps,b=y.id,S=y.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){tt(s,s.return,M)}}else vr(n,s,o,u);break;case 31:vr(n,s,o,u);break;case 13:vr(n,s,o,u);break;case 23:break;case 22:y=s.stateNode,b=s.alternate,s.memoizedState!==null?y._visibility&2?vr(n,s,o,u):ac(n,s):y._visibility&2?vr(n,s,o,u):(y._visibility|=2,yo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Om(b,s);break;case 24:vr(n,s,o,u),f&2048&&jm(s.alternate,s);break;default:vr(n,s,o,u)}}function yo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,b=s,S=o,M=u,K=b.flags;switch(b.tag){case 0:case 11:case 15:yo(y,b,S,M,f),ic(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?yo(y,b,S,M,f):ac(y,b):(ee._visibility|=2,yo(y,b,S,M,f)),f&&K&2048&&Om(b.alternate,b);break;case 24:yo(y,b,S,M,f),f&&K&2048&&jm(b.alternate,b);break;default:yo(y,b,S,M,f)}s=s.sibling}}function ac(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:ac(o,u),f&2048&&Om(u.alternate,u);break;case 24:ac(o,u),f&2048&&jm(u.alternate,u);break;default:ac(o,u)}s=s.sibling}}var oc=8192;function vo(n,s,o){if(n.subtreeFlags&oc)for(n=n.child;n!==null;)W_(n,s,o),n=n.sibling}function W_(n,s,o){switch(n.tag){case 26:vo(n,s,o),n.flags&oc&&n.memoizedState!==null&&P1(o,yr,n.memoizedState,n.memoizedProps);break;case 5:vo(n,s,o);break;case 3:case 4:var u=yr;yr=xh(n.stateNode.containerInfo),vo(n,s,o),yr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=oc,oc=16777216,vo(n,s,o),oc=u):vo(n,s,o));break;default:vo(n,s,o)}}function J_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function lc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Qt=u,Z_(u,n)}J_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X_(n),n=n.sibling}function X_(n){switch(n.tag){case 0:case 11:case 15:lc(n),n.flags&2048&&as(9,n,n.return);break;case 3:lc(n);break;case 12:lc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ph(n)):lc(n);break;default:lc(n)}}function ph(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Qt=u,Z_(u,n)}J_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:as(8,s,s.return),ph(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ph(s));break;default:ph(s)}n=n.sibling}}function Z_(n,s){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:as(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qt=u;else e:for(o=n;Qt!==null;){u=Qt;var f=u.sibling,y=u.return;if(F_(u),u===o){Qt=null;break e}if(f!==null){f.return=y,Qt=f;break e}Qt=y}}}var WR={getCacheForType:function(n){var s=en(Ot),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return en(Ot).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Ve=null,Le=0,et=0,Pn=null,os=!1,_o=!1,km=!1,wi=0,vt=0,ls=0,va=0,Dm=0,Mn=0,bo=0,cc=null,Sn=null,Pm=!1,gh=0,e0=0,yh=1/0,vh=null,cs=null,zt=0,us=null,wo=null,Ei=0,Mm=0,Vm=null,t0=null,uc=0,Um=null;function Vn(){return(We&2)!==0&&Le!==0?Le&-Le:Q.T!==null?Hm():_u()}function n0(){if(Mn===0)if((Le&536870912)===0||He){var n=$s;$s<<=1,($s&3932160)===0&&($s=262144),Mn=n}else Mn=536870912;return n=kn.current,n!==null&&(n.flags|=32),Mn}function An(n,s,o){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),hs(n,Le,Mn,!1)),Gs(n,o),((We&2)===0||n!==at)&&(n===at&&((We&2)===0&&(va|=o),vt===4&&hs(n,Le,Mn,!1)),Yr(n))}function r0(n,s,o){if((We&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||lr(n,s),f=u?e1(n,s):Bm(n,s,!0),y=u;do{if(f===0){_o&&!u&&hs(n,s,0,!1);break}else{if(o=n.current.alternate,y&&!XR(o)){f=Bm(n,s,!1),y=!1;continue}if(f===2){if(y=s,n.errorRecoveryDisabledLanes&y)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;f=cc;var M=S.current.memoizedState.isDehydrated;if(M&&(Eo(S,b).flags|=256),b=Bm(S,b,!1),b!==2){if(km&&!M){S.errorRecoveryDisabledLanes|=y,va|=y,f=4;break e}y=Sn,Sn=f,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}f=b}if(y=!1,f!==2)continue}}if(f===1){Eo(n,0),hs(n,s,0,!0);break}e:{switch(u=n,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:hs(u,s,Mn,!os);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=gh+300-mn(),10<f)){if(hs(u,s,Mn,!os),Or(u,0,!0)!==0)break e;Ei=s,u.timeoutHandle=D0(i0.bind(null,u,o,Sn,vh,Pm,s,Mn,va,bo,os,y,"Throttled",-0,0),f);break e}i0(u,o,Sn,vh,Pm,s,Mn,va,bo,os,y,null,-0,0)}}break}while(!0);Yr(n)}function i0(n,s,o,u,f,y,b,S,M,K,ee,ne,Y,J){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},W_(s,y,ne);var pe=(y&62914560)===y?gh-mn():(y&4194048)===y?e0-mn():0;if(pe=M1(ne,pe),pe!==null){Ei=y,n.cancelPendingCommit=pe(d0.bind(null,n,s,y,o,u,f,b,S,M,ee,ne,null,Y,J)),hs(n,y,b,!K);return}}d0(n,s,y,o,u,f,b,S,M)}function XR(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],y=f.getSnapshot;f=f.value;try{if(!On(y(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(n,s,o,u){s&=~Dm,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var y=31-_t(f),b=1<<y;u[y]=-1,f&=~b}o!==0&&Ks(n,o,s)}function _h(){return(We&6)===0?(hc(0),!1):!0}function Lm(){if(Ve!==null){if(et===0)var n=Ve.return;else n=Ve,hi=ca=null,tm(n),ho=null,Kl=0,n=Ve;for(;n!==null;)P_(n.alternate,n),n=n.return;Ve=null}}function Eo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,v1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ei=0,Lm(),at=n,Ve=o=ci(n.current,null),Le=s,et=0,Pn=null,os=!1,_o=lr(n,s),km=!1,bo=Mn=Dm=va=ls=vt=0,Sn=cc=null,Pm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-_t(u),y=1<<f;s|=n[f],u&=~y}return wi=s,Bu(),o}function s0(n,s){ke=null,Q.H=tc,s===uo||s===Qu?(s=wv(),et=3):s===Ff?(s=wv(),et=4):et=s===ym?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ve===null&&(vt=1,lh(n,Jn(s,n.current)))}function a0(){var n=kn.current;return n===null?!0:(Le&4194048)===Le?tr===null:(Le&62914560)===Le||(Le&536870912)!==0?n===tr:!1}function o0(){var n=Q.H;return Q.H=tc,n===null?tc:n}function l0(){var n=Q.A;return Q.A=WR,n}function bh(){vt=4,os||(Le&4194048)!==Le&&kn.current!==null||(_o=!0),(ls&134217727)===0&&(va&134217727)===0||at===null||hs(at,Le,Mn,!1)}function Bm(n,s,o){var u=We;We|=2;var f=o0(),y=l0();(at!==n||Le!==s)&&(vh=null,Eo(n,s)),s=!1;var b=vt;e:do try{if(et!==0&&Ve!==null){var S=Ve,M=Pn;switch(et){case 8:Lm(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var K=et;if(et=0,Pn=null,To(n,S,M,K),o&&_o){b=0;break e}break;default:K=et,et=0,Pn=null,To(n,S,M,K)}}ZR(),b=vt;break}catch(ee){s0(n,ee)}while(!0);return s&&n.shellSuspendCounter++,hi=ca=null,We=u,Q.H=f,Q.A=y,Ve===null&&(at=null,Le=0,Bu()),b}function ZR(){for(;Ve!==null;)c0(Ve)}function e1(n,s){var o=We;We|=2;var u=o0(),f=l0();at!==n||Le!==s?(vh=null,yh=mn()+500,Eo(n,s)):_o=lr(n,s);e:do try{if(et!==0&&Ve!==null){s=Ve;var y=Pn;t:switch(et){case 1:et=0,Pn=null,To(n,s,y,1);break;case 2:case 9:if(_v(y)){et=0,Pn=null,u0(s);break}s=function(){et!==2&&et!==9||at!==n||(et=7),Yr(n)},y.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:_v(y)?(et=0,Pn=null,u0(s)):(et=0,Pn=null,To(n,s,y,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var S=Ve;if(b?Y0(b):S.stateNode.complete){et=0,Pn=null;var M=S.sibling;if(M!==null)Ve=M;else{var K=S.return;K!==null?(Ve=K,wh(K)):Ve=null}break t}}et=0,Pn=null,To(n,s,y,5);break;case 6:et=0,Pn=null,To(n,s,y,6);break;case 8:Lm(),vt=6;break e;default:throw Error(i(462))}}t1();break}catch(ee){s0(n,ee)}while(!0);return hi=ca=null,Q.H=u,Q.A=f,We=o,Ve!==null?0:(at=null,Le=0,Bu(),vt)}function t1(){for(;Ve!==null&&!gf();)c0(Ve)}function c0(n){var s=k_(n.alternate,n,wi);n.memoizedProps=n.pendingProps,s===null?wh(n):Ve=s}function u0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=C_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=C_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:tm(s);default:P_(o,s),s=Ve=lv(s,wi),s=k_(o,s,wi)}n.memoizedProps=n.pendingProps,s===null?wh(n):Ve=s}function To(n,s,o,u){hi=ca=null,tm(s),ho=null,Kl=0;var f=s.return;try{if(FR(n,f,s,o,Le)){vt=1,lh(n,Jn(o,n.current)),Ve=null;return}}catch(y){if(f!==null)throw Ve=f,y;vt=1,lh(n,Jn(o,n.current)),Ve=null;return}s.flags&32768?(He||u===1?n=!0:_o||(Le&536870912)!==0?n=!1:(os=n=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),h0(s,n)):wh(s)}function wh(n){var s=n;do{if((s.flags&32768)!==0){h0(s,os);return}n=s.return;var o=GR(s.alternate,s,wi);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=n}while(s!==null);vt===0&&(vt=5)}function h0(n,s){do{var o=KR(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);vt=6,Ve=null}function d0(n,s,o,u,f,y,b,S,M){n.cancelPendingCommit=null;do Eh();while(zt!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=xf,_f(n,o,y,b,S,M),n===at&&(Ve=at=null,Le=0),wo=s,us=n,Ei=o,Mm=y,Vm=f,t0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,s1(zi,function(){return y0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=oe.p,oe.p=2,b=We,We|=4;try{QR(n,s,o)}finally{We=b,oe.p=f,Q.T=u}}zt=1,f0(),m0(),p0()}}function f0(){if(zt===1){zt=0;var n=us,s=wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=oe.p;oe.p=2;var f=We;We|=4;try{K_(s,n);var y=Xm,b=Zy(n.containerInfo),S=y.focusedElem,M=y.selectionRange;if(b!==S&&S&&S.ownerDocument&&Xy(S.ownerDocument.documentElement,S)){if(M!==null&&Tf(S)){var K=M.start,ee=M.end;if(ee===void 0&&(ee=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ee,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),pe=S.textContent.length,Ae=Math.min(M.start,pe),st=M.end===void 0?Ae:Math.min(M.end,pe);!J.extend&&Ae>st&&(b=st,st=Ae,Ae=b);var H=Jy(S,Ae),L=Jy(S,st);if(H&&L&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(H.node,H.offset),J.removeAllRanges(),Ae>st?(J.addRange(G),J.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),J.addRange(G))}}}}for(ne=[],J=S;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Dh=!!Jm,Xm=Jm=null}finally{We=f,oe.p=u,Q.T=o}}n.current=s,zt=2}}function m0(){if(zt===2){zt=0;var n=us,s=wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=oe.p;oe.p=2;var f=We;We|=4;try{q_(n,s.alternate,s)}finally{We=f,oe.p=u,Q.T=o}}zt=3}}function p0(){if(zt===4||zt===3){zt=0,du();var n=us,s=wo,o=Ei,u=t0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,wo=us=null,g0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(cs=null),si(o),s=s.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(or,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var y=n.onRecoverableError,b=0;b<u.length;b++){var S=u[b];y(S.value,{componentStack:S.stack})}}finally{Q.T=s,oe.p=f}}(Ei&3)!==0&&Eh(),Yr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Um?uc++:(uc=0,Um=n):uc=0,hc(0)}}function g0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,$l(s)))}function Eh(){return f0(),m0(),p0(),y0()}function y0(){if(zt!==5)return!1;var n=us,s=Mm;Mm=0;var o=si(Ei),u=Q.T,f=oe.p;try{oe.p=32>o?32:o,Q.T=null,o=Vm,Vm=null;var y=us,b=Ei;if(zt=0,wo=us=null,Ei=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,X_(y.current),Y_(y,y.current,b,o),We=S,hc(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(or,y)}catch{}return!0}finally{oe.p=f,Q.T=u,g0(n,s)}}function v0(n,s,o){s=Jn(o,s),s=gm(n.stateNode,s,2),n=rs(n,s,2),n!==null&&(Gs(n,2),Yr(n))}function tt(n,s,o){if(n.tag===3)v0(n,n,o);else for(;s!==null;){if(s.tag===3){v0(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){n=Jn(o,n),o=__(2),u=rs(s,o,2),u!==null&&(b_(o,u,s,n),Gs(u,2),Yr(u));break}}s=s.return}}function zm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new JR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(km=!0,f.add(o),n=n1.bind(null,n,s,o),s.then(n,n))}function n1(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,at===n&&(Le&o)===o&&(vt===4||vt===3&&(Le&62914560)===Le&&300>mn()-gh?(We&2)===0&&Eo(n,0):Dm|=o,bo===Le&&(bo=0)),Yr(n)}function _0(n,s){s===0&&(s=vu()),n=aa(n,s),n!==null&&(Gs(n,s),Yr(n))}function r1(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),_0(n,o)}function i1(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),_0(n,o)}function s1(n,s){return Bt(n,s)}var Th=null,So=null,qm=!1,Sh=!1,Fm=!1,ds=0;function Yr(n){n!==So&&n.next===null&&(So===null?Th=So=n:So=So.next=n),Sh=!0,qm||(qm=!0,o1())}function hc(n,s){if(!Fm&&Sh){Fm=!0;do for(var o=!1,u=Th;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var b=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-_t(42|n)+1)-1,y&=f&~(b&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,T0(u,y))}else y=Le,y=Or(u,u===at?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||lr(u,y)||(o=!0,T0(u,y));u=u.next}while(o);Fm=!1}}function a1(){b0()}function b0(){Sh=qm=!1;var n=0;ds!==0&&y1()&&(n=ds);for(var s=mn(),o=null,u=Th;u!==null;){var f=u.next,y=w0(u,s);y===0?(u.next=null,o===null?Th=f:o.next=f,f===null&&(So=o)):(o=u,(n!==0||(y&3)!==0)&&(Sh=!0)),u=f}zt!==0&&zt!==5||hc(n),ds!==0&&(ds=0)}function w0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var b=31-_t(y),S=1<<b,M=f[b];M===-1?((S&o)===0||(S&u)!==0)&&(f[b]=vf(S,s)):M<=s&&(n.expiredLanes|=S),y&=~S}if(s=at,o=Le,o=Or(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Bi(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||lr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Bi(u),si(o)){case 2:case 8:o=wl;break;case 32:o=zi;break;case 268435456:o=fu;break;default:o=zi}return u=E0.bind(null,n),o=Bt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Bi(u),n.callbackPriority=2,n.callbackNode=null,2}function E0(n,s){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Eh()&&n.callbackNode!==o)return null;var u=Le;return u=Or(n,n===at?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(r0(n,u,s),w0(n,mn()),n.callbackNode!=null&&n.callbackNode===o?E0.bind(null,n):null)}function T0(n,s){if(Eh())return null;r0(n,s,!0)}function o1(){_1(function(){(We&6)!==0?Bt(bl,a1):b0()})}function Hm(){if(ds===0){var n=lo;n===0&&(n=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),ds=n}return ds}function S0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ka(""+n)}function A0(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function l1(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var y=S0((f[Gt]||null).action),b=u.submitter;b&&(s=(s=b[Gt]||null)?S0(s.formAction):b.getAttribute("formAction"),s!==null&&(y=s,b=null));var S=new qr("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ds!==0){var M=b?A0(f,b):new FormData(f);um(o,{pending:!0,data:M,method:f.method,action:y},null,M)}}else typeof y=="function"&&(S.preventDefault(),M=b?A0(f,b):new FormData(f),um(o,{pending:!0,data:M,method:f.method,action:y},y,M))},currentTarget:f}]})}}for(var $m=0;$m<Cf.length;$m++){var Gm=Cf[$m],c1=Gm.toLowerCase(),u1=Gm[0].toUpperCase()+Gm.slice(1);gr(c1,"on"+u1)}gr(nv,"onAnimationEnd"),gr(rv,"onAnimationIteration"),gr(iv,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(RR,"onTransitionRun"),gr(CR,"onTransitionStart"),gr(xR,"onTransitionCancel"),gr(sv,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function R0(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var b=u.length-1;0<=b;b--){var S=u[b],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=K;try{y(f)}catch(ee){Lu(ee)}f.currentTarget=null,y=M}else for(b=0;b<u.length;b++){if(S=u[b],M=S.instance,K=S.currentTarget,S=S.listener,M!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=K;try{y(f)}catch(ee){Lu(ee)}f.currentTarget=null,y=M}}}}function Ue(n,s){var o=s[qa];o===void 0&&(o=s[qa]=new Set);var u=n+"__bubble";o.has(u)||(C0(s,n,2,!1),o.add(u))}function Km(n,s,o){var u=0;s&&(u|=4),C0(o,n,u,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Qm(n){if(!n[Ah]){n[Ah]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(h1.has(o)||Km(o,!1,n),Km(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,Km("selectionchange",!1,s))}}function C0(n,s,o,u){switch(nb(s)){case 2:var f=L1;break;case 8:f=B1;break;default:f=cp}o=f.bind(null,s,o,n),f=void 0,!Xs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function Ym(n,s,o,u,f){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Pr(S),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){u=y=b;continue e}S=S.parentNode}}u=u.return}Ki(function(){var K=y,ee=Kn(o),ne=[];e:{var Y=av.get(n);if(Y!==void 0){var J=qr,pe=n;switch(n){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":J=Mu;break;case"focusin":pe="focus",J=na;break;case"focusout":pe="blur",J=na;break;case"beforeblur":case"afterblur":J=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case nv:case rv:case iv:J=Iu;break;case sv:J=R;break;case"scroll":case"scrollend":J=Ml;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=li;break;case"toggle":case"beforetoggle":J=je}var Ae=(s&4)!==0,st=!Ae&&(n==="scroll"||n==="scrollend"),H=Ae?Y!==null?Y+"Capture":null:Y;Ae=[];for(var L=K,G;L!==null;){var te=L;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||H===null||(te=dr(L,H),te!=null&&Ae.push(fc(L,te,G))),st)break;L=L.return}0<Ae.length&&(Y=new J(Y,pe,null,o,ee),ne.push({event:Y,listeners:Ae}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Y&&o!==kl&&(pe=o.relatedTarget||o.fromElement)&&(Pr(pe)||pe[kr]))break e;if((J||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=K,pe=pe?Pr(pe):null,pe!==null&&(st=l(pe),Ae=pe.tag,pe!==st||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(J=null,pe=K),J!==pe)){if(Ae=Vl,te="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=li,te="onPointerLeave",H="onPointerEnter",L="pointer"),st=J==null?Y:In(J),G=pe==null?Y:In(pe),Y=new Ae(te,L+"leave",J,o,ee),Y.target=st,Y.relatedTarget=G,te=null,Pr(ee)===K&&(Ae=new Ae(H,L+"enter",pe,o,ee),Ae.target=G,Ae.relatedTarget=st,te=Ae),st=te,J&&pe)t:{for(Ae=d1,H=J,L=pe,G=0,te=H;te;te=Ae(te))G++;te=0;for(var we=L;we;we=Ae(we))te++;for(;0<G-te;)H=Ae(H),G--;for(;0<te-G;)L=Ae(L),te--;for(;G--;){if(H===L||L!==null&&H===L.alternate){Ae=H;break t}H=Ae(H),L=Ae(L)}Ae=null}else Ae=null;J!==null&&x0(ne,Y,J,Ae,!1),pe!==null&&st!==null&&x0(ne,st,pe,Ae,!0)}}e:{if(Y=K?In(K):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Ke=$y;else if(Fy(Y))if(Gy)Ke=TR;else{Ke=wR;var ye=bR}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ga(K.elementType)&&(Ke=$y):Ke=ER;if(Ke&&(Ke=Ke(n,K))){Hy(ne,Ke,o,ee);break e}ye&&ye(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Nl(Y,"number",Y.value)}switch(ye=K?In(K):window,n){case"focusin":(Fy(ye)||ye.contentEditable==="true")&&(eo=ye,Sf=K,ql=null);break;case"focusout":ql=Sf=eo=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,ev(ne,o,ee);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":ev(ne,o,ee)}var Pe;if(Ye)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Za?ra(n,o)&&(Be="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&($r&&o.locale!=="ko"&&(Za||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Za&&(Pe=Pl()):(zr=ee,Dl="value"in zr?zr.value:zr.textContent,Za=!0)),ye=Rh(K,Be),0<ye.length&&(Be=new Hr(Be,n,null,o,ee),ne.push({event:Be,listeners:ye}),Pe?Be.data=Pe:(Pe=Xa(o),Pe!==null&&(Be.data=Pe)))),(Pe=Yn?gR(n,o):yR(n,o))&&(Be=Rh(K,"onBeforeInput"),0<Be.length&&(ye=new Hr("onBeforeInput","beforeinput",null,o,ee),ne.push({event:ye,listeners:Be}),ye.data=Pe)),l1(ne,n,K,o,ee)}R0(ne,s)})}function fc(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Rh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=dr(n,o),f!=null&&u.unshift(fc(n,f,y)),f=dr(n,s),f!=null&&u.push(fc(n,f,y))),n.tag===3)return u;n=n.return}return[]}function d1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function x0(n,s,o,u,f){for(var y=s._reactName,b=[];o!==null&&o!==u;){var S=o,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||K===null||(M=K,f?(K=dr(o,y),K!=null&&b.unshift(fc(o,K,M))):f||(K=dr(o,y),K!=null&&b.push(fc(o,K,M)))),o=o.return}b.length!==0&&n.push({event:s,listeners:b})}var f1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function I0(n){return(typeof n=="string"?n:""+n).replace(f1,`
`).replace(m1,"")}function N0(n,s){return s=I0(s),I0(n)===s}function it(n,s,o,u,f,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||bn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&bn(n,""+u);break;case"className":Nn(n,"class",u);break;case"tabIndex":Nn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(n,o,u);break;case"style":jl(n,u,y);break;case"data":if(s!=="object"){Nn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ka(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&it(n,s,"name",f.name,f,null),it(n,s,"formEncType",f.formEncType,f,null),it(n,s,"formMethod",f.formMethod,f,null),it(n,s,"formTarget",f.formTarget,f,null)):(it(n,s,"encType",f.encType,f,null),it(n,s,"method",f.method,f,null),it(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ka(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=hr);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ka(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Ha(n,"popover",u);break;case"xlinkActuate":Nt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ha(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ru.get(o)||o,Ha(n,o,u))}}function Wm(n,s,o,u,f,y){switch(o){case"style":jl(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?bn(n,u):(typeof u=="number"||typeof u=="bigint")&&bn(n,""+u);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"onClick":u!=null&&(n.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),y=n[Gt]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(s,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ha(n,o,u)}}}function nn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var u=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,y,b,o,null)}}f&&it(n,s,"srcSet",o.srcSet,o,null),u&&it(n,s,"src",o.src,o,null);return;case"input":Ue("invalid",n);var S=y=b=f=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":b=ee;break;case"checked":M=ee;break;case"defaultChecked":K=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:it(n,s,u,ee,o,null)}}Tu(n,y,S,M,K,b,f,!1);return;case"select":Ue("invalid",n),u=b=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:it(n,s,f,S,o,null)}s=y,o=b,n.multiple=!!u,s!=null?Fi(n,!!u,s,!1):o!=null&&Fi(n,!!u,o,!0);return;case"textarea":Ue("invalid",n),y=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(n,s,b,S,o,null)}Hi(n,u,f,y);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(n,s,M,u,o,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(u=0;u<dc.length;u++)Ue(dc[u],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,K,u,o,null)}return;default:if(Ga(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Wm(n,s,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&it(n,s,S,u,o,null))}function p1(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,b=null,S=null,M=null,K=null,ee=null;for(J in o){var ne=o[J];if(o.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(J)||it(n,s,J,null,u,ne)}}for(var Y in u){var J=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(J!=null||ne!=null))switch(Y){case"type":y=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ne&&it(n,s,Y,J,u,ne)}}$a(n,b,S,M,K,ee,y,f);return;case"select":J=b=S=Y=null;for(y in o)if(M=o[y],o.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":J=M;default:u.hasOwnProperty(y)||it(n,s,y,null,u,M)}for(f in u)if(y=u[f],M=o[f],u.hasOwnProperty(f)&&(y!=null||M!=null))switch(f){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":b=y;default:y!==M&&it(n,s,f,y,u,M)}s=S,o=b,u=J,Y!=null?Fi(n,!!o,Y,!1):!!u!=!!o&&(s!=null?Fi(n,!!o,s,!0):Fi(n,!!o,o?[]:"",!1));return;case"textarea":J=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(n,s,S,null,u,f)}for(b in u)if(f=u[b],y=o[b],u.hasOwnProperty(b)&&(f!=null||y!=null))switch(b){case"value":Y=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&it(n,s,b,f,u,y)}Su(n,Y,J);return;case"option":for(var pe in o)if(Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:it(n,s,pe,null,u,Y)}for(M in u)if(Y=u[M],J=o[M],u.hasOwnProperty(M)&&Y!==J&&(Y!=null||J!=null))switch(M){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(n,s,M,Y,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Y=o[Ae],o.hasOwnProperty(Ae)&&Y!=null&&!u.hasOwnProperty(Ae)&&it(n,s,Ae,null,u,Y);for(K in u)if(Y=u[K],J=o[K],u.hasOwnProperty(K)&&Y!==J&&(Y!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:it(n,s,K,Y,u,J)}return;default:if(Ga(s)){for(var st in o)Y=o[st],o.hasOwnProperty(st)&&Y!==void 0&&!u.hasOwnProperty(st)&&Wm(n,s,st,void 0,u,Y);for(ee in u)Y=u[ee],J=o[ee],!u.hasOwnProperty(ee)||Y===J||Y===void 0&&J===void 0||Wm(n,s,ee,Y,u,J);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&it(n,s,H,null,u,Y);for(ne in u)Y=u[ne],J=o[ne],!u.hasOwnProperty(ne)||Y===J||Y==null&&J==null||it(n,s,ne,Y,u,J)}function O0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],y=f.transferSize,b=f.initiatorType,S=f.duration;if(y&&S&&O0(b)){for(b=0,S=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>S)break;var ee=M.transferSize,ne=M.initiatorType;ee&&O0(ne)&&(M=M.responseEnd,b+=ee*(M<S?1:(S-K)/(M-K)))}if(--u,s+=8*(y+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Jm=null,Xm=null;function Ch(n){return n.nodeType===9?n:n.ownerDocument}function j0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Zm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ep=null;function y1(){var n=window.event;return n&&n.type==="popstate"?n===ep?!1:(ep=n,!0):(ep=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(n){return P0.resolve(null).then(n).catch(b1)}:D0;function b1(n){setTimeout(function(){throw n})}function fs(n){return n==="head"}function M0(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),xo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")mc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,mc(o);for(var y=o.firstChild;y;){var b=y.nextSibling,S=y.nodeName;y[Dr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=b}}else o==="body"&&mc(n.ownerDocument.body);o=f}while(o);xo(s)}function V0(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function tp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tp(o),Fa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function w1(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Dr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=nr(n.nextSibling),n===null)break}return null}function E1(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=nr(n.nextSibling),n===null))return null;return n}function U0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=nr(n.nextSibling),n===null))return null;return n}function np(n){return n.data==="$?"||n.data==="$~"}function rp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function T1(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function nr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var ip=null;function L0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return nr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function B0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function z0(n,s,o){switch(s=Ch(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function mc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Fa(n)}var rr=new Map,q0=new Set;function xh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ti=oe.d;oe.d={f:S1,r:A1,D:R1,C:C1,L:x1,m:I1,X:O1,S:N1,M:j1};function S1(){var n=Ti.f(),s=_h();return n||s}function A1(n){var s=Gn(n);s!==null&&s.tag===5&&s.type==="form"?s_(s):Ti.r(n)}var Ao=typeof document>"u"?null:document;function F0(n,s,o){var u=Ao;if(u&&typeof s=="string"&&s){var f=_n(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),q0.has(f)||(q0.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),nn(s,"link",n),It(s),u.head.appendChild(s)))}}function R1(n){Ti.D(n),F0("dns-prefetch",n,null)}function C1(n,s){Ti.C(n,s),F0("preconnect",n,s)}function x1(n,s,o){Ti.L(n,s,o);var u=Ao;if(u&&n&&s){var f='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(n)+'"]';var y=f;switch(s){case"style":y=Ro(n);break;case"script":y=Co(n)}rr.has(y)||(n=w({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),rr.set(y,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(pc(y))||s==="script"&&u.querySelector(gc(y))||(s=u.createElement("link"),nn(s,"link",n),It(s),u.head.appendChild(s)))}}function I1(n,s){Ti.m(n,s);var o=Ao;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(n)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Co(n)}if(!rr.has(y)&&(n=w({rel:"modulepreload",href:n},s),rr.set(y,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gc(y)))return}u=o.createElement("link"),nn(u,"link",n),It(u),o.head.appendChild(u)}}}function N1(n,s,o){Ti.S(n,s,o);var u=Ao;if(u&&n){var f=Mr(u).hoistableStyles,y=Ro(n);s=s||"default";var b=f.get(y);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(pc(y)))S.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":s},o),(o=rr.get(y))&&sp(n,o);var M=b=u.createElement("link");It(M),nn(M,"link",n),M._p=new Promise(function(K,ee){M.onload=K,M.onerror=ee}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ih(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(y,b)}}}function O1(n,s){Ti.X(n,s);var o=Ao;if(o&&n){var u=Mr(o).hoistableScripts,f=Co(n),y=u.get(f);y||(y=o.querySelector(gc(f)),y||(n=w({src:n,async:!0},s),(s=rr.get(f))&&ap(n,s),y=o.createElement("script"),It(y),nn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function j1(n,s){Ti.M(n,s);var o=Ao;if(o&&n){var u=Mr(o).hoistableScripts,f=Co(n),y=u.get(f);y||(y=o.querySelector(gc(f)),y||(n=w({src:n,async:!0,type:"module"},s),(s=rr.get(f))&&ap(n,s),y=o.createElement("script"),It(y),nn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function H0(n,s,o,u){var f=(f=ie.current)?xh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ro(o.href),o=Mr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ro(o.href);var y=Mr(f).hoistableStyles,b=y.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,b),(y=f.querySelector(pc(n)))&&!y._p&&(b.instance=y,b.state.loading=5),rr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(n,o),y||k1(f,n,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(o),o=Mr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ro(n){return'href="'+_n(n)+'"'}function pc(n){return'link[rel="stylesheet"]['+n+"]"}function $0(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function k1(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),nn(s,"link",o),It(s),n.head.appendChild(s))}function Co(n){return'[src="'+_n(n)+'"]'}function gc(n){return"script[async]"+n}function G0(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+_n(o.href)+'"]');if(u)return s.instance=u,It(u),u;var f=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),It(u),nn(u,"style",f),Ih(u,o.precedence,n),s.instance=u;case"stylesheet":f=Ro(o.href);var y=n.querySelector(pc(f));if(y)return s.state.loading|=4,s.instance=y,It(y),y;u=$0(o),(f=rr.get(f))&&sp(u,f),y=(n.ownerDocument||n).createElement("link"),It(y);var b=y;return b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),nn(y,"link",u),s.state.loading|=4,Ih(y,o.precedence,n),s.instance=y;case"script":return y=Co(o.src),(f=n.querySelector(gc(y)))?(s.instance=f,It(f),f):(u=o,(f=rr.get(y))&&(u=w({},o),ap(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),It(f),nn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ih(u,o.precedence,n));return s.instance}function Ih(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===s)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function sp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ap(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Nh=null;function K0(n,s,o){if(Nh===null){var u=new Map,f=Nh=new Map;f.set(o,u)}else f=Nh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var y=o[f];if(!(y[Dr]||y[xt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(s)||"";b=n+b;var S=u.get(b);S?S.push(y):u.set(b,[y])}}return u}function Q0(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function D1(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function P1(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ro(u.href),y=s.querySelector(pc(f));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Oh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=y,It(y);return}y=s.ownerDocument||s,u=$0(u),(f=rr.get(f))&&sp(u,f),y=y.createElement("link"),It(y);var b=y;b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),nn(y,"link",u),o.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Oh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var op=0;function M1(n,s){return n.stylesheets&&n.count===0&&kh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&kh(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&op===0&&(op=62500*g1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&kh(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>op?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jh=null;function kh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jh=new Map,s.forEach(V1,n),jh=null,Oh.call(n))}function V1(n,s){if(!(s.state.loading&4)){var o=jh.get(n);if(o)var u=o.get(null);else{o=new Map,jh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var b=f[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),y=o.get(b)||u,y===u&&o.set(null,f),o.set(b,f),this.count++,u=Oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var yc={$$typeof:z,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function U1(n,s,o,u,f,y,b,S,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function W0(n,s,o,u,f,y,b,S,M,K,ee,ne){return n=new U1(n,s,o,b,M,K,ee,ne,S),s=1,y===!0&&(s|=24),y=jn(3,null,null,s),n.current=y,y.stateNode=n,s=Bf(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Hf(y),n}function J0(n){return n?(n=ro,n):ro}function X0(n,s,o,u,f,y){f=J0(f),u.context===null?u.context=f:u.pendingContext=f,u=ns(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=rs(n,u,s),o!==null&&(An(o,n,s),Yl(o,n,s))}function Z0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function lp(n,s){Z0(n,s),(n=n.alternate)&&Z0(n,s)}function eb(n){if(n.tag===13||n.tag===31){var s=aa(n,67108864);s!==null&&An(s,n,67108864),lp(n,67108864)}}function tb(n){if(n.tag===13||n.tag===31){var s=Vn();s=Qs(s);var o=aa(n,s);o!==null&&An(o,n,s),lp(n,s)}}var Dh=!0;function L1(n,s,o,u){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=2,cp(n,s,o,u)}finally{oe.p=y,Q.T=f}}function B1(n,s,o,u){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=8,cp(n,s,o,u)}finally{oe.p=y,Q.T=f}}function cp(n,s,o,u){if(Dh){var f=up(u);if(f===null)Ym(n,s,u,Ph,o),rb(n,u);else if(q1(f,n,s,o,u))u.stopPropagation();else if(rb(n,u),s&4&&-1<z1.indexOf(n)){for(;f!==null;){var y=Gn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=Nr(y.pendingLanes);if(b!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var M=1<<31-_t(b);S.entanglements[1]|=M,b&=~M}Yr(y),(We&6)===0&&(yh=mn()+500,hc(0))}}break;case 31:case 13:S=aa(y,2),S!==null&&An(S,y,2),_h(),lp(y,2)}if(y=up(u),y===null&&Ym(n,s,u,Ph,o),y===f)break;f=y}f!==null&&u.stopPropagation()}else Ym(n,s,u,null,o)}}function up(n){return n=Kn(n),hp(n)}var Ph=null;function hp(n){if(Ph=null,n=Pr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ph=n,null}function nb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case bl:return 2;case wl:return 8;case zi:case yf:return 32;case fu:return 268435456;default:return 32}default:return 32}}var dp=!1,ms=null,ps=null,gs=null,vc=new Map,_c=new Map,ys=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(n,s){switch(n){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":vc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(s.pointerId)}}function bc(n,s,o,u,f,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Gn(s),s!==null&&eb(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function q1(n,s,o,u,f){switch(s){case"focusin":return ms=bc(ms,n,s,o,u,f),!0;case"dragenter":return ps=bc(ps,n,s,o,u,f),!0;case"mouseover":return gs=bc(gs,n,s,o,u,f),!0;case"pointerover":var y=f.pointerId;return vc.set(y,bc(vc.get(y)||null,n,s,o,u,f)),!0;case"gotpointercapture":return y=f.pointerId,_c.set(y,bc(_c.get(y)||null,n,s,o,u,f)),!0}return!1}function ib(n){var s=Pr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,cr(n.priority,function(){tb(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,cr(n.priority,function(){tb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=up(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);kl=u,o.target.dispatchEvent(u),kl=null}else return s=Gn(o),s!==null&&eb(s),n.blockedOn=o,!1;s.shift()}return!0}function sb(n,s,o){Mh(n)&&o.delete(s)}function F1(){dp=!1,ms!==null&&Mh(ms)&&(ms=null),ps!==null&&Mh(ps)&&(ps=null),gs!==null&&Mh(gs)&&(gs=null),vc.forEach(sb),_c.forEach(sb)}function Vh(n,s){n.blockedOn===s&&(n.blockedOn=null,dp||(dp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,F1)))}var Uh=null;function ab(n){Uh!==n&&(Uh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uh===n&&(Uh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(hp(u||o)===null)continue;break}var y=Gn(o);y!==null&&(n.splice(s,3),s-=3,um(y,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function xo(n){function s(M){return Vh(M,n)}ms!==null&&Vh(ms,n),ps!==null&&Vh(ps,n),gs!==null&&Vh(gs,n),vc.forEach(s),_c.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)ib(o),o.blockedOn===null&&ys.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],y=o[u+1],b=f[Gt]||null;if(typeof y=="function")b||ab(o);else if(b){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,b=y[Gt]||null)S=b.formAction;else if(hp(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),ab(o)}}}function ob(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function fp(n){this._internalRoot=n}Lh.prototype.render=fp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Vn();X0(o,u,n,s,null,null)},Lh.prototype.unmount=fp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;X0(n.current,2,null,n,null,null),_h(),s[kr]=null}};function Lh(n){this._internalRoot=n}Lh.prototype.unstable_scheduleHydration=function(n){if(n){var s=_u();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,n),o===0&&ib(n)}};var lb=e.version;if(lb!=="19.2.0")throw Error(i(527,lb,"19.2.0"));oe.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var H1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{or=Bh.inject(H1),Jt=Bh}catch{}}return Ec.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=p_,y=g_,b=y_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=W0(n,1,!1,null,null,o,u,null,f,y,b,ob),n[kr]=s.current,Qm(n),new fp(s)},Ec.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",y=p_,b=g_,S=y_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),s=W0(n,1,!0,s,o??null,u,f,M,y,b,S,ob),s.context=J0(null),o=s.current,u=Vn(),u=Qs(u),f=ns(u),f.callback=null,rs(o,f,u),o=u,s.current.lanes=o,Gs(s,o),Yr(s),n[kr]=s.current,Qm(n),new Lh(s)},Ec.version="19.2.0",Ec}var vb;function rC(){if(vb)return gp.exports;vb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gp.exports=nC(),gp.exports}var iC=rC();var _b="popstate";function sC(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Pa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Fp("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Lc(l))}function i(a,l){Hn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return oC(e,t,i,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function bb(r,e){return{usr:r.state,key:r.key,idx:e}}function Fp(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:t,key:e&&e.key||i||aC()}}function Lc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Pa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function oC(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function w(){d="POP";let C=v(),B=C==null?null:C-g;g=C,m&&m({action:d,location:O.location,delta:B})}function T(C,B){d="PUSH";let P=Fp(O.location,C,B);t&&t(P,C),g=v()+1;let z=bb(P,g),Z=O.createHref(P);try{c.pushState(z,"",Z)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(Z)}l&&m&&m({action:d,location:O.location,delta:1})}function A(C,B){d="REPLACE";let P=Fp(O.location,C,B);t&&t(P,C),g=v();let z=bb(P,g),Z=O.createHref(P);c.replaceState(z,"",Z),l&&m&&m({action:d,location:O.location,delta:0})}function j(C){return lC(C)}let O={get action(){return d},get location(){return r(a,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(_b,w),m=C,()=>{a.removeEventListener(_b,w),m=null}},createHref(C){return e(a,C)},createURL:j,encodeLocation(C){let B=j(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:A,go(C){return c.go(C)}};return O}function lC(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Lc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function NE(r,e,t="/"){return cC(r,e,t,!1)}function cC(r,e,t,i){let a=typeof e=="string"?Pa(e):e,l=Oi(a.pathname||"/",t);if(l==null)return null;let c=OE(r);uC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=wC(l);d=_C(c[m],g,i)}return d}function OE(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;mt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let w=xi([i,v.relativePath]),T=t.concat(v);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),OE(c.children,e,T,w,m)),!(c.path==null&&!c.index)&&e.push({path:w,score:yC(w,c.index),routesMeta:T})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of jE(c.path))l(c,d,!0,m)}),e}function jE(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=jE(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function uC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:vC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var hC=/^:[\w-]+$/,dC=3,fC=2,mC=1,pC=10,gC=-2,wb=r=>r==="*";function yC(r,e){let t=r.split("/"),i=t.length;return t.some(wb)&&(i+=gC),e&&(i+=fC),t.filter(a=>!wb(a)).reduce((a,l)=>a+(hC.test(l)?dC:l===""?mC:pC),i)}function vC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function _C(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!w&&g&&t&&!i[i.length-1].route.index&&(w=pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:xi([l,w.pathname]),pathnameBase:RC(xi([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=xi([l,w.pathnameBase]))}return c}function pd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=bC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:w},T)=>{if(v==="*"){let j=d[T]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const A=d[T];return w&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function bC(r,e=!1,t=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function wC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Oi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TC=r=>EC.test(r);function SC(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Pa(r):r,l;if(t)if(TC(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Eb(t.substring(1),"/"):l=Eb(t,e)}else l=e;return{pathname:l,search:CC(i),hash:xC(a)}}function Eb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function bp(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jg(r){let e=AC(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function kg(r,e,t,i=!1){let a;typeof r=="string"?a=Pa(r):(a={...r},mt(!a.pathname||!a.pathname.includes("?"),bp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),bp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),bp("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;a.pathname=T.join("/")}d=w>=0?e[w]:"/"}let m=SC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var xi=r=>r.join("/").replace(/\/\/+/g,"/"),RC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),CC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function IC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kE=["POST","PUT","PATCH","DELETE"];new Set(kE);var NC=["GET",...kE];new Set(NC);var nl=U.createContext(null);nl.displayName="DataRouter";var Fd=U.createContext(null);Fd.displayName="DataRouterState";U.createContext(!1);var DE=U.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var OC=U.createContext(new Map);OC.displayName="Fetchers";var jC=U.createContext(null);jC.displayName="Await";var Rr=U.createContext(null);Rr.displayName="Navigation";var Jc=U.createContext(null);Jc.displayName="Location";var Cr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Dg=U.createContext(null);Dg.displayName="RouteError";function kC(r,{relative:e}={}){mt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Rr),{hash:a,pathname:l,search:c}=Xc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:xi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function rl(){return U.useContext(Jc)!=null}function ar(){return mt(rl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jc).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(r){U.useContext(Rr).static||U.useLayoutEffect(r)}function ii(){let{isDataRoute:r}=U.useContext(Cr);return r?KC():DC()}function DC(){mt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(nl),{basename:e,navigator:t}=U.useContext(Rr),{matches:i}=U.useContext(Cr),{pathname:a}=ar(),l=JSON.stringify(jg(i)),c=U.useRef(!1);return ME(()=>{c.current=!0}),U.useCallback((m,g={})=>{if(Hn(c.current,PE),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=kg(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}U.createContext(null);function PC(){let{matches:r}=U.useContext(Cr),e=r[r.length-1];return e?e.params:{}}function Xc(r,{relative:e}={}){let{matches:t}=U.useContext(Cr),{pathname:i}=ar(),a=JSON.stringify(jg(t));return U.useMemo(()=>kg(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function MC(r,e){return VE(r,e)}function VE(r,e,t,i,a){mt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Rr),{matches:c}=U.useContext(Cr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",w=d&&d.route;{let P=w&&w.path||"";UE(g,!w||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=ar(),A;if(e){let P=typeof e=="string"?Pa(e):e;mt(v==="/"||P.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),A=P}else A=T;let j=A.pathname||"/",O=j;if(v!=="/"){let P=v.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=NE(r,{pathname:O});Hn(w||C!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Hn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=zC(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:xi([v,l.encodeLocation?l.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:xi([v,l.encodeLocation?l.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),c,t,i,a);return e&&B?U.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function VC(){let r=GC(),e=IC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,c)}var UC=U.createElement(VC,null),LC=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Cr.Provider,{value:this.props.routeContext},U.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BC({routeContext:r,match:e,children:t}){let i=U.useContext(nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Cr.Provider,{value:r},t)}function zC(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let w=l[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:T,errors:A}=t,j=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!A||A[w.route.id]===void 0);if(w.route.lazy||j){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(v,w)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:w})}:void 0;return l.reduceRight((v,w,T)=>{let A,j=!1,O=null,C=null;t&&(A=c&&w.route.id?c[w.route.id]:void 0,O=w.route.errorElement||UC,d&&(m<0&&T===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):m===T&&(j=!0,C=w.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,T+1)),P=()=>{let z;return A?z=O:j?z=C:w.route.Component?z=U.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=v,U.createElement(BC,{match:w,routeContext:{outlet:v,matches:B,isDataRoute:t!=null},children:z})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?U.createElement(LC,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):P()},null)}function Pg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(r){let e=U.useContext(nl);return mt(e,Pg(r)),e}function FC(r){let e=U.useContext(Fd);return mt(e,Pg(r)),e}function HC(r){let e=U.useContext(Cr);return mt(e,Pg(r)),e}function Mg(r){let e=HC(r),t=e.matches[e.matches.length-1];return mt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $C(){return Mg("useRouteId")}function GC(){let r=U.useContext(Dg),e=FC("useRouteError"),t=Mg("useRouteError");return r!==void 0?r:e.errors?.[t]}function KC(){let{router:r}=qC("useNavigate"),e=Mg("useNavigate"),t=U.useRef(!1);return ME(()=>{t.current=!0}),U.useCallback(async(a,l={})=>{Hn(t.current,PE),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Tb={};function UE(r,e,t){!e&&!Tb[r]&&(Tb[r]=!0,Hn(!1,t))}U.memo(QC);function QC({routes:r,future:e,state:t,unstable_onError:i}){return VE(r,void 0,t,i,e)}function Sb({to:r,replace:e,state:t,relative:i}){mt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Rr);Hn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Cr),{pathname:c}=ar(),d=ii(),m=kg(r,jg(l),c,i==="path"),g=JSON.stringify(m);return U.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Rn(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YC({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Pa(t));let{pathname:m="/",search:g="",hash:v="",state:w=null,key:T="default"}=t,A=U.useMemo(()=>{let j=Oi(m,c);return j==null?null:{location:{pathname:j,search:g,hash:v,state:w,key:T},navigationType:i}},[c,m,g,v,w,T,i]);return Hn(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:U.createElement(Rr.Provider,{value:d},U.createElement(Jc.Provider,{children:e,value:A}))}function WC({children:r,location:e}){return MC(Hp(r),e)}function Hp(r,e=[]){let t=[];return U.Children.forEach(r,(i,a)=>{if(!U.isValidElement(i))return;let l=[...e,a];if(i.type===U.Fragment){t.push.apply(t,Hp(i.props.children,l));return}mt(i.type===Rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hp(i.props.children,l)),t.push(c)}),t}var rd="get",id="application/x-www-form-urlencoded";function Hd(r){return r!=null&&typeof r.tagName=="string"}function JC(r){return Hd(r)&&r.tagName.toLowerCase()==="button"}function XC(r){return Hd(r)&&r.tagName.toLowerCase()==="form"}function ZC(r){return Hd(r)&&r.tagName.toLowerCase()==="input"}function ex(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tx(r,e){return r.button===0&&(!e||e==="_self")&&!ex(r)}var zh=null;function nx(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(r){return r!=null&&!rx.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):r}function ix(r,e){let t,i,a,l,c;if(XC(r)){let d=r.getAttribute("action");i=d?Oi(d,e):null,t=r.getAttribute("method")||rd,a=wp(r.getAttribute("enctype"))||id,l=new FormData(r)}else if(JC(r)||ZC(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?Oi(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||rd,a=wp(r.getAttribute("formenctype"))||wp(d.getAttribute("enctype"))||id,l=new FormData(d,r),!nx()){let{name:g,type:v,value:w}=r;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,w)}}else{if(Hd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rd,i=null,a=id,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sx(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Oi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ax(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ox(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lx(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await ax(l,t);return c.links?c.links():[]}return[]}));return dx(i.flat(1).filter(ox).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ab(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cx(r,e,{includeHydrateFallback:t}={}){return ux(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ux(r){return[...new Set(r)]}function hx(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function dx(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(hx(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function LE(){let r=U.useContext(nl);return Vg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fx(){let r=U.useContext(Fd);return Vg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ug=U.createContext(void 0);Ug.displayName="FrameworkContext";function BE(){let r=U.useContext(Ug);return Vg(r,"You must render this element inside a <HydratedRouter> element"),r}function mx(r,e){let t=U.useContext(Ug),[i,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,T=U.useRef(null);U.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let O=B=>{B.forEach(P=>{c(P.isIntersecting)})},C=new IntersectionObserver(O,{threshold:.5});return T.current&&C.observe(T.current),()=>{C.disconnect()}}},[r]),U.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let A=()=>{a(!0)},j=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:Tc(d,A),onBlur:Tc(m,j),onMouseEnter:Tc(g,A),onMouseLeave:Tc(v,j),onTouchStart:Tc(w,A)}]:[!1,T,{}]}function Tc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function px({page:r,...e}){let{router:t}=LE(),i=U.useMemo(()=>NE(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?U.createElement(yx,{page:r,matches:i,...e}):null}function gx(r){let{manifest:e,routeModules:t}=BE(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return lx(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function yx({page:r,matches:e,...t}){let i=ar(),{manifest:a,routeModules:l}=BE(),{basename:c}=LE(),{loaderData:d,matches:m}=fx(),g=U.useMemo(()=>Ab(r,e,m,a,i,"data"),[r,e,m,a,i]),v=U.useMemo(()=>Ab(r,e,m,a,i,"assets"),[r,e,m,a,i]),w=U.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let j=new Set,O=!1;if(e.forEach(B=>{let P=a.routes[B.route.id];!P||!P.hasLoader||(!g.some(z=>z.route.id===B.route.id)&&B.route.id in d&&l[B.route.id]?.shouldRevalidate||P.hasClientLoader?O=!0:j.add(B.route.id))}),j.size===0)return[];let C=sx(r,c,"data");return O&&j.size>0&&C.searchParams.set("_routes",e.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[c,d,i,a,g,e,r,l]),T=U.useMemo(()=>cx(v,a),[v,a]),A=gx(v);return U.createElement(U.Fragment,null,w.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),T.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),A.map(({key:j,link:O})=>U.createElement("link",{key:j,nonce:t.nonce,...O})))}function vx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zE&&(window.__reactRouterVersion="7.9.6")}catch{}function _x({basename:r,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=sC({window:t,v5Compat:!0}));let a=i.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(YC,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:w,...T},A){let{basename:j}=U.useContext(Rr),O=typeof g=="string"&&qE.test(g),C,B=!1;if(typeof g=="string"&&O&&(C=g,zE))try{let k=new URL(window.location.href),q=g.startsWith("//")?new URL(k.protocol+g):new URL(g),V=Oi(q.pathname,j);q.origin===k.origin&&V!=null?g=V+q.search+q.hash:B=!0}catch{Hn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=kC(g,{relative:a}),[z,Z,ce]=mx(i,T),ae=Tx(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:w});function x(k){e&&e(k),k.defaultPrevented||ae(k)}let N=U.createElement("a",{...T,...ce,href:C||P,onClick:B||l?e:x,ref:vx(A,Z),target:m,"data-discover":!O&&t==="render"?"true":void 0});return z&&!O?U.createElement(U.Fragment,null,N,U.createElement(px,{page:P})):N});Mt.displayName="Link";var bx=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let w=Xc(c,{relative:g.relative}),T=ar(),A=U.useContext(Fd),{navigator:j,basename:O}=U.useContext(Rr),C=A!=null&&xx(w)&&d===!0,B=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,P=T.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(P=P.toLowerCase(),z=z?z.toLowerCase():null,B=B.toLowerCase()),z&&O&&(z=Oi(z,O)||z);const Z=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ce=P===B||!a&&P.startsWith(B)&&P.charAt(Z)==="/",ae=z!=null&&(z===B||!a&&z.startsWith(B)&&z.charAt(B.length)==="/"),x={isActive:ce,isPending:ae,isTransitioning:C},N=ce?e:void 0,k;typeof i=="function"?k=i(x):k=[i,ce?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(x):l;return U.createElement(Mt,{...g,"aria-current":N,className:k,ref:v,style:q,to:c,viewTransition:d},typeof m=="function"?m(x):m)});bx.displayName="NavLink";var wx=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=rd,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:w,...T},A)=>{let j=Rx(),O=Cx(d,{relative:g}),C=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&qE.test(d),P=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let Z=z.nativeEvent.submitter,ce=Z?.getAttribute("formmethod")||c;j(Z||z.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:w})};return U.createElement("form",{ref:A,method:C,action:O,onSubmit:i?m:P,...T,"data-discover":!B&&r==="render"?"true":void 0})});wx.displayName="Form";function Ex(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(r){let e=U.useContext(nl);return mt(e,Ex(r)),e}function Tx(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ii(),m=ar(),g=Xc(r,{relative:l});return U.useCallback(v=>{if(tx(v,e)){v.preventDefault();let w=t!==void 0?t:Lc(m)===Lc(g);d(r,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,i,e,r,a,l,c])}var Sx=0,Ax=()=>`__${String(++Sx)}__`;function Rx(){let{router:r}=FE("useSubmit"),{basename:e}=U.useContext(Rr),t=$C();return U.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=ix(i,e);if(a.navigate===!1){let v=a.fetcherKey||Ax();await r.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function Cx(r,{relative:e}={}){let{basename:t}=U.useContext(Rr),i=U.useContext(Cr);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Xc(r||".",{relative:e})},c=ar();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:xi([t,l.pathname])),Lc(l)}function xx(r,{relative:e}={}){let t=U.useContext(DE);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FE("useViewTransitionState"),a=Xc(r,{relative:e});if(!t.isTransitioning)return!1;let l=Oi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Oi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return pd(a.pathname,c)!=null||pd(a.pathname,l)!=null}const Ix=()=>{};var Rb={};const HE=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Nx=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,A=g&63;m||(A=64,c||(T=64)),i.push(t[v],t[w],t[T],t[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(HE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const w=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||w==null)throw new Ox;const T=l<<2|d>>4;if(i.push(T),g!==64){const A=d<<4&240|g>>2;if(i.push(A),w!==64){const j=g<<6&192|w;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jx=function(r){const e=HE(r);return $E.encodeByteArray(e,!0)},gd=function(r){return jx(r).replace(/\./g,"")},GE=function(r){try{return $E.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dx=()=>kx().__FIREBASE_DEFAULTS__,Px=()=>{if(typeof process>"u"||typeof Rb>"u")return;const r=Rb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Mx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&GE(r[1]);return e&&JSON.parse(e)},$d=()=>{try{return Ix()||Dx()||Px()||Mx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KE=r=>$d()?.emulatorHosts?.[r],Vx=r=>{const e=KE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},QE=()=>$d()?.config,YE=r=>$d()?.[`_${r}`];let Ux=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(r){return(await fetch(r,{credentials:"include"})).ok}function Lx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gd(JSON.stringify(t)),gd(JSON.stringify(c)),""].join(".")}const Oc={};function Bx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?r.emulator.push(e):r.prod.push(e);return r}function zx(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Cb=!1;function JE(r,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Oc[r]===e||Oc[r]||Cb)return;Oc[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=Bx().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Cb=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=zx(i),A=t("text"),j=document.getElementById(A)||document.createElement("span"),O=t("learnmore"),C=document.getElementById(O)||document.createElement("a"),B=t("preprendIcon"),P=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),v(C,O);const Z=g();m(P,B),z.append(P,j,C,Z),document.body.appendChild(z)}l?(j.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function Fx(){const r=$d()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $x(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Qx(){return!Fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function Wx(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Jx="FirebaseError";class Mi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Jx,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Xx(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Mi(a,d,i)}}function Xx(r,e){return r.replace(Zx,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Zx=/\{\$([^}]+)}/g;function eI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Os(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(xb(l)&&xb(c)){if(!Os(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function xb(r){return r!==null&&typeof r=="object"}function eu(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ac(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function tI(r,e){const t=new nI(r,e);return t.subscribe.bind(t)}class nI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ep),a.error===void 0&&(a.error=Ep),a.complete===void 0&&(a.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ep(){}function $t(r){return r&&r._delegate?r._delegate:r}class Na{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class iI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Ux;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aI(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(r){return r===wa?void 0:r}function aI(r){return r.instantiationMode==="EAGER"}class oI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const lI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},cI=ze.INFO,uI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},hI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=uI[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=cI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const dI=(r,e)=>e.some(t=>r instanceof t);let Ib,Nb;function fI(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,$p=new WeakMap,ZE=new WeakMap,Tp=new WeakMap,Bg=new WeakMap;function pI(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Rs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&XE.set(t,r)}).catch(()=>{}),Bg.set(e,r),e}function gI(r){if($p.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});$p.set(r,e)}let Gp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ZE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yI(r){Gp=r(Gp)}function vI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Sp(this),e,...t);return ZE.set(i,e.sort?e.sort():[e]),Rs(i)}:mI().includes(r)?function(...e){return r.apply(Sp(this),e),Rs(XE.get(this))}:function(...e){return Rs(r.apply(Sp(this),e))}}function _I(r){return typeof r=="function"?vI(r):(r instanceof IDBTransaction&&gI(r),dI(r,fI())?new Proxy(r,Gp):r)}function Rs(r){if(r instanceof IDBRequest)return pI(r);if(Tp.has(r))return Tp.get(r);const e=_I(r);return e!==r&&(Tp.set(r,e),Bg.set(e,r)),e}const Sp=r=>Bg.get(r);function bI(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Rs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Rs(c.result),m.oldVersion,m.newVersion,Rs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const wI=["get","getKey","getAll","getAllKeys","count"],EI=["put","add","delete","clear"],Ap=new Map;function Ob(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=EI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||wI.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Ap.set(e,l),l}yI(r=>({...r,get:(e,t,i)=>Ob(e,t)||r.get(e,t,i),has:(e,t)=>!!Ob(e,t)||r.has(e,t)}));class TI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function SI(r){return r.getComponent()?.type==="VERSION"}const Kp="@firebase/app",jb="0.14.6";const ji=new Lg("@firebase/app"),AI="@firebase/app-compat",RI="@firebase/analytics-compat",CI="@firebase/analytics",xI="@firebase/app-check-compat",II="@firebase/app-check",NI="@firebase/auth",OI="@firebase/auth-compat",jI="@firebase/database",kI="@firebase/data-connect",DI="@firebase/database-compat",PI="@firebase/functions",MI="@firebase/functions-compat",VI="@firebase/installations",UI="@firebase/installations-compat",LI="@firebase/messaging",BI="@firebase/messaging-compat",zI="@firebase/performance",qI="@firebase/performance-compat",FI="@firebase/remote-config",HI="@firebase/remote-config-compat",$I="@firebase/storage",GI="@firebase/storage-compat",KI="@firebase/firestore",QI="@firebase/ai",YI="@firebase/firestore-compat",WI="firebase",JI="12.6.0";const Qp="[DEFAULT]",XI={[Kp]:"fire-core",[AI]:"fire-core-compat",[CI]:"fire-analytics",[RI]:"fire-analytics-compat",[II]:"fire-app-check",[xI]:"fire-app-check-compat",[NI]:"fire-auth",[OI]:"fire-auth-compat",[jI]:"fire-rtdb",[kI]:"fire-data-connect",[DI]:"fire-rtdb-compat",[PI]:"fire-fn",[MI]:"fire-fn-compat",[VI]:"fire-iid",[UI]:"fire-iid-compat",[LI]:"fire-fcm",[BI]:"fire-fcm-compat",[zI]:"fire-perf",[qI]:"fire-perf-compat",[FI]:"fire-rc",[HI]:"fire-rc-compat",[$I]:"fire-gcs",[GI]:"fire-gcs-compat",[KI]:"fire-fst",[YI]:"fire-fst-compat",[QI]:"fire-vertex","fire-js":"fire-js",[WI]:"fire-js-all"};const yd=new Map,ZI=new Map,Yp=new Map;function kb(r,e){try{r.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ko(r){const e=r.name;if(Yp.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,r);for(const t of yd.values())kb(t,r);for(const t of ZI.values())kb(t,r);return!0}function zg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const eN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Zc("app","Firebase",eN);class tN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const sl=JI;function eT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Qp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(t||(t=QE()),!t)throw Cs.create("no-options");const l=yd.get(a);if(l){if(Os(t,l.options)&&Os(i,l.config))return l;throw Cs.create("duplicate-app",{appName:a})}const c=new oI(a);for(const m of Yp.values())c.addComponent(m);const d=new tN(t,i,c);return yd.set(a,d),d}function tT(r=Qp){const e=yd.get(r);if(!e&&r===Qp&&QE())return eT();if(!e)throw Cs.create("no-app",{appName:r});return e}function xs(r,e,t){let i=XI[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(c.join(" "));return}Ko(new Na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nN="firebase-heartbeat-database",rN=1,Bc="firebase-heartbeat-store";let Rp=null;function nT(){return Rp||(Rp=bI(nN,rN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),Rp}async function iN(r){try{const t=(await nT()).transaction(Bc),i=await t.objectStore(Bc).get(rT(r));return await t.done,i}catch(e){if(e instanceof Mi)ji.warn(e.message);else{const t=Cs.create("idb-get",{originalErrorMessage:e?.message});ji.warn(t.message)}}}async function Db(r,e){try{const i=(await nT()).transaction(Bc,"readwrite");await i.objectStore(Bc).put(e,rT(r)),await i.done}catch(t){if(t instanceof Mi)ji.warn(t.message);else{const i=Cs.create("idb-set",{originalErrorMessage:t?.message});ji.warn(i.message)}}}function rT(r){return`${r.name}!${r.options.appId}`}const sN=1024,aN=30;class oN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>aN){const a=uN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pb(),{heartbeatsToSend:t,unsentEntries:i}=lN(this._heartbeatsCache.heartbeats),a=gd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ji.warn(e),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function lN(r,e=sN){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Mb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Mb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class cN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?Wx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mb(r){return gd(JSON.stringify({version:2,heartbeats:r})).length}function uN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function hN(r){Ko(new Na("platform-logger",e=>new TI(e),"PRIVATE")),Ko(new Na("heartbeat",e=>new oN(e),"PRIVATE")),xs(Kp,jb,r),xs(Kp,jb,"esm2020"),xs("fire-js","")}hN("");var dN="firebase",fN="12.6.0";xs(dN,fN,"app");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mN=iT,sT=new Zc("auth","Firebase",iT());const vd=new Lg("@firebase/auth");function pN(r,...e){vd.logLevel<=ze.WARN&&vd.warn(`Auth (${sl}): ${r}`,...e)}function sd(r,...e){vd.logLevel<=ze.ERROR&&vd.error(`Auth (${sl}): ${r}`,...e)}function sr(r,...e){throw Fg(r,...e)}function Tr(r,...e){return Fg(r,...e)}function qg(r,e,t){const i={...mN(),[e]:t};return new Zc("auth","Firebase",i).create(e,{appName:r.name})}function Ii(r){return qg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gN(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&sr(r,"argument-error"),qg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fg(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return sT.create(r,...e)}function Ce(r,e,...t){if(!r)throw Fg(e,...t)}function Ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sd(e),new Error(e)}function ki(r,e){r||Ri(e)}function Wp(){return typeof self<"u"&&self.location?.href||""}function yN(){return Vb()==="http:"||Vb()==="https:"}function Vb(){return typeof self<"u"&&self.location?.protocol||null}function vN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yN()||$x()||"connection"in navigator)?navigator.onLine:!0}function _N(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=qx()||Gx()}get(){return vN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hg(r,e){ki(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class aT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new tu(3e4,6e4);function Vi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ui(r,e,t,i,a={}){return oT(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=eu({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return Hx()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(g.credentials="include"),aT.fetch()(await lT(r,r.config.apiHost,t,d),g)})}async function oT(r,e,t){r._canInitEmulator=!1;const i={...bN,...e};try{const a=new SN(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw qh(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw qh(r,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qg(r,v,g);sr(r,v)}}catch(a){if(a instanceof Mi)throw a;sr(r,"network-request-failed",{message:String(a)})}}async function nu(r,e,t,i,a={}){const l=await Ui(r,e,t,i,a);return"mfaPendingCredential"in l&&sr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function lT(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?Hg(r.config,a):`${r.config.apiScheme}://${a}`;return wN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function TN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),EN.get())})}}function qh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Tr(r,e,i);return a.customData._tokenResponse=t,a}function Ub(r){return r!==void 0&&r.enterprise!==void 0}class AN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RN(r,e){return Ui(r,"GET","/v2/recaptchaConfig",Vi(r,e))}async function CN(r,e){return Ui(r,"POST","/v1/accounts:delete",e)}async function _d(r,e){return Ui(r,"POST","/v1/accounts:lookup",e)}function jc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xN(r,e=!1){const t=$t(r),i=await t.getIdToken(e),a=$g(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:jc(Cp(a.auth_time)),issuedAtTime:jc(Cp(a.iat)),expirationTime:jc(Cp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cp(r){return Number(r)*1e3}function $g(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=GE(t);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Lb(r){const e=$g(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mi&&IN(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function IN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bd(r){const e=r.auth,t=await r.getIdToken(),i=await zc(r,_d(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?cT(a.providerUserInfo):[],c=jN(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Jp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function ON(r){const e=$t(r);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function cT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function kN(r,e){const t=await oT(r,{},async()=>{const i=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await lT(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(m.credentials="include"),aT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DN(r,e){return Ui(r,"POST","/v2/accounts:revokeToken",Vi(r,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Lb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await kN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new zo;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Ri("not implemented")}}function _s(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Er{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Jp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await zc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await zc(this,CN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:A,providerData:j,stsTokenManager:O}=t;Ce(w&&O,e,"internal-error");const C=zo.fromJSON(this.name,O);Ce(typeof w=="string",e,"internal-error"),_s(i,e.name),_s(a,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),_s(l,e.name),_s(c,e.name),_s(d,e.name),_s(m,e.name),_s(g,e.name),_s(v,e.name);const B=new Er({uid:w,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:C,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(B.providerData=j.map(P=>({...P}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,t,i=!1){const a=new zo;a.updateFromServerResponse(t);const l=new Er({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await bd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?cT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new zo;d.updateFromIdToken(i);const m=new Er({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Jp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const Bb=new Map;function Ci(r){ki(r instanceof Function,"Expected a class definition");let e=Bb.get(r);return e?(ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Bb.set(r,e),e)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uT.type="NONE";const zb=uT;function ad(r,e,t){return`firebase:${r}:${e}:${t}`}class qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=ad("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _d(this.auth,{idToken:e}).catch(()=>{});return t?Er._fromGetAccountInfoResponse(this.auth,t,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new qo(Ci(zb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ci(zb);const c=ad(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let w;if(typeof v=="string"){const T=await _d(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Er._fromGetAccountInfoResponse(e,T,v)}else w=Er._fromJSON(e,v);g!==l&&(d=w),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new qo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new qo(l,e,i))}}function qb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||fT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function hT(r=fn()){return/firefox\//i.test(r)}function dT(r=fn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fT(r=fn()){return/crios\//i.test(r)}function mT(r=fn()){return/iemobile/i.test(r)}function pT(r=fn()){return/android/i.test(r)}function gT(r=fn()){return/blackberry/i.test(r)}function yT(r=fn()){return/webos/i.test(r)}function Gg(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PN(r=fn()){return Gg(r)&&!!window.navigator?.standalone}function MN(){return Kx()&&document.documentMode===10}function vT(r=fn()){return Gg(r)||pT(r)||yT(r)||gT(r)||/windows phone/i.test(r)||mT(r)}function _T(r,e=[]){let t;switch(r){case"Browser":t=qb(fn());break;case"Worker":t=`${qb(fn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function UN(r,e={}){return Ui(r,"GET","/v2/passwordPolicy",Vi(r,e))}const LN=6;class BN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??LN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class zN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _d(this,{idToken:e}),i=await Er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Ii(this));const t=e?$t(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),t=new BN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await DN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Li(r){return $t(r)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=tI(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(r){Gd=r}function bT(r){return Gd.loadJS(r)}function FN(){return Gd.recaptchaEnterpriseScript}function HN(){return Gd.gapiScript}function $N(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GN{constructor(){this.enterprise=new KN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QN="recaptcha-enterprise",wT="NO_RECAPTCHA";class YN{constructor(e){this.type=QN,this.auth=Li(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{RN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new AN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Ub(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(wT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Ub(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=FN();m.length!==0&&(m+=d),bT(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Hb(r,e,t,i=!1,a=!1){const l=new YN(r);let c;if(a)c=wT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wd(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hb(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hb(r,e,t,t==="getOobCode");return i(r,c)}else return Promise.reject(l)})}function WN(r,e){const t=zg(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Os(l,e??{}))return a;sr(a,"already-initialized")}return t.initialize({options:e})}function JN(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ci);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function XN(r,e,t){const i=Li(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=ET(e),{host:c,port:d}=ZN(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Os(g,i.config.emulator)&&Os(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,il(c)?(WE(`${l}//${c}${m}`),JE("Auth",!0)):eO()}function ET(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZN(r){const e=ET(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:$b(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:$b(c)}}}function $b(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function tO(r,e){return Ui(r,"POST","/v1/accounts:signUp",e)}async function nO(r,e){return nu(r,"POST","/v1/accounts:signInWithPassword",Vi(r,e))}async function TT(r,e){return Ui(r,"POST","/v1/accounts:sendOobCode",Vi(r,e))}async function rO(r,e){return TT(r,e)}async function iO(r,e){return TT(r,e)}async function sO(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",Vi(r,e))}async function aO(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",Vi(r,e))}class qc extends Kg{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new qc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wd(e,t,"signInWithPassword",nO);case"emailLink":return sO(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wd(e,i,"signUpPassword",tO);case"emailLink":return aO(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fo(r,e){return nu(r,"POST","/v1/accounts:signInWithIdp",Vi(r,e))}const oO="http://localhost";class Oa extends Kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Oa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Fo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:oO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}function lO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cO(r){const e=Sc(Ac(r)).link,t=e?Sc(Ac(e)).deep_link_id:null,i=Sc(Ac(r)).deep_link_id;return(i?Sc(Ac(i)).link:null)||i||t||e||r}class Qg{constructor(e){const t=Sc(Ac(e)),i=t.apiKey??null,a=t.oobCode??null,l=lO(t.mode??null);Ce(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cO(e);try{return new Qg(t)}catch{return null}}}class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return qc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Qg.parseLink(t);return Ce(i,"argument-error"),qc._fromEmailAndCode(e,i.code,i.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends ru{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ai extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";class Es extends ru{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class Ts extends ru{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ts.credential(t,i)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";async function uO(r,e){return nu(r,"POST","/v1/accounts:signUp",Vi(r,e))}class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Er._fromIdTokenResponse(e,i,a),c=Gb(i);return new ja({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Gb(i);return new ja({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Gb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ed extends Mi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ed(e,t,i,a)}}function ST(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(r,l,e,i):l})}async function hO(r,e,t=!1){const i=await zc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ja._forOperation(r,"link",i)}async function dO(r,e,t=!1){const{auth:i}=r;if(Ln(i.app))return Promise.reject(Ii(i));const a="reauthenticate";try{const l=await zc(r,ST(i,a,e,r),t);Ce(l.idToken,i,"internal-error");const c=$g(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(r.uid===d,i,"user-mismatch"),ja._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&sr(i,"user-mismatch"),l}}async function AT(r,e,t=!1){if(Ln(r.app))return Promise.reject(Ii(r));const i="signIn",a=await ST(r,i,e),l=await ja._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function fO(r,e){return AT(Li(r),e)}async function RT(r){const e=Li(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mO(r,e,t){const i=Li(r);await wd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iO)}async function pO(r,e,t){if(Ln(r.app))return Promise.reject(Ii(r));const i=Li(r),c=await wd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&RT(r),m}),d=await ja._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function gO(r,e,t){return Ln(r.app)?Promise.reject(Ii(r)):fO($t(r),al.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&RT(r),i})}async function yO(r,e){const t=$t(r),a={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:l}=await rO(t.auth,a);l!==r.email&&await r.reload()}function vO(r,e,t,i){return $t(r).onIdTokenChanged(e,t,i)}function _O(r,e,t){return $t(r).beforeAuthStateChanged(e,t)}function Wg(r,e,t,i){return $t(r).onAuthStateChanged(e,t,i)}function CT(r){return $t(r).signOut()}const Td="__sak";class xT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bO=1e3,wO=10;class IT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);MN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const EO=IT;class NT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NT.type="SESSION";const OT=NT;function TO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Kd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await TO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];function Jg(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class SO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Jg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Jr(){return window}function AO(r){Jr().location.href=r}function jT(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function RO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CO(){return navigator?.serviceWorker?.controller||null}function xO(){return jT()?self:null}const kT="firebaseLocalStorageDb",IO=1,Sd="firebaseLocalStorage",DT="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qd(r,e){return r.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function NO(){const r=indexedDB.deleteDatabase(kT);return new iu(r).toPromise()}function Xp(){const r=indexedDB.open(kT,IO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Sd,{keyPath:DT})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Sd)?e(i):(i.close(),await NO(),e(await Xp()))})})}async function Kb(r,e,t){const i=Qd(r,!0).put({[DT]:e,value:t});return new iu(i).toPromise()}async function OO(r,e){const t=Qd(r,!1).get(e),i=await new iu(t).toPromise();return i===void 0?null:i.value}function Qb(r,e){const t=Qd(r,!0).delete(e);return new iu(t).toPromise()}const jO=800,kO=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(xO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new SO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Kb(e,Td,"1"),await Qb(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>OO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qd(a,!1).getAll();return new iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const DO=PT;new tu(3e4,6e4);function MT(r,e){return e?Ci(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Xg extends Kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PO(r){return AT(r.auth,new Xg(r),r.bypassAuthState)}function MO(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),dO(t,new Xg(r),r.bypassAuthState)}async function VO(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),hO(t,new Xg(r),r.bypassAuthState)}class VT{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:sr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UO=new tu(2e3,1e4);async function UT(r,e,t){if(Ln(r.app))return Promise.reject(Tr(r,"operation-not-supported-in-this-environment"));const i=Li(r);gN(r,e,Yg);const a=MT(i,t);return new Ra(i,"signInViaPopup",e,a).executeNotNull()}class Ra extends VT{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UO.get())};e()}}Ra.currentPopupAction=null;const LO="pendingRedirect",od=new Map;class BO extends VT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const i=await zO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zO(r,e){const t=HO(e),i=FO(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function qO(r,e){od.set(r._key(),e)}function FO(r){return Ci(r._redirectPersistence)}function HO(r){return ad(LO,r.config.apiKey,r.name)}async function $O(r,e,t=!1){if(Ln(r.app))return Promise.reject(Ii(r));const i=Li(r),a=MT(i,e),c=await new BO(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const GO=600*1e3;class KO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!LT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(e))}saveEventToCache(e){this.cachedEventUids.add(Yb(e)),this.lastProcessedEventTime=Date.now()}}function Yb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(r);default:return!1}}async function YO(r,e={}){return Ui(r,"GET","/v1/projects",e)}const WO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;async function XO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await YO(r);for(const t of e)try{if(ZO(t))return}catch{}sr(r,"unauthorized-domain")}function ZO(r){const e=Wp(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!JO.test(t))return!1;if(WO.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const ej=new tu(3e4,6e4);function Wb(){const r=Jr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function tj(r){return new Promise((e,t)=>{function i(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),t(Tr(r,"network-request-failed"))},timeout:ej.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)i();else{const a=$N("iframefcb");return Jr()[a]=()=>{gapi.load?i():t(Tr(r,"network-request-failed"))},bT(`${HN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function nj(r){return ld=ld||tj(r),ld}const rj=new tu(5e3,15e3),ij="__/auth/iframe",sj="emulator/auth/iframe",aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lj(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Hg(e,sj):`https://${r.config.authDomain}/${ij}`,i={apiKey:e.apiKey,appName:r.name,v:sl},a=oj.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${eu(i).slice(1)}`}async function cj(r){const e=await nj(r),t=Jr().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:lj(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aj,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Tr(r,"network-request-failed"),d=Jr().setTimeout(()=>{l(c)},rj.get());function m(){Jr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const uj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hj=500,dj=600,fj="_blank",mj="http://localhost";class Jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pj(r,e,t,i=hj,a=dj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...uj,width:i.toString(),height:a.toString(),top:l,left:c},g=fn().toLowerCase();t&&(d=fT(g)?fj:t),hT(g)&&(e=e||mj,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[A,j])=>`${T}${A}=${j},`,"");if(PN(g)&&d!=="_self")return gj(e||"",d),new Jb(null);const w=window.open(e||"",d,v);Ce(w,r,"popup-blocked");try{w.focus()}catch{}return new Jb(w)}function gj(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const yj="__/auth/handler",vj="emulator/auth/handler",_j=encodeURIComponent("fac");async function Xb(r,e,t,i,a,l){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:sl,eventId:a};if(e instanceof Yg){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",eI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof ru){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${_j}=${encodeURIComponent(m)}`:"";return`${bj(r)}?${eu(d).slice(1)}${g}`}function bj({config:r}){return r.emulator?Hg(r,vj):`https://${r.authDomain}/${yj}`}const xp="webStorageSupport";class wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=$O,this._overrideRedirectResult=qO}async _openPopup(e,t,i,a){ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Xb(e,t,i,Wp(),a);return pj(e,l,Jg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Xb(e,t,i,Wp(),a);return AO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await cj(e),i=new KO(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},a=>{const l=a?.[0]?.[xp];l!==void 0&&t(!!l),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vT()||dT()||Gg()}}const Ej=wj;var Zb="@firebase/auth",ew="1.11.1";class Tj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sj(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aj(r){Ko(new Na("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(r)},g=new zN(i,a,l,m);return JN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ko(new Na("auth-internal",e=>{const t=Li(e.getProvider("auth").getImmediate());return(i=>new Tj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(Zb,ew,Sj(r)),xs(Zb,ew,"esm2020")}const Rj=300,Cj=YE("authIdTokenMaxAge")||Rj;let tw=null;const xj=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Cj)return;const a=t?.token;tw!==a&&(tw=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ij(r=tT()){const e=zg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=WN(r,{popupRedirectResolver:Ej,persistence:[DO,EO,OT]}),i=YE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=xj(l.toString());_O(t,c,()=>c(t.currentUser)),vO(t,d=>c(d))}}const a=KE("auth");return a&&XN(t,`http://${a}`),t}function Nj(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=Tr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Nj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aj("Browser");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,BT;(function(){var r;function e(x,N){function k(){}k.prototype=N.prototype,x.F=N.prototype,x.prototype=new k,x.prototype.constructor=x,x.D=function(q,V,F){for(var D=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)D[Je-2]=arguments[Je];return N.prototype[V].apply(q,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,N,k){k||(k=0);const q=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)q[V]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(V=0;V<16;++V)q[V]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=x.g[0],k=x.g[1],V=x.g[2];let F=x.g[3],D;D=N+(F^k&(V^F))+q[0]+3614090360&4294967295,N=k+(D<<7&4294967295|D>>>25),D=F+(V^N&(k^V))+q[1]+3905402710&4294967295,F=N+(D<<12&4294967295|D>>>20),D=V+(k^F&(N^k))+q[2]+606105819&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(N^V&(F^N))+q[3]+3250441966&4294967295,k=V+(D<<22&4294967295|D>>>10),D=N+(F^k&(V^F))+q[4]+4118548399&4294967295,N=k+(D<<7&4294967295|D>>>25),D=F+(V^N&(k^V))+q[5]+1200080426&4294967295,F=N+(D<<12&4294967295|D>>>20),D=V+(k^F&(N^k))+q[6]+2821735955&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(N^V&(F^N))+q[7]+4249261313&4294967295,k=V+(D<<22&4294967295|D>>>10),D=N+(F^k&(V^F))+q[8]+1770035416&4294967295,N=k+(D<<7&4294967295|D>>>25),D=F+(V^N&(k^V))+q[9]+2336552879&4294967295,F=N+(D<<12&4294967295|D>>>20),D=V+(k^F&(N^k))+q[10]+4294925233&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(N^V&(F^N))+q[11]+2304563134&4294967295,k=V+(D<<22&4294967295|D>>>10),D=N+(F^k&(V^F))+q[12]+1804603682&4294967295,N=k+(D<<7&4294967295|D>>>25),D=F+(V^N&(k^V))+q[13]+4254626195&4294967295,F=N+(D<<12&4294967295|D>>>20),D=V+(k^F&(N^k))+q[14]+2792965006&4294967295,V=F+(D<<17&4294967295|D>>>15),D=k+(N^V&(F^N))+q[15]+1236535329&4294967295,k=V+(D<<22&4294967295|D>>>10),D=N+(V^F&(k^V))+q[1]+4129170786&4294967295,N=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(N^k))+q[6]+3225465664&4294967295,F=N+(D<<9&4294967295|D>>>23),D=V+(N^k&(F^N))+q[11]+643717713&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^N&(V^F))+q[0]+3921069994&4294967295,k=V+(D<<20&4294967295|D>>>12),D=N+(V^F&(k^V))+q[5]+3593408605&4294967295,N=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(N^k))+q[10]+38016083&4294967295,F=N+(D<<9&4294967295|D>>>23),D=V+(N^k&(F^N))+q[15]+3634488961&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^N&(V^F))+q[4]+3889429448&4294967295,k=V+(D<<20&4294967295|D>>>12),D=N+(V^F&(k^V))+q[9]+568446438&4294967295,N=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(N^k))+q[14]+3275163606&4294967295,F=N+(D<<9&4294967295|D>>>23),D=V+(N^k&(F^N))+q[3]+4107603335&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^N&(V^F))+q[8]+1163531501&4294967295,k=V+(D<<20&4294967295|D>>>12),D=N+(V^F&(k^V))+q[13]+2850285829&4294967295,N=k+(D<<5&4294967295|D>>>27),D=F+(k^V&(N^k))+q[2]+4243563512&4294967295,F=N+(D<<9&4294967295|D>>>23),D=V+(N^k&(F^N))+q[7]+1735328473&4294967295,V=F+(D<<14&4294967295|D>>>18),D=k+(F^N&(V^F))+q[12]+2368359562&4294967295,k=V+(D<<20&4294967295|D>>>12),D=N+(k^V^F)+q[5]+4294588738&4294967295,N=k+(D<<4&4294967295|D>>>28),D=F+(N^k^V)+q[8]+2272392833&4294967295,F=N+(D<<11&4294967295|D>>>21),D=V+(F^N^k)+q[11]+1839030562&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^N)+q[14]+4259657740&4294967295,k=V+(D<<23&4294967295|D>>>9),D=N+(k^V^F)+q[1]+2763975236&4294967295,N=k+(D<<4&4294967295|D>>>28),D=F+(N^k^V)+q[4]+1272893353&4294967295,F=N+(D<<11&4294967295|D>>>21),D=V+(F^N^k)+q[7]+4139469664&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^N)+q[10]+3200236656&4294967295,k=V+(D<<23&4294967295|D>>>9),D=N+(k^V^F)+q[13]+681279174&4294967295,N=k+(D<<4&4294967295|D>>>28),D=F+(N^k^V)+q[0]+3936430074&4294967295,F=N+(D<<11&4294967295|D>>>21),D=V+(F^N^k)+q[3]+3572445317&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^N)+q[6]+76029189&4294967295,k=V+(D<<23&4294967295|D>>>9),D=N+(k^V^F)+q[9]+3654602809&4294967295,N=k+(D<<4&4294967295|D>>>28),D=F+(N^k^V)+q[12]+3873151461&4294967295,F=N+(D<<11&4294967295|D>>>21),D=V+(F^N^k)+q[15]+530742520&4294967295,V=F+(D<<16&4294967295|D>>>16),D=k+(V^F^N)+q[2]+3299628645&4294967295,k=V+(D<<23&4294967295|D>>>9),D=N+(V^(k|~F))+q[0]+4096336452&4294967295,N=k+(D<<6&4294967295|D>>>26),D=F+(k^(N|~V))+q[7]+1126891415&4294967295,F=N+(D<<10&4294967295|D>>>22),D=V+(N^(F|~k))+q[14]+2878612391&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~N))+q[5]+4237533241&4294967295,k=V+(D<<21&4294967295|D>>>11),D=N+(V^(k|~F))+q[12]+1700485571&4294967295,N=k+(D<<6&4294967295|D>>>26),D=F+(k^(N|~V))+q[3]+2399980690&4294967295,F=N+(D<<10&4294967295|D>>>22),D=V+(N^(F|~k))+q[10]+4293915773&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~N))+q[1]+2240044497&4294967295,k=V+(D<<21&4294967295|D>>>11),D=N+(V^(k|~F))+q[8]+1873313359&4294967295,N=k+(D<<6&4294967295|D>>>26),D=F+(k^(N|~V))+q[15]+4264355552&4294967295,F=N+(D<<10&4294967295|D>>>22),D=V+(N^(F|~k))+q[6]+2734768916&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~N))+q[13]+1309151649&4294967295,k=V+(D<<21&4294967295|D>>>11),D=N+(V^(k|~F))+q[4]+4149444226&4294967295,N=k+(D<<6&4294967295|D>>>26),D=F+(k^(N|~V))+q[11]+3174756917&4294967295,F=N+(D<<10&4294967295|D>>>22),D=V+(N^(F|~k))+q[2]+718787259&4294967295,V=F+(D<<15&4294967295|D>>>17),D=k+(F^(V|~N))+q[9]+3951481745&4294967295,x.g[0]=x.g[0]+N&4294967295,x.g[1]=x.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+F&4294967295}i.prototype.v=function(x,N){N===void 0&&(N=x.length);const k=N-this.blockSize,q=this.C;let V=this.h,F=0;for(;F<N;){if(V==0)for(;F<=k;)a(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<N;)if(q[V++]=x.charCodeAt(F++),V==this.blockSize){a(this,q),V=0;break}}else for(;F<N;)if(q[V++]=x[F++],V==this.blockSize){a(this,q),V=0;break}}this.h=V,this.o+=N},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var N=1;N<x.length-8;++N)x[N]=0;N=this.o*8;for(var k=x.length-8;k<x.length;++k)x[k]=N&255,N/=256;for(this.v(x),x=Array(16),N=0,k=0;k<4;++k)for(let q=0;q<32;q+=8)x[N++]=this.g[k]>>>q&255;return x};function l(x,N){var k=d;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=N(x)}function c(x,N){this.h=N;const k=[];let q=!0;for(let V=x.length-1;V>=0;V--){const F=x[V]|0;q&&F==N||(k[V]=F,q=!1)}this.g=k}var d={};function m(x){return-128<=x&&x<128?l(x,function(N){return new c([N|0],N<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return C(g(-x));const N=[];let k=1;for(let q=0;x>=k;q++)N[q]=x/k|0,k*=4294967296;return new c(N,0)}function v(x,N){if(x.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x.charAt(0)=="-")return C(v(x.substring(1),N));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(N,8));let q=w;for(let F=0;F<x.length;F+=8){var V=Math.min(8,x.length-F);const D=parseInt(x.substring(F,F+V),N);V<8?(V=g(Math.pow(N,V)),q=q.j(V).add(g(D))):(q=q.j(k),q=q.add(g(D)))}return q}var w=m(0),T=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(O(this))return-C(this).m();let x=0,N=1;for(let k=0;k<this.g.length;k++){const q=this.i(k);x+=(q>=0?q:4294967296+q)*N,N*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(O(this))return"-"+C(this).toString(x);const N=g(Math.pow(x,6));var k=this;let q="";for(;;){const V=Z(k,N).g;k=B(k,V.j(N));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(x);if(k=V,j(k))return F+q;for(;F.length<6;)F="0"+F;q=F+q}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(let N=0;N<x.g.length;N++)if(x.g[N]!=0)return!1;return!0}function O(x){return x.h==-1}r.l=function(x){return x=B(this,x),O(x)?-1:j(x)?0:1};function C(x){const N=x.g.length,k=[];for(let q=0;q<N;q++)k[q]=~x.g[q];return new c(k,~x.h).add(T)}r.abs=function(){return O(this)?C(this):this},r.add=function(x){const N=Math.max(this.g.length,x.g.length),k=[];let q=0;for(let V=0;V<=N;V++){let F=q+(this.i(V)&65535)+(x.i(V)&65535),D=(F>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);q=D>>>16,F&=65535,D&=65535,k[V]=D<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function B(x,N){return x.add(C(N))}r.j=function(x){if(j(this)||j(x))return w;if(O(this))return O(x)?C(this).j(C(x)):C(C(this).j(x));if(O(x))return C(this.j(C(x)));if(this.l(A)<0&&x.l(A)<0)return g(this.m()*x.m());const N=this.g.length+x.g.length,k=[];for(var q=0;q<2*N;q++)k[q]=0;for(q=0;q<this.g.length;q++)for(let V=0;V<x.g.length;V++){const F=this.i(q)>>>16,D=this.i(q)&65535,Je=x.i(V)>>>16,be=x.i(V)&65535;k[2*q+2*V]+=D*be,P(k,2*q+2*V),k[2*q+2*V+1]+=F*be,P(k,2*q+2*V+1),k[2*q+2*V+1]+=D*Je,P(k,2*q+2*V+1),k[2*q+2*V+2]+=F*Je,P(k,2*q+2*V+2)}for(x=0;x<N;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=N;x<2*N;x++)k[x]=0;return new c(k,0)};function P(x,N){for(;(x[N]&65535)!=x[N];)x[N+1]+=x[N]>>>16,x[N]&=65535,N++}function z(x,N){this.g=x,this.h=N}function Z(x,N){if(j(N))throw Error("division by zero");if(j(x))return new z(w,w);if(O(x))return N=Z(C(x),N),new z(C(N.g),C(N.h));if(O(N))return N=Z(x,C(N)),new z(C(N.g),N.h);if(x.g.length>30){if(O(x)||O(N))throw Error("slowDivide_ only works with positive integers.");for(var k=T,q=N;q.l(x)<=0;)k=ce(k),q=ce(q);var V=ae(k,1),F=ae(q,1);for(q=ae(q,2),k=ae(k,2);!j(q);){var D=F.add(q);D.l(x)<=0&&(V=V.add(k),F=D),q=ae(q,1),k=ae(k,1)}return N=B(x,V.j(N)),new z(V,N)}for(V=w;x.l(N)>=0;){for(k=Math.max(1,Math.floor(x.m()/N.m())),q=Math.ceil(Math.log(k)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),F=g(k),D=F.j(N);O(D)||D.l(x)>0;)k-=q,F=g(k),D=F.j(N);j(F)&&(F=T),V=V.add(F),x=B(x,D)}return new z(V,x)}r.B=function(x){return Z(this,x).h},r.and=function(x){const N=Math.max(this.g.length,x.g.length),k=[];for(let q=0;q<N;q++)k[q]=this.i(q)&x.i(q);return new c(k,this.h&x.h)},r.or=function(x){const N=Math.max(this.g.length,x.g.length),k=[];for(let q=0;q<N;q++)k[q]=this.i(q)|x.i(q);return new c(k,this.h|x.h)},r.xor=function(x){const N=Math.max(this.g.length,x.g.length),k=[];for(let q=0;q<N;q++)k[q]=this.i(q)^x.i(q);return new c(k,this.h^x.h)};function ce(x){const N=x.g.length+1,k=[];for(let q=0;q<N;q++)k[q]=x.i(q)<<1|x.i(q-1)>>>31;return new c(k,x.h)}function ae(x,N){const k=N>>5;N%=32;const q=x.g.length-k,V=[];for(let F=0;F<q;F++)V[F]=N>0?x.i(F+k)>>>N|x.i(F+k+1)<<32-N:x.i(F+k);return new c(V,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,BT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Is=c}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zT,Rc,qT,cd,Zp,FT,HT,$T;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var E=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in E))break e;E=E[$]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){return g=m,g.apply(null,arguments)}function v(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function w(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,$,W){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return _.prototype[$].apply(R,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function j(h,_){for(let R=1;R<arguments.length;R++){const $=arguments[R];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=h.length||0;const W=$.length||0;h.length=E+W;for(let ue=0;ue<W;ue++)h[E+ue]=$[ue]}else h.push($)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(h){c.setTimeout(()=>{throw h},0)}function B(){var h=x;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,E){const R=z.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new O(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ae=!1,x=new P,N=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(k)}};function k(){for(var h;h=B();){try{h.h.call(h.g)}catch(E){C(E)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ae=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Je(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}w(Je,V),Je.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,_,E,R,$){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++Q,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function Me(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function I(h){const _={};for(const E in h)_[E]=h[E];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)h[E]=R[E];for(let W=0;W<X.length;W++)E=X[W],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,_,E,R,$){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const ue=ie(h,_,R,$);return ue>-1?(_=h[ue],E||(_.fa=!1)):(_=new oe(_,this.src,W,!!R,$),_.fa=E,h.push(_)),_};function Se(h,_){const E=_.type;if(E in h.g){var R=h.g[E],$=Array.prototype.indexOf.call(R,_,void 0),W;(W=$>=0)&&Array.prototype.splice.call(R,$,1),W&&(ge(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ie(h,_,E,R){for(let $=0;$<h.length;++$){const W=h[$];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return $}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Te={};function Ge(h,_,E,R,$){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Ge(h,_[W],E,R,$);return null}return E=_l(E),h&&h[be]?h.J(_,E,d(R)?!!R.capture:!1,$):vn(h,_,E,!1,R,$)}function vn(h,_,E,R,$,W){if(!_)throw Error("Invalid event type");const ue=d($)?!!$.capture:!!$;let je=Fs(h);if(je||(h[de]=je=new he(h)),E=je.add(_,E,R,ue,W),E.proxy)return E;if(R=Wt(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)F||($=ue),$===void 0&&($=!1),h.addEventListener(_.toString(),R,$);else if(h.attachEvent)h.attachEvent(xr(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wt(){function h(E){return _.call(h.src,h.listener,E)}const _=yl;return h}function La(h,_,E,R,$){if(Array.isArray(_))for(var W=0;W<_.length;W++)La(h,_[W],E,R,$);else R=d(R)?!!R.capture:!!R,E=_l(E),h&&h[be]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],E=ie(_,E,R,$),E>-1&&(ge(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=Fs(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ie(_,E,R,$)),(E=h>-1?_[h]:null)&&Ba(E))}function Ba(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[be])Se(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(xr(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Fs(_))?(Se(E,h),E.h==0&&(E.src=null,_[de]=null)):ge(h)}}}function xr(h){return h in Te?Te[h]:Te[h]="on"+h}function yl(h,_){if(h.da)h=!0;else{_=new Je(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&Ba(h),h=E.call(R,_)}return h}function Fs(h){return h=h[de],h instanceof he?h:null}var vl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(h){return typeof h=="function"?h:(h[vl]||(h[vl]=function(_){return h.handleEvent(_)}),h[vl])}function Rt(){q.call(this),this.i=new he(this),this.M=this,this.G=null}w(Rt,q),Rt.prototype[be]=!0,Rt.prototype.removeEventListener=function(h,_,E,R){La(this,h,_,E,R)};function Bt(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var $=_;_=new V(R,h),le(_,$)}$=!0;let W,ue;if(E)for(ue=E.length-1;ue>=0;ue--)W=_.g=E[ue],$=Bi(W,R,!0,_)&&$;if(W=_.g=h,$=Bi(W,R,!0,_)&&$,$=Bi(W,R,!1,_)&&$,E)for(ue=0;ue<E.length;ue++)W=_.g=E[ue],$=Bi(W,R,!1,_)&&$}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)ge(E[R]);delete h.g[_],h.h--}}this.G=null},Rt.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},Rt.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function Bi(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let W=0;W<_.length;++W){const ue=_[W];if(ue&&!ue.da&&ue.capture==E){const je=ue.listener,bt=ue.ha||ue.src;ue.fa&&Se(h.i,ue),$=je.call(bt,R)!==!1&&$}}return $&&!R.defaultPrevented}function gf(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function du(h){h.g=gf(()=>{h.g=null,h.i&&(h.i=!1,du(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class mn extends q{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(h){q.call(this),this.h=h,this.g={}}w(Hs,q);var bl=[];function wl(h){De(h.g,function(_,E){this.g.hasOwnProperty(E)&&Ba(_)},h),h.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),wl(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=c.JSON.stringify,yf=c.JSON.parse,fu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function mu(){}function pu(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){V.call(this,"d")}w(Jt,V);function $n(){V.call(this,"c")}w($n,V);var _t={},gu=null;function za(){return gu=gu||new Rt}_t.Ia="serverreachability";function yu(h){V.call(this,_t.Ia,h)}w(yu,V);function Ir(h){const _=za();Bt(_,new yu(_))}_t.STAT_EVENT="statevent";function $s(h,_){V.call(this,_t.STAT_EVENT,h),this.stat=_}w($s,V);function Ct(h){const _=za();Bt(_,new $s(_,h))}_t.Ja="timingevent";function Nr(h,_){V.call(this,_t.Ja,h),this.size=_}w(Nr,V);function Or(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function vf(h,_,E,R,$,W){h.info(function(){if(h.g)if(W){var ue="",je=W.split("&");for(let Ye=0;Ye<je.length;Ye++){var bt=je[Ye].split("=");if(bt.length>1){const dt=bt[0];bt=bt[1];const Yn=dt.split("_");ue=Yn.length>=2&&Yn[1]=="type"?ue+(dt+"="+bt+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+ue})}function vu(h,_,E,R,$,W,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+W+" "+ue})}function jr(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+_f(h,E)+(R?" "+R:"")})}function Gs(h,_){h.info(function(){return"TIMEOUT: "+_})}lr.prototype.info=function(){};function _f(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return zi(W)}catch{return _}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tl;function Qs(){}w(Qs,mu),Qs.prototype.g=function(){return new XMLHttpRequest},Tl=new Qs;function si(h){return encodeURIComponent(String(h))}function _u(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function cr(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var xt={},Gt={};function kr(h,_,E){h.M=1,h.A=Ys(Nt(_)),h.u=E,h.R=!0,qa(h,null)}function qa(h,_){h.F=Date.now(),Dr(h),h.B=Nt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ga(E.i,"t",R),h.C=0,E=h.j.L,h.h=new ur,h.g=Du(h.j,E?_:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var $="readystatechange";Array.isArray($)||($&&(bl[0]=$.toString()),$=bl);for(let W=0;W<$.length;W++){const ue=Ge(E,$[W],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?I(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ir(),vf(h.i,h.v,h.B,h.l,h.S,h.u)}cr.prototype.ba=function(h){h=h.target;const _=this.O;_&&fr(h)==3?_.j():this.Y(h)},cr.prototype.Y=function(h){try{if(h==this.g)e:{const je=fr(this.g),bt=this.g.ya(),Ye=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||je!=4||bt==7||(bt==8||Ye<=0?Ir(3):Ir(2)),Pr(this);var _=this.g.ca();this.X=_;var E=bf(this);if(this.o=_==200,vu(this.i,this.v,this.B,this.l,this.S,je,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var W=R;break t}}W=null}if(h=W)jr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mr(this,h);else{this.o=!1,this.m=3,Ct(12),In(this),Gn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=wu(this,E),dt==Gt){je==4&&(this.m=4,Ct(14),h=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==xt){this.m=4,Ct(15),jr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else jr(this.i,this.l,dt,null),Mr(this,dt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)jr(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Gn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ul(ue),ue.P=!0,Ct(11))}}else jr(this.i,this.l,E,null),Mr(this,E);je==4&&In(this),this.o&&!this.K&&(je==4?Nu(this.j,this):(this.o=!1,Dr(this)))}else oi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),Gn(this)}}}catch{}finally{}};function bf(h){if(!bu(h))return h.g.la();const _=Xt(h.g);if(_==="")return"";let E="";const R=_.length,$=fr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Gn(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,E+=h.h.i.decode(_[W],{stream:!($&&W==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function bu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function wu(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?Gt:(E=Number(_.substring(E,R)),isNaN(E)?xt:(R+=1,R+E>_.length?Gt:(_=_.slice(R,R+E),h.C=R+E,_)))}cr.prototype.cancel=function(){this.K=!0,In(this)};function Dr(h){h.T=Date.now()+h.H,Fa(h,h.H)}function Fa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Or(g(h.aa,h),_)}function Pr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}cr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gs(this.i,this.B),this.M!=2&&(Ir(),Ct(17)),In(this),this.m=2,Gn(this)):Fa(this,this.T-h)};function Gn(h){h.j.I==0||h.K||Nu(h.j,h)}function In(h){Pr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,wl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Mr(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Ur(E.h,h))){if(!h.L&&Ur(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ja(E),Yi(E);else break e;na(E),Ct(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Or(g(E.Va,E),6e3));Vr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hr(E,11)}else if((h.L||E.g==h)&&Ja(E),!D(_))for($=E.Ba.g.parse(_),_=0;_<$.length;_++){let Ye=$[_];const dt=Ye[0];if(!(dt<=E.K))if(E.K=dt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const $r=Ye[4];$r!=null&&(E.za=$r,E.j.info("SVER="+E.za));const mr=Ye[5];mr!=null&&typeof mr=="number"&&mr>0&&(R=1.5*mr,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const pr=h.g;if(pr){const ra=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var W=R.h;W.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Rl(W,W.h),W.h=null))}if(R.G){const Xa=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(R.wa=Xa,Ze(R.J,R.G,Xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ue=h;if(R.na=ku(R,R.L?R.ba:null,R.W),ue.L){Cl(R.h,ue);var je=ue,bt=R.O;bt&&(je.H=bt),je.D&&(Pr(je),Dr(je)),R.g=ue}else xu(R);E.i.length>0&&Fr(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Hr(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Hr(E,7):Ml(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Ir(4)}catch{}}var It=class{constructor(h,_){this.g=h,this.map=_}};function Sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vr(h){return h.h?1:h.g?h.g.size:0}function Ur(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Rl(h,_){h.g?h.g.add(_):h.h=_}function Cl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Sl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return A(h.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let $,W=null;R>=0?($=h[E].substring(0,R),W=h[E].substring(R+1)):$=h[E],_($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Nn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Nn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,qi(this,h.u),this.h=h.h,Il(this,Ru(h.i)),this.m=h.m):h&&(_=String(h).match(Eu))?(this.l=!1,Kt(this,_[1]||"",!0),this.o=Lr(_[2]||""),this.g=Lr(_[3]||"",!0),qi(this,_[4]),this.h=Lr(_[5]||"",!0),Il(this,_[6]||"",!0),this.m=Lr(_[7]||"")):(this.l=!1,this.i=new Hi(null,this.l))}Nn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ws(_,$a,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ws(_,$a,!0),"@"),h.push(si(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ws(E,E.charAt(0)=="/"?Nl:Tu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ws(E,Su)),h.join("")},Nn.prototype.resolve=function(h){const _=Nt(this);let E=!!h.j;E?Kt(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)qi(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=_.h.lastIndexOf("/");$!=-1&&(R=_.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let ue=0;ue<$.length;){const je=$[ue++];je=="."?R&&ue==$.length&&W.push(""):je==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&ue==$.length&&W.push("")):(W.push(je),R=!0)}R=W.join("/")}else R=$}return E?_.h=R:E=h.i.toString()!=="",E?Il(_,Ru(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Nt(h){return new Nn(h)}function Kt(h,_,E){h.j=E?Lr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function qi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Il(h,_,E){_ instanceof Hi?(h.i=_,Ka(h.i,h.l)):(E||(_=Ws(_,Fi)),h.i=new Hi(_,h.l))}function Ze(h,_,E){h.i.set(_,E)}function Ys(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Lr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ws(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,_n),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $a=/[#\/\?@]/g,Tu=/[#\?:]/g,Nl=/[#\?]/g,Fi=/[#\?@]/g,Su=/#/g;function Hi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ha(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=Hi.prototype,r.add=function(h,_){bn(this),this.i=null,h=$i(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function Au(h,_){bn(h),_=$i(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ol(h,_){return bn(h),_=$i(h,_),h.g.has(_)}r.forEach=function(h,_){bn(this),this.g.forEach(function(E,R){E.forEach(function($){h.call(_,$,R,this)},this)},this)};function jl(h,_){bn(h);let E=[];if(typeof _=="string")Ol(h,_)&&(E=E.concat(h.g.get($i(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}r.set=function(h,_){return bn(this),this.i=null,h=$i(this,h),Ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=jl(this,h),h.length>0?String(h[0]):_):_};function Ga(h,_,E){Au(h,_),E.length>0&&(h.i=null,h.g.set($i(h,_),A(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const $=si(E);E=jl(this,E);for(let W=0;W<E.length;W++){let ue=$;E[W]!==""&&(ue+="="+si(E[W])),h.push(ue)}}return this.i=h.join("&")};function Ru(h){const _=new Hi;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function $i(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ka(h,_){_&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,R){const $=R.toLowerCase();R!=$&&(Au(this,R),Ga(this,$,E))},h)),h.j=_}function hr(h,_){const E=new lr;if(c.Image){const R=new Image;R.onload=v(Kn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Kn,E,"TestLoadImage: error",!1,_,R),R.onabort=v(Kn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Kn,E,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function kl(h,_){const E=new lr,R=new AbortController,$=setTimeout(()=>{R.abort(),Kn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout($),W.ok?Kn(E,"TestPingServer: ok",!0,_):Kn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Kn(E,"TestPingServer: error",!1,_)})}function Kn(h,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Gi(){this.g=new fu}function Br(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Br,mu),Br.prototype.g=function(){return new Js(this.i,this.h)};function Js(h,_){Rt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Js,Rt),r=Js.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,dr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ki(this):dr(this),this.readyState==3&&Qa(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Ki(this))},r.Na=function(h){this.g&&(this.response=h,Ki(this))},r.ga=function(){this.g&&Ki(this)};function Ki(h){h.readyState=4,h.l=null,h.j=null,h.B=null,dr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function dr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qn(h){let _="";return De(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Xs(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Qn(E),typeof h=="string"?E!=null&&si(E):Ze(h,_,E))}function nt(h){Rt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,Rt);var zr=/^https?$/i,Dl=["POST","PUT"];r=nt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){Zs(this,W);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),$=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Dl,_,void 0)>=0)||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of E)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Zs(this,W)}};function Zs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Pl(h),ai(h)}function Pl(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},r.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&fr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),fr(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=W===0){let ue=String(h.D).match(Eu)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!zr.test(ue?ue.toLowerCase():"")}E=R}if(E)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var $=fr(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Pl(h)}}finally{ai(h)}}}}function ai(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Bt(h,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function fr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return fr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),yf(_)}};function Xt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function oi(h){const _={};h=(h.g&&fr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=_u(h[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[$]||[];_[$]=W,W.push(E)}Me(_,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Qi(h){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,h),this.Za=qr("retryDelaySeedMs",1e4,h),this.Ta=qr("forwardChannelMaxRetries",2,h),this.va=qr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new Gi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,E,R){Ct(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=ku(this,null,this.W),Fr(this)};function Ml(h){if(Ya(h),h.I==3){var _=h.V++,E=Nt(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",_),Ze(E,"TYPE","terminate"),ta(h,E),_=new cr(h,h.j,_),_.M=2,_.A=Ys(Nt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Du(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Dr(_)}ju(h)}function Yi(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function Ya(h){Yi(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fr(h){if(!Al(h.h)&&!h.m){h.m=!0;var _=h.Ea;ce||N(),ae||(ce(),ae=!0),x.add(_,h),h.D=0}}function Wa(h,_){return Vr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Or(g(h.Ea,h,_),Ou(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new cr(this,this.j,h);let W=this.o;if(this.U&&(W?(W=I(W),le(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Cu(this,$,_),E=Nt(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ta(this,E),W&&(this.R?_="headers="+si(Qn(W))+"&"+_:this.u&&Xs(E,this.u,W)),Rl(this.h,$),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",_),Ze(E,"SID","null"),$.U=!0,kr($,E,null)):kr($,E,_),this.I=2}}else this.I==3&&(h?Vl(this,h):this.i.length==0||Al(this.h)||Vl(this))};function Vl(h,_){var E;_?E=_.l:E=h.V++;const R=Nt(h.J);Ze(R,"SID",h.M),Ze(R,"RID",E),Ze(R,"AID",h.K),ta(h,R),h.u&&h.o&&Xs(R,h.u,h.o),E=new cr(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Cu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rl(h.h,E),kr(E,R,_)}function ta(h,_){h.H&&De(h.H,function(E,R){Ze(_,R,E)}),h.l&&De({},function(E,R){Ze(_,R,E)})}function Cu(h,_,E){E=Math.min(h.i.length,E);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var $=h.i;let je=-1;for(;;){const bt=["count="+E];je==-1?E>0?(je=$[0].g,bt.push("ofs="+je)):je=0:bt.push("ofs="+je);let Ye=!0;for(let dt=0;dt<E;dt++){var W=$[dt].g;const Yn=$[dt].map;if(W-=je,W<0)je=Math.max(0,$[dt].g-100),Ye=!1;else try{W="req"+W+"_"||"";try{var ue=Yn instanceof Map?Yn:Object.entries(Yn);for(const[$r,mr]of ue){let pr=mr;d(mr)&&(pr=zi(mr)),bt.push(W+$r+"="+encodeURIComponent(pr))}}catch($r){throw bt.push(W+"type="+encodeURIComponent("_badmap")),$r}}catch{R&&R(Yn)}}if(Ye){ue=bt.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),_.G=h,ue}function xu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ce||N(),ae||(ce(),ae=!0),x.add(_,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Or(g(h.Da,h),Ou(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Or(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Yi(this),Iu(this))};function Ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Iu(h){h.g=new cr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Nt(h.na);Ze(_,"RID","rpc"),Ze(_,"SID",h.M),Ze(_,"AID",h.K),Ze(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(_,"TO",h.ia),Ze(_,"TYPE","xmlhttp"),ta(h,_),h.u&&h.o&&Xs(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ys(Nt(_)),E.u=null,E.R=!0,qa(E,h)}r.Va=function(){this.C!=null&&(this.C=null,Yi(this),na(this),Ct(19))};function Ja(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Nu(h,_){var E=null;if(h.g==_){Ja(h),Ul(h),h.g=null;var R=2}else if(Ur(h.h,_))E=_.G,Cl(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var $=h.D;R=za(),Bt(R,new Nr(R,E)),Fr(h)}else xu(h);else if($=_.m,$==3||$==0&&_.X>0||!(R==1&&Wa(h,_)||R==2&&na(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),$){case 1:Hr(h,5);break;case 4:Hr(h,10);break;case 3:Hr(h,6);break;default:Hr(h,2)}}}function Ou(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Hr(h,_){if(h.j.info("Error code "+_),_==2){var E=g(h.bb,h),R=h.Ua;const $=!R;R=new Nn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kt(R,"https"),Ys(R),$?hr(R.toString(),E):kl(R.toString(),E)}else Ct(2);h.I=0,h.l&&h.l.pa(_),ju(h),Ya(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function ju(h){if(h.I=0,h.ja=[],h.l){const _=xl(h.h);(_.length!=0||h.i.length!=0)&&(j(h.ja,_),j(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function ku(h,_,E){var R=E instanceof Nn?Nt(E):new Nn(E);if(R.g!="")_&&(R.g=_+"."+R.g),qi(R,R.u);else{var $=c.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const W=new Nn(null);R&&Kt(W,R),_&&(W.g=_),$&&qi(W,$),E&&(W.h=E),R=W}return E=h.G,_=h.wa,E&&_&&Ze(R,E,_),Ze(R,"VER",h.ka),ta(h,R),R}function Du(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new nt(new Br({ab:E})):new nt(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wi(){}Wi.prototype.g=function(h,_){return new pn(h,_)};function pn(h,_){Rt.call(this),this.g=new Qi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new li(this)}w(pn,Rt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ml(this.g)},pn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zi(h),h=E);_.i.push(new It(_.Ya++,h)),_.I==3&&Fr(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,pn.Z.N.call(this)};function Mu(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}w(Mu,Jt);function Vu(){$n.call(this),this.status=1}w(Vu,$n);function li(h){this.g=h}w(li,Pu),li.prototype.ra=function(){Bt(this.g,"a")},li.prototype.qa=function(h){Bt(this.g,new Mu(h))},li.prototype.pa=function(h){Bt(this.g,new Vu)},li.prototype.oa=function(){Bt(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,$T=function(){return new Wi},HT=function(){return za()},FT=_t,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,cd=Ks,El.COMPLETE="complete",qT=El,pu.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Rc=pu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,zT=nt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore",iw="4.9.2";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let ol="12.3.0";const ka=new Lg("@firebase/firestore");function Po(){return ka.logLevel}function me(r,...e){if(ka.logLevel<=ze.DEBUG){const t=e.map(Zg);ka.debug(`Firestore (${ol}): ${r}`,...t)}}function Di(r,...e){if(ka.logLevel<=ze.ERROR){const t=e.map(Zg);ka.error(`Firestore (${ol}): ${r}`,...t)}}function Qo(r,...e){if(ka.logLevel<=ze.WARN){const t=e.map(Zg);ka.warn(`Firestore (${ol}): ${r}`,...t)}}function Zg(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function xe(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,GT(r,i,t)}function GT(r,e,t){let i=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Di(i),new Error(i)}function Xe(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||GT(e,a,i)}function Oe(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class KT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class jj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kj{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new KT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class Dj{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pj{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Dj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vj(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Vj(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function qe(r,e){return r<e?-1:r>e?1:0}function eg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return Ip(a)===Ip(l)?qe(a,l):Ip(a)?1:-1}return qe(r.length,e.length)}const Uj=55296,Lj=57343;function Ip(r){const e=r.charCodeAt(0);return e>=Uj&&e<=Lj}function Yo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const aw="__name__";class Wr{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&xe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Wr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const i=Wr.isNumericId(e),a=Wr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Wr.extractNumericId(e).compare(Wr.extractNumericId(t)):eg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class lt extends Wr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const Bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Wr{construct(e,t,i){return new an(e,t,i)}static isValidIdentifier(e){return Bj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new an([aw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}function QT(r,e,t){if(!t)throw new fe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zj(r,e,t,i){if(e===!0&&i===!0)throw new fe(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ow(r){if(!Ee.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lw(r){if(Ee.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function YT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function ni(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yd(r);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Lt(r,e){const t={typeString:r};return e&&(t.value=e),t}function su(r,e){if(!YT(r))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new fe(re.INVALID_ARGUMENT,t);return!0}const cw=-62135596800,uw=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*uw);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cw)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uw}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ht(0,0))}static max(){return new Ie(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fc=-1;function qj(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new js(a,Ee.empty(),e)}function Fj(r){return new js(r.readTime,r.key,Fc)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(Ie.min(),Ee.empty(),Fc)}static max(){return new js(Ie.max(),Ee.empty(),Fc)}}function Hj(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}const $j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==$j)throw r;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((a=>a?se.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new se(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function Kj(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(r){return r.name==="IndexedDbTransactionError"}class Wd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;const ty=-1;function Jd(r){return r==null}function Ad(r){return r===0&&1/r==-1/0}function Qj(r){return typeof r=="number"&&Number.isInteger(r)&&!Ad(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const WT="";function Yj(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=hw(e)),e=Wj(r.get(t),e);return hw(e)}function Wj(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case WT:t+="";break;default:t+=l}}return t}function hw(r){return r+WT+""}function dw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Us(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function JT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new sn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Ht(an.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new XT("Invalid base64 string: "+l):l}})(e);return new on(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const t=Jj.exec(r);if(Xe(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}const ZT="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function ny(r){return(r?.mapValue?.fields||{})[eS]?.stringValue===ZT}function Xd(r){const e=r.mapValue.fields[tS];return ny(e)?Xd(e):e}function Hc(r){const e=ks(r.mapValue.fields[nS].timestampValue);return new ht(e.seconds,e.nanos)}class Xj{constructor(e,t,i,a,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Rd="(default)";class $c{constructor(e,t){this.projectId=e,this.database=t||Rd}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}const rS="__type__",Zj="__max__",$h={mapValue:{}},iS="__vector__",Cd="value";function Ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ny(r)?4:t2(r)?9007199254740991:e2(r)?10:11:xe(28295,{value:r})}function ri(r,e){if(r===e)return!0;const t=Ps(r);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hc(r).isEqual(Hc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ks(a.timestampValue),d=ks(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Ds(a.bytesValue).isEqual(Ds(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Tt(a.geoPointValue.latitude)===Tt(l.geoPointValue.latitude)&&Tt(a.geoPointValue.longitude)===Tt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Tt(a.integerValue)===Tt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Tt(a.doubleValue),d=Tt(l.doubleValue);return c===d?Ad(c)===Ad(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(dw(c)!==dw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ri(c[m],d[m])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Gc(r,e){return(r.values||[]).find((t=>ri(t,e)))!==void 0}function Wo(r,e){if(r===e)return 0;const t=Ps(r),i=Ps(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Tt(l.integerValue||l.doubleValue),m=Tt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return mw(r.timestampValue,e.timestampValue);case 4:return mw(Hc(r),Hc(e));case 5:return eg(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ds(l),m=Ds(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=qe(d[g],m[g]);if(v!==0)return v}return qe(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=qe(Tt(l.latitude),Tt(c.latitude));return d!==0?d:qe(Tt(l.longitude),Tt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return pw(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Cd]?.arrayValue,v=m[Cd]?.arrayValue,w=qe(g?.values?.length||0,v?.values?.length||0);return w!==0?w:pw(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$h.mapValue&&c===$h.mapValue)return 0;if(l===$h.mapValue)return 1;if(c===$h.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const T=eg(m[w],v[w]);if(T!==0)return T;const A=Wo(d[m[w]],g[v[w]]);if(A!==0)return A}return qe(m.length,v.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function mw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=ks(r),i=ks(e),a=qe(t.seconds,i.seconds);return a!==0?a:qe(t.nanos,i.nanos)}function pw(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Wo(t[a],i[a]);if(l)return l}return qe(t.length,i.length)}function Jo(r){return tg(r)}function tg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ds(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ee.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=tg(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${tg(t.fields[c])}`;return a+"}"})(r.mapValue):xe(61005,{value:r})}function ud(r){switch(Ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(r);return e?16+ud(e):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ud(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Us(i.fields,((l,c)=>{a+=l.length+ud(c)})),a})(r.mapValue);default:throw xe(13486,{value:r})}}function gw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ng(r){return!!r&&"integerValue"in r}function ry(r){return!!r&&"arrayValue"in r}function yw(r){return!!r&&"nullValue"in r}function vw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hd(r){return!!r&&"mapValue"in r}function e2(r){return(r?.mapValue?.fields||{})[rS]?.stringValue===iS}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Us(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=kc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(r.arrayValue.values[t]);return e}return{...r}}function t2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zj}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=an.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=kc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Us(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new xn(kc(this.value))}}function sS(r){const e=[];return Us(r.fields,((t,i)=>{const a=new an([t]);if(hd(i)){const l=sS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new qn(e)}class dn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ie.min(),Ie.min(),Ie.min(),xn.empty(),0)}static newFoundDocument(e,t,i,a){return new dn(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Ie.min(),Ie.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ie.min(),Ie.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,t){this.position=e,this.inclusive=t}}function _w(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Wo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function bw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}class Id{constructor(e,t="asc"){this.field=e,this.dir=t}}function n2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class aS{}class Ut extends aS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new i2(e,t,i):t==="array-contains"?new o2(e,i):t==="in"?new l2(e,i):t==="not-in"?new c2(e,i):t==="array-contains-any"?new u2(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s2(e,i):new a2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends aS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ar(e,t)}matches(e){return oS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oS(r){return r.op==="and"}function lS(r){return r2(r)&&oS(r)}function r2(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function rg(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+Jo(r.value);if(lS(r))return r.filters.map((e=>rg(e))).join(",");{const e=r.filters.map((t=>rg(t))).join(",");return`${r.op}(${e})`}}function cS(r,e){return r instanceof Ut?(function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&ri(i.value,a.value)})(r,e):r instanceof Ar?(function(i,a){return a instanceof Ar&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&cS(c,a.filters[d])),!0):!1})(r,e):void xe(19439)}function uS(r){return r instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`})(r):r instanceof Ar?(function(t){return t.op.toString()+" {"+t.getFilters().map(uS).join(" ,")+"}"})(r):"Filter"}class i2 extends Ut{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class s2 extends Ut{constructor(e,t){super(e,"in",t),this.keys=hS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class a2 extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=hS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hS(r,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class o2 extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ry(t)&&Gc(t.arrayValue,this.value)}}class l2 extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class c2 extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class u2 extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}class h2{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ww(r,e=null,t=[],i=[],a=null,l=null,c=null){return new h2(r,e,t,i,a,l,c)}function iy(r){const e=Oe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>rg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Jo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Jo(i))).join(",")),e.Te=t}return e.Te}function sy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!n2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!cS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bw(r.startAt,e.startAt)&&bw(r.endAt,e.endAt)}function ig(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class au{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d2(r,e,t,i,a,l,c,d){return new au(r,e,t,i,a,l,c,d)}function ay(r){return new au(r)}function Ew(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dS(r){return r.collectionGroup!==null}function Dc(r){const e=Oe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ht(an.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Id(l,i))})),t.has(an.keyField().canonicalString())||e.Ie.push(new Id(an.keyField(),i))}return e.Ie}function Xr(r){const e=Oe(r);return e.Ee||(e.Ee=f2(e,Dc(r))),e.Ee}function f2(r,e){if(r.limitType==="F")return ww(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Id(a.field,l)}));const t=r.endAt?new xd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new xd(r.startAt.position,r.startAt.inclusive):null;return ww(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function sg(r,e){const t=r.filters.concat([e]);return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ag(r,e,t){return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Zd(r,e){return sy(Xr(r),Xr(e))&&r.limitType===e.limitType}function fS(r){return`${iy(Xr(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>uS(a))).join(", ")}]`),Jd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Jo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Jo(a))).join(",")),`Target(${i})`})(Xr(r))}; limitType=${r.limitType})`}function ef(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Dc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=_w(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Dc(i),a)||i.endAt&&!(function(c,d,m){const g=_w(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Dc(i),a))})(r,e)}function m2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mS(r){return(e,t)=>{let i=!1;for(const a of Dc(r)){const l=p2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function p2(r,e,t){const i=r.field.isKeyField()?Ee.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Wo(m,g):xe(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:r.dir})}}class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}const g2=new gt(Ee.comparator);function Pi(){return g2}const pS=new gt(Ee.comparator);function Cc(...r){let e=pS;for(const t of r)e=e.insert(t.key,t);return e}function gS(r){let e=pS;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ca(){return Pc()}function yS(){return Pc()}function Pc(){return new Ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const y2=new gt(Ee.comparator),v2=new Ht(Ee.comparator);function Fe(...r){let e=v2;for(const t of r)e=e.add(t);return e}const _2=new Ht(qe);function b2(){return _2}function oy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function vS(r){return{integerValue:""+r}}function w2(r,e){return Qj(e)?vS(e):oy(r,e)}class tf{constructor(){this._=void 0}}function E2(r,e,t){return r instanceof Nd?(function(a,l){const c={fields:{[eS]:{stringValue:ZT},[nS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ny(l)&&(l=Xd(l)),l&&(c.fields[tS]=l),{mapValue:c}})(t,e):r instanceof Xo?bS(r,e):r instanceof Kc?wS(r,e):(function(a,l){const c=_S(a,l),d=Tw(c)+Tw(a.Ae);return ng(c)&&ng(a.Ae)?vS(d):oy(a.serializer,d)})(r,e)}function T2(r,e,t){return r instanceof Xo?bS(r,e):r instanceof Kc?wS(r,e):t}function _S(r,e){return r instanceof Od?(function(i){return ng(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Nd extends tf{}class Xo extends tf{constructor(e){super(),this.elements=e}}function bS(r,e){const t=ES(e);for(const i of r.elements)t.some((a=>ri(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Kc extends tf{constructor(e){super(),this.elements=e}}function wS(r,e){let t=ES(e);for(const i of r.elements)t=t.filter((a=>!ri(a,i)));return{arrayValue:{values:t}}}class Od extends tf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Tw(r){return Tt(r.integerValue||r.doubleValue)}function ES(r){return ry(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class S2{constructor(e,t){this.field=e,this.transform=t}}function A2(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Xo&&a instanceof Xo||i instanceof Kc&&a instanceof Kc?Yo(i.elements,a.elements,ri):i instanceof Od&&a instanceof Od?ri(i.Ae,a.Ae):i instanceof Nd&&a instanceof Nd})(r.transform,e.transform)}class R2{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nf{}function TS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ly(r.key,Sr.none()):new ou(r.key,r.data,Sr.none());{const t=r.data,i=xn.empty();let a=new Ht(an.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ls(r.key,i,new qn(a.toArray()),Sr.none())}}function C2(r,e,t){r instanceof ou?(function(a,l,c){const d=a.value.clone(),m=Aw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ls?(function(a,l,c){if(!dd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Aw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(SS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Mc(r,e,t,i){return r instanceof ou?(function(l,c,d,m){if(!dd(l.precondition,c))return d;const g=l.value.clone(),v=Rw(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ls?(function(l,c,d,m){if(!dd(l.precondition,c))return d;const g=Rw(l.fieldTransforms,m,c),v=c.data;return v.setAll(SS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,t,i):(function(l,c,d){return dd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function x2(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=_S(i.transform,a||null);l!=null&&(t===null&&(t=xn.empty()),t.set(i.field,l))}return t||null}function Sw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Yo(i,a,((l,c)=>A2(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends nf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends nf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Aw(r,e,t){const i=new Map;Xe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,T2(c,d,t[a]))}return i}function Rw(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,E2(l,c,e))}return i}class ly extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&C2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=yS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=TS(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,i)=>Sw(t,i)))&&Yo(this.baseMutations,e.baseMutations,((t,i)=>Sw(t,i)))}}class cy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return y2})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new cy(e,t,i,a)}}class O2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j2{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt,$e;function k2(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function AS(r){if(r===void 0)return Di("GRPC error has no .code"),re.UNKNOWN;switch(r){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const P2=new Is([4294967295,4294967295],0);function Cw(r){const e=D2().encode(r),t=new BT;return t.update(e),new Uint8Array(t.digest())}function xw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,i],0),new Is([a,l],0)]}class uy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(i<0)throw new xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Is.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Is.fromNumber(i)));return a.compare(P2)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Cw(e),[i,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new uy(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Cw(e),[i,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rf(Ie.min(),a,new gt(qe),Pi(),Fe())}}class lu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lu(i,t,Fe(),Fe(),Fe())}}class fd{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class RS{constructor(e,t){this.targetId=e,this.Ce=t}}class CS{constructor(e,t,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Iw{constructor(){this.ve=0,this.Fe=Nw(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:xe(38017,{changeType:l})}})),new lu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Nw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Gh(),this.He=Gh(),this.Ye=new gt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(ig(l))if(i===0){const c=new Ee(l.path);this.et(t,c,dn.newNoDocument(c,Ie.min()))}else Xe(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ds(i).toUint8Array()}catch(m){if(m instanceof XT)return Qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new uy(c,a,l)}catch(m){return Qo(m instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ig(d.target)){const m=new Ee(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,dn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rf(e,t,this.Ye,this.je,i);return this.je=Pi(),this.Je=Gh(),this.He=Gh(),this.Ye=new gt(qe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Iw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Iw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gh(){return new gt(Ee.comparator)}function Nw(){return new gt(Ee.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class B2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(r,e){return r.useProto3Json||Jd(e)?e:{value:e}}function jd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function z2(r,e){return jd(r,e.toTimestamp())}function Zr(r){return Xe(!!r,49232),Ie.fromTimestamp((function(t){const i=ks(t);return new ht(i.seconds,i.nanos)})(r))}function hy(r,e){return lg(r,e).canonicalString()}function lg(r,e){const t=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function IS(r){const e=lt.fromString(r);return Xe(DS(e),10190,{key:e.toString()}),e}function cg(r,e){return hy(r.databaseId,e.path)}function Np(r,e){const t=IS(e);if(t.get(1)!==r.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(OS(t))}function NS(r,e){return hy(r.databaseId,e)}function q2(r){const e=IS(r);return e.length===4?lt.emptyPath():OS(e)}function ug(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OS(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ow(r,e,t){return{name:cg(r,e),fields:t.value.mapValue.fields}}function F2(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?re.UNKNOWN:AS(g.code);return new fe(v,g.message||"")})(c);t=new CS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Np(r,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):Ie.min(),d=new xn({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new fd(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Np(r,i.document),l=i.readTime?Zr(i.readTime):Ie.min(),c=dn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new fd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Np(r,i.document),l=i.removedTargetIds||[];t=new fd([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new j2(a,l),d=i.targetId;t=new RS(d,c)}}return t}function H2(r,e){let t;if(e instanceof ou)t={update:Ow(r,e.key,e.value)};else if(e instanceof ly)t={delete:cg(r,e.key)};else if(e instanceof Ls)t={update:Ow(r,e.key,e.data),updateMask:Z2(e.fieldMask)};else{if(!(e instanceof I2))return xe(16599,{Vt:e.type});t={verify:cg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Od)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(r,e.precondition)),t}function $2(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(Ie.min())&&(c=Zr(l)),new R2(c,a.transformResults||[])})(t,e)))):[]}function G2(r,e){return{documents:[NS(r,e.path)]}}function K2(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NS(r,a);const l=(function(g){if(g.length!==0)return kS(Ar.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Vo(T.field),direction:W2(T.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=og(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function Q2(r){let e=q2(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Xe(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(w){const T=jS(w);return T instanceof Ar&&lS(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(j){return new Id(Uo(j.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,Jd(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(w){const T=!!w.before,A=w.values||[];return new xd(A,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(w){const T=!w.before,A=w.values||[];return new xd(A,T)})(t.endAt)),d2(e,a,c,l,d,"F",m,g)}function Y2(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jS(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(t.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ut.create(Uo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ar.create(t.compositeFilter.filters.map((i=>jS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(r):xe(30097,{filter:r})}function W2(r){return V2[r]}function J2(r){return U2[r]}function X2(r){return L2[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return an.fromServerFormat(r.fieldPath)}function kS(r){return r instanceof Ut?(function(t){if(t.op==="=="){if(vw(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(yw(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vw(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(yw(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:J2(t.op),value:t.value}}})(r):r instanceof Ar?(function(t){const i=t.getFilters().map((a=>kS(a)));return i.length===1?i[0]:{compositeFilter:{op:X2(t.op),filters:i}}})(r):xe(54877,{filter:r})}function Z2(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class As{constructor(e,t,i,a,l=Ie.min(),c=Ie.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ek{constructor(e){this.yt=e}}function tk(r){const e=Q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ag(e,e.limit,"L"):e}class nk{constructor(){this.Cn=new rk}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(js.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ht(lt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(lt.comparator)).toArray()}}const jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(PS,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}const kw="LruGarbageCollector",ik=1048576;function Dw([r,e],[t,i]){const a=qe(r,t);return a===0?qe(e,i):a}class sk{constructor(e){this.Ir=e,this.buffer=new Ht(Dw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Dw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cl(t)?me(kw,"Ignoring IndexedDB error during garbage collection: ",t):await ll(t)}await this.Vr(3e5)}))}}class ok{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Wd.ce);const i=new sk(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(jw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a)))).next((w=>(i=w,d=Date.now(),this.removeTargets(e,i,t)))).next((w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(g=Date.now(),Po()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w}))))}}function lk(r,e){return new ok(r,e)}class ck{constructor(){this.changes=new Ma((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hk{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Mc(i.mutation,a,qn.empty(),ht.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const a=Ca();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Cc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ca();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=Pi();const c=Pc(),d=(function(){return Pc()})();return t.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ls)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Mc(v.mutation,g,v.mutation.getFieldMask(),ht.now())):c.set(g.key,qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new uk(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Pc();let a=new gt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||qn.empty();v=d.applyToLocalView(g,v),i.set(m,v);const w=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,w)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,w=yS();v.forEach((T=>{if(!l.has(T)){const A=TS(t.get(T),i.get(T));A!==null&&w.set(T,A),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return se.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):se.resolve(Ca());let d=Fc,m=l;return c.next((g=>se.forEach(g,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Fe()))).next((v=>({batchId:d,changes:gS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((i=>{let a=Cc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Cc();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(m=>{const g=(function(w,T){return new au(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))}));let d=Cc();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Mc(v.mutation,g,qn.empty(),ht.now()),ef(t,g)&&(d=d.insert(m,g))})),d}))}}class dk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:tk(a.bundledQuery),readTime:Zr(a.readTime)}})(t)),se.resolve()}}class fk{constructor(){this.overlays=new gt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ca();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const a=Ca(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ca(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ca(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return se.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new O2(t,i));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class mk{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class dy{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Yt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Yt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ee(new lt([])),i=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new lt([])),i=new Yt(t,e),a=new Yt(t,e+1);let l=Fe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Yt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}class pk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new N2(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(qe);return t.forEach((a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new Ee(l),0);let d=new Ht(qe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(a=>{const l=new Yt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Yt(t,0),a=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gk{constructor(e){this.ri=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=Pi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Pi();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Hj(Fj(v),i)<=0||(a.has(v.key)||ef(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,a){xe(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new yk(this)}getSize(e){return se.resolve(this.size)}}class yk extends ck{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class vk{constructor(e){this.persistence=e,this.si=new Ma((t=>iy(t)),sy),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new dy,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class MS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wd(0),this.li=!1,this.li=!0,this.hi=new mk,this.referenceDelegate=e(this),this.Pi=new vk(this),this.indexManager=new nk,this.remoteDocumentCache=(function(a){return new gk(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new ek(t),this.Ii=new dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new pk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const a=new _k(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class _k extends Gj{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Ri=new dy,this.Vi=null}static mi(e){return new fy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const a=Ee.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kd{constructor(e,t){this.persistence=e,this.pi=new Ma((i=>Yj(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=lk(this,t)}static mi(e,t){return new kd(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ie.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ud(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class my{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new my(e,t.fromCache,i,a)}}class bk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Qx()?8:Kj(fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new bk;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Po()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Po()<=ze.DEBUG&&me("QueryEngine","Query:",Mo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Po()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):se.resolve())}ys(e,t){if(Ew(t))return se.resolve(null);let i=Xr(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ag(t,null,"F"),i=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,ag(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return Ew(t)||a.isEqual(Ie.min())?se.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?se.resolve(null):(Po()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(t)),this.vs(e,c,t,qj(a,Fc)).next((d=>d)))}))}Ds(e,t){let i=new Ht(mS(e));return t.forEach(((a,l)=>{ef(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Po()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ps.getDocumentsMatchingQuery(e,t,js.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const py="LocalStore",Ek=3e8;class Tk{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new gt(qe),this.xs=new Ma((l=>iy(l)),sy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Sk(r,e,t,i){return new Tk(r,e,t,i)}async function VS(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Fe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function Ak(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const w=g.batch,T=w.keys();let A=se.resolve();return T.forEach((j=>{A=A.next((()=>v.getEntry(m,j))).next((O=>{const C=g.docVersions.get(j);Xe(C!==null,48541),O.version.compareTo(C)<0&&(w.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),v.addEntry(O)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,w)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function US(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Rk(r,e){const t=Oe(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,w)=>{const T=a.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(w,A),(function(O,C,B){return O.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Ek?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,v)&&d.push(t.Pi.updateTargetData(l,A))}));let m=Pi(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Ck(l,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!i.isEqual(Ie.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return se.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function Ck(r,e,t){let i=Fe(),a=Fe();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Pi();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function xk(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Ik(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,se.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new As(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function hg(r,e,t){const i=Oe(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!cl(c))throw c;me(py,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Pw(r,e,t){const i=Oe(r);let a=Ie.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const w=Oe(m),T=w.xs.get(v);return T!==void 0?se.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,v)})(i,c,Xr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Ie.min(),t?l:Fe()))).next((d=>(Nk(i,m2(e),d),{documents:d,Qs:l})))))}function Nk(r,e,t){let i=r.Os.get(e)||Ie.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class Mw{constructor(){this.activeTargetIds=b2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ok{constructor(){this.Mo=new Mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jk{Oo(e){}shutdown(){}}const Vw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(Vw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(Vw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function dg(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const Op="RestConnection",kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Rd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=dg(),d=this.zo(e,t.toUriEncodedString());me(Op,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=il(g);return this.Jo(e,d,m,i,v).then((w=>(me(Op,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Qo(Op,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=kk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class Pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class Mk extends Dk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=dg();return new Promise(((d,m)=>{const g=new zT;g.setWithCredentials(!0),g.listenOnce(qT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case cd.NO_ERROR:const w=g.getResponseJson();me(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case cd.TIMEOUT:me(cn,`RPC '${e}' ${c} timed out`),m(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const T=g.getStatus();if(me(cn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const O=(function(B){const P=B.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(P)>=0?P:re.UNKNOWN})(j.status);m(new fe(O,j.message))}else m(new fe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(cn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);me(cn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=dg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$T(),d=HT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");me(cn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const w=c.createWebChannel(v,m);this.I_(w);let T=!1,A=!1;const j=new Pk({Yo:C=>{A?me(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(T||(me(cn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),T=!0),me(cn,`RPC '${e}' stream ${a} sending:`,C),w.send(C))},Zo:()=>w.close()}),O=(C,B,P)=>{C.listen(B,(z=>{try{P(z)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return O(w,Rc.EventType.OPEN,(()=>{A||(me(cn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),O(w,Rc.EventType.CLOSE,(()=>{A||(A=!0,me(cn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(w))})),O(w,Rc.EventType.ERROR,(C=>{A||(A=!0,Qo(cn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),j.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),O(w,Rc.EventType.MESSAGE,(C=>{if(!A){const B=C.data[0];Xe(!!B,16349);const P=B,z=P?.error||P[0]?.error;if(z){me(cn,`RPC '${e}' stream ${a} received error:`,z);const Z=z.status;let ce=(function(N){const k=Pt[N];if(k!==void 0)return AS(k)})(Z),ae=z.message;ce===void 0&&(ce=re.INTERNAL,ae="Unknown error status: "+Z+" with message "+z.message),A=!0,j.a_(new fe(ce,ae)),w.close()}else me(cn,`RPC '${e}' stream ${a} received:`,B),j.u_(B)}})),O(d,FT.STAT_EVENT,(C=>{C.stat===Zp.PROXY?me(cn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===Zp.NOPROXY&&me(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function jp(){return typeof document<"u"?document:null}function sf(r){return new B2(r,!0)}class LS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Lw="PersistentStream";class BS{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vk extends BS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=F2(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Zr(c.readTime):Ie.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=ug(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=ig(m)?{documents:G2(l,m)}:{query:K2(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xS(l,c.resumeToken);const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=jd(l,c.snapshotVersion.toTimestamp());const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Y2(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=ug(this.serializer),t.removeTarget=e,this.q_(t)}}class Uk extends BS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$2(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>H2(this.serializer,i)))};this.q_(t)}}class Lk{}class Bk extends Lk{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,lg(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,lg(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class qk{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Va(this)&&(me(Da,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Ra=new zk(i,a)}}async function af(r){if(Va(r))for(const e of r.da)await e(!0)}async function cu(r){for(const e of r.da)await e(!1)}function zS(r,e){const t=Oe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_y(t)?vy(t):ul(t).O_()&&yy(t,e))}function gy(r,e){const t=Oe(r),i=ul(t);t.Ia.delete(e),i.O_()&&qS(t,e),t.Ia.size===0&&(i.O_()?i.L_():Va(t)&&t.Ra.set("Unknown"))}function yy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(r).Y_(e)}function qS(r,e){r.Va.Ue(e),ul(r).Z_(e)}function vy(r){r.Va=new M2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Ra.ua()}function _y(r){return Va(r)&&!ul(r).x_()&&r.Ia.size>0}function Va(r){return Oe(r).Ea.size===0}function FS(r){r.Va=void 0}async function Fk(r){r.Ra.set("Online")}async function Hk(r){r.Ia.forEach(((e,t)=>{yy(r,e)}))}async function $k(r,e){FS(r),_y(r)?(r.Ra.ha(e),vy(r)):r.Ra.set("Unknown")}async function Gk(r,e,t){if(r.Ra.set("Online"),e instanceof CS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(i){me(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dd(r,i)}else if(e instanceof fd?r.Va.Ze(e):e instanceof RS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ie.min()))try{const i=await US(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),qS(l,m);const w=new As(v.target,m,g,v.sequenceNumber);yy(l,w)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){me(Da,"Failed to raise snapshot:",i),await Dd(r,i)}}async function Dd(r,e,t){if(!cl(e))throw e;r.Ea.add(1),await cu(r),r.Ra.set("Offline"),t||(t=()=>US(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(Da,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await af(r)}))}function HS(r,e){return e().catch((t=>Dd(r,t,e)))}async function of(r){const e=Oe(r),t=Ms(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ty;for(;Kk(e);)try{const a=await xk(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,Qk(e,a)}catch(a){await Dd(e,a)}$S(e)&&GS(e)}function Kk(r){return Va(r)&&r.Ta.length<10}function Qk(r,e){r.Ta.push(e);const t=Ms(r);t.O_()&&t.X_&&t.ea(e.mutations)}function $S(r){return Va(r)&&!Ms(r).x_()&&r.Ta.length>0}function GS(r){Ms(r).start()}async function Yk(r){Ms(r).ra()}async function Wk(r){const e=Ms(r);for(const t of r.Ta)e.ea(t.mutations)}async function Jk(r,e,t){const i=r.Ta.shift(),a=cy.from(i,e,t);await HS(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await of(r)}async function Xk(r,e){e&&Ms(r).X_&&await(async function(i,a){if((function(c){return k2(c)&&c!==re.ABORTED})(a.code)){const l=i.Ta.shift();Ms(i).B_(),await HS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await of(i)}})(r,e),$S(r)&&GS(r)}async function Bw(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),me(Da,"RemoteStore received new credentials");const i=Va(t);t.Ea.add(3),await cu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await af(t)}async function Zk(r,e){const t=Oe(r);e?(t.Ea.delete(2),await af(t)):e||(t.Ea.add(2),await cu(t),t.Ra.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(t,i,a){const l=Oe(t);return l.sa(),new Vk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:Fk.bind(null,r),t_:Hk.bind(null,r),r_:$k.bind(null,r),H_:Gk.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),_y(r)?vy(r):r.Ra.set("Unknown")):(await r.ma.stop(),FS(r))}))),r.ma}function Ms(r){return r.fa||(r.fa=(function(t,i,a){const l=Oe(t);return l.sa(),new Uk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yk.bind(null,r),r_:Xk.bind(null,r),ta:Wk.bind(null,r),na:Jk.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(me(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class by{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new by(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(r,e){if(Di("AsyncQueue",`${e}: ${r}`),cl(r))return new fe(re.UNAVAILABLE,`${e}: ${r}`);throw r}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Cc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class zw{constructor(){this.ga=new gt(Ee.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class el{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new el(e,t,Ho.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class eD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tD{constructor(){this.queries=qw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Oe(t),l=a.queries;a.queries=qw(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function qw(){return new Ma((r=>fS(r)),Zd)}async function KS(r,e){const t=Oe(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new eD,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=wy(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ey(t)}async function QS(r,e){const t=Oe(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function nD(r,e){const t=Oe(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&Ey(t)}function rD(r,e,t){const i=Oe(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Ey(r){r.Ca.forEach((e=>{e.next()}))}var fg,Fw;(Fw=fg||(fg={})).Ma="default",Fw.Cache="cache";class YS{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}class WS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class iD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=mS(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new zw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,w)=>{const T=a.get(v),A=ef(this.query,w)?w:null,j=!!T&&this.mutatedKeys.has(T.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;T&&A?T.data.isEqual(A.data)?j!==O&&(i.track({type:3,doc:A}),C=!0):this.su(T,A)||(i.track({type:2,doc:A}),C=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(d=!0)):!T&&A?(i.track({type:0,doc:A}),C=!0):T&&!A&&(i.track({type:1,doc:T}),C=!0,(m||g)&&(d=!0)),C&&(A?(c=c.add(A),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,w)=>(function(A,j){const O=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:C})}};return O(A)-O(j)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new el(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new JS(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new WS(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class sD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aD{constructor(e){this.key=e,this.hu=!1}}class oD{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ma((d=>fS(d)),Zd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Ee.comparator),this.Au=new Map,this.Ru=new dy,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lD(r,e,t=!0){const i=rA(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await XS(i,e,t,!0),a}async function cD(r,e){const t=rA(r);await XS(t,e,!0,!1)}async function XS(r,e,t,i){const a=await Ik(r.localStore,Xr(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await uD(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&zS(r.remoteStore,a),d}async function uD(r,e,t,i,a){r.pu=(w,T,A)=>(async function(O,C,B,P){let z=C.view.ru(B);z.Cs&&(z=await Pw(O.localStore,C.query,!1).then((({documents:x})=>C.view.ru(x,z))));const Z=P&&P.targetChanges.get(C.targetId),ce=P&&P.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(z,O.isPrimaryClient,Z,ce);return $w(O,C.targetId,ae.au),ae.snapshot})(r,w,T,A);const l=await Pw(r.localStore,e,!0),c=new iD(e,l.Qs),d=c.ru(l.documents),m=lu.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);$w(r,t,g.au);const v=new sD(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function hD(r,e,t){const i=Oe(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Zd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await hg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&gy(i.remoteStore,a.targetId),mg(i,a.targetId)})).catch(ll)):(mg(i,a.targetId),await hg(i.localStore,a.targetId,!0))}async function dD(r,e){const t=Oe(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),gy(t.remoteStore,i.targetId))}async function fD(r,e,t){const i=bD(r);try{const a=await(function(c,d){const m=Oe(c),g=ht.now(),v=d.reduce(((A,j)=>A.add(j.key)),Fe());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=Pi(),O=Fe();return m.Ns.getEntries(A,v).next((C=>{j=C,j.forEach(((B,P)=>{P.isValidDocument()||(O=O.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,j))).next((C=>{w=C;const B=[];for(const P of d){const z=x2(P,w.get(P.key).overlayedDocument);z!=null&&B.push(new Ls(P.key,z,sS(z.value.mapValue),Sr.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,B,d)})).next((C=>{T=C;const B=C.applyToLocalDocumentSet(w,O);return m.documentOverlayCache.saveOverlays(A,C.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:gS(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(qe)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await uu(i,a.changes),await of(i.remoteStore)}catch(a){const l=wy(a,"Failed to persist write");t.reject(l)}}async function ZS(r,e){const t=Oe(r);try{const i=await Rk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xe(c.hu,14607):a.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await uu(t,i,e)}catch(i){await ll(i)}}function Hw(r,e,t){const i=Oe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Oe(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,w)=>{for(const T of w.Sa)T.va(d)&&(g=!0)})),g&&Ey(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mD(r,e,t){const i=Oe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new gt(Ee.comparator);c=c.insert(l,dn.newNoDocument(l,Ie.min()));const d=Fe().add(l),m=new rf(Ie.min(),new Map,new gt(qe),c,d);await ZS(i,m),i.du=i.du.remove(l),i.Au.delete(e),Sy(i)}else await hg(i.localStore,e,!1).then((()=>mg(i,e,t))).catch(ll)}async function pD(r,e){const t=Oe(r),i=e.batch.batchId;try{const a=await Ak(t.localStore,e);tA(t,i,null),eA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await uu(t,a)}catch(a){await ll(a)}}async function gD(r,e,t){const i=Oe(r);try{const a=await(function(c,d){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((w=>(Xe(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(g,w)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);tA(i,e,t),eA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await uu(i,a)}catch(a){await ll(a)}}function eA(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function tA(r,e,t){const i=Oe(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function mg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||nA(r,i)}))}function nA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(gy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Sy(r))}function $w(r,e,t){for(const i of t)i instanceof WS?(r.Ru.addReference(i.key,e),yD(r,i)):i instanceof JS?(me(Ty,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||nA(r,i.key)):xe(19791,{wu:i})}function yD(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(me(Ty,"New document in limbo: "+t),r.Eu.add(i),Sy(r))}function Sy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ee(lt.fromString(e)),i=r.fu.next();r.Au.set(i,new aD(t)),r.du=r.du.insert(t,i),zS(r.remoteStore,new As(Xr(ay(t.path)),i,"TargetPurposeLimboResolution",Wd.ce))}}async function uu(r,e,t){const i=Oe(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=my.As(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(g,(T=>se.forEach(T.Es,(A=>v.persistence.referenceDelegate.addReference(w,T.targetId,A))).next((()=>se.forEach(T.ds,(A=>v.persistence.referenceDelegate.removeReference(w,T.targetId,A)))))))))}catch(w){if(!cl(w))throw w;me(py,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const A=v.Ms.get(T),j=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(T,O)}}})(i.localStore,l))}async function vD(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){me(Ty,"User change. New user:",e.toKey());const i=await VS(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(re.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uu(t,i.Ls)}}function _D(r,e){const t=Oe(r),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let a=Fe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function rA(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.Pu.H_=nD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function bD(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gD.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Sk(this.persistence,new wk,e.initialUser,this.serializer)}Cu(e){return new MS(fy.mi,this.serializer)}Du(e){return new Ok}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class wD extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof kd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ak(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new MS((i=>kd.mi(i,t)),this.serializer)}}class pg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Hw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await Zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tD})()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),i=(function(l){return new Mk(l)})(e.databaseInfo);return(function(l,c,d,m){return new Bk(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new qk(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Hw(this.syncEngine,t,0)),(function(){return Uw.v()?new Uw:new jk})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,v){const w=new oD(a,l,c,d,m,g);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Oe(t);me(Da,"RemoteStore shutting down."),i.Ea.add(5),await cu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Vs="FirestoreClient";class ED{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function kp(r,e){r.asyncQueue.verifyOperationInProgress(),me(Vs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await VS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Gw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await TD(r);me(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Bw(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>Bw(e.remoteStore,a))),r._onlineComponents=e}async function TD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Vs,"Using user provided OfflineComponentProvider");try{await kp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await kp(r,new Pd)}}else me(Vs,"Using default OfflineComponentProvider"),await kp(r,new wD(void 0));return r._offlineComponents}async function sA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Vs,"Using user provided OnlineComponentProvider"),await Gw(r,r._uninitializedComponentsProvider._online)):(me(Vs,"Using default OnlineComponentProvider"),await Gw(r,new pg))),r._onlineComponents}function SD(r){return sA(r).then((e=>e.syncEngine))}async function aA(r){const e=await sA(r),t=e.eventManager;return t.onListen=lD.bind(null,e.syncEngine),t.onUnlisten=hD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),t}function AD(r,e,t={}){const i=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iA({next:T=>{v.Nu(),c.enqueueAndForget((()=>QS(l,w)));const A=T.docs.has(d);!A&&T.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&m&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new YS(ay(d.path),v,{includeMetadataChanges:!0,qa:!0});return KS(l,w)})(await aA(r),r.asyncQueue,e,t,i))),i.promise}function RD(r,e,t={}){const i=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iA({next:T=>{v.Nu(),c.enqueueAndForget((()=>QS(l,w))),T.fromCache&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new YS(d,v,{includeMetadataChanges:!0,qa:!0});return KS(l,w)})(await aA(r),r.asyncQueue,e,t,i))),i.promise}function oA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Kw=new Map;const lA="firestore.googleapis.com",Qw=!0;class Yw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lA,this.ssl=Qw}else this.host=e.host,this.ssl=e.ssl??Qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ik)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Oj;switch(i.type){case"firstParty":return new Pj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Kw.get(t);i&&(me("ComponentProvider","Removing Datastore"),Kw.delete(t),i.terminate())})(this),Promise.resolve()}}function CD(r,e,t,i={}){r=ni(r,lf);const a=il(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(WE(`https://${d}`),JE("Firestore",!0)),l.host!==lA&&l.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Os(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=hn.MOCK_USER;else{g=Lx(i.mockUserToken,r._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(w)}r._authCredentials=new jj(new KT(g,v))}}class hl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class At{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(su(t,At._jsonSchema))return new At(e,i||null,new Ee(lt.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Lt("string",At._jsonSchemaVersion),referencePath:Lt("string")};class Ns extends hl{constructor(e,t,i){super(e,t,ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Ee(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function cA(r,e,...t){if(r=$t(r),QT("collection","path",e),r instanceof lf){const i=lt.fromString(e,...t);return lw(i),new Ns(r,null,i)}{if(!(r instanceof At||r instanceof Ns))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(lt.fromString(e,...t));return lw(i),new Ns(r.firestore,null,i)}}function Fn(r,e,...t){if(r=$t(r),arguments.length===1&&(e=ey.newId()),QT("doc","path",e),r instanceof lf){const i=lt.fromString(e,...t);return ow(i),new At(r,null,new Ee(i))}{if(!(r instanceof At||r instanceof Ns))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(lt.fromString(e,...t));return ow(i),new At(r.firestore,r instanceof Ns?r.converter:null,new Ee(i))}}const Ww="AsyncQueue";class Jw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LS(this,"async_queue_retry"),this._c=()=>{const i=jp();i&&me(Ww,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ni;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;me(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",Xw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=by.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:Xw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class dl extends lf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Jw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jw(e),this._firestoreClient=void 0,await e}}}function xD(r,e){const t=typeof r=="object"?r:tT(),i=typeof r=="string"?r:Rd,a=zg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Vx("firestore");l&&CD(a,...l)}return a}function Ay(r){if(r._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ID(r),r._firestoreClient}function ID(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new Xj(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ir(on.fromBase64String(e))}catch(t){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ir(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,ir._jsonSchema))return ir.fromBase64String(e.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Lt("string",ir._jsonSchemaVersion),bytes:Lt("string")};class cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(su(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Lt("string",ei._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ti(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Lt("string",ti._jsonSchemaVersion),vectorValues:Lt("object")};const ND=/^__.*__$/;class OD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}class uA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class hf{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hA(this.Ac)&&ND.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||sf(e)}Cc(e,t,i,a=!1){return new hf({Ac:e,methodName:t,Dc:i,path:an.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ry(r){const e=r._freezeSettings(),t=sf(r._databaseId);return new jD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kD(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);xy("Data must be an object, but it was:",c,i);const d=dA(i,c);let m,g;if(l.merge)m=new qn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=gg(e,w,t);if(!c.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);mA(v,T)||v.push(T)}m=new qn(v),g=c.fieldTransforms.filter((w=>m.covers(w.field)))}else m=null,g=c.fieldTransforms;return new OD(new xn(d),m,g)}class df extends uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}function DD(r,e,t){return new hf({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cy extends uf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.vc.map((l=>fl(l,t))),a=new Xo(i);return new S2(e.path,a)}isEqual(e){return e instanceof Cy&&Os(this.vc,e.vc)}}function PD(r,e,t,i){const a=r.Cc(1,e,t);xy("Data must be an object, but it was:",a,i);const l=[],c=xn.empty();Us(i,((m,g)=>{const v=Iy(e,m,t);g=$t(g);const w=a.yc(v);if(g instanceof df)l.push(v);else{const T=fl(g,w);T!=null&&(l.push(v),c.set(v,T))}}));const d=new qn(l);return new uA(c,d,a.fieldTransforms)}function MD(r,e,t,i,a,l){const c=r.Cc(1,e,t),d=[gg(e,i,t)],m=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(gg(e,l[T])),m.push(l[T+1]);const g=[],v=xn.empty();for(let T=d.length-1;T>=0;--T)if(!mA(g,d[T])){const A=d[T];let j=m[T];j=$t(j);const O=c.yc(A);if(j instanceof df)g.push(A);else{const C=fl(j,O);C!=null&&(g.push(A),v.set(A,C))}}const w=new qn(g);return new uA(v,w,c.fieldTransforms)}function VD(r,e,t,i=!1){return fl(t,r.Cc(i?4:3,e))}function fl(r,e){if(fA(r=$t(r)))return xy("Unsupported field value:",e,r),dA(r,e);if(r instanceof uf)return(function(i,a){if(!hA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=fl(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:jd(a.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jd(a.serializer,l)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ir)return{bytesValue:xS(a.serializer,i._byteString)};if(i instanceof At){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ti)return(function(c,d){return{mapValue:{fields:{[rS]:{stringValue:iS},[Cd]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return oy(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Yd(i)}`)})(r,e)}function dA(r,e){const t={};return JT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(r,((i,a)=>{const l=fl(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function fA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof ei||r instanceof ir||r instanceof At||r instanceof uf||r instanceof ti)}function xy(r,e,t){if(!fA(t)||!YT(t)){const i=Yd(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function gg(r,e,t){if((e=$t(e))instanceof cf)return e._internalPath;if(typeof e=="string")return Iy(r,e);throw Md("Field path arguments must be of type string or ",r,!1,void 0,t)}const UD=new RegExp("[~\\*/\\[\\]]");function Iy(r,e,t){if(e.search(UD)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new cf(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Md(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new fe(re.INVALID_ARGUMENT,d+r+m)}function mA(r,e){return r.some((t=>t.isEqual(e)))}class pA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ny("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LD extends pA{data(){return super.data()}}function Ny(r,e){return typeof e=="string"?Iy(r,e):e instanceof cf?e._internalPath:e._delegate._internalPath}function BD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oy{}class zD extends Oy{}function qD(r,e,...t){let i=[];e instanceof Oy&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof jy)).length,d=l.filter((m=>m instanceof ff)).length;if(c>1||c>0&&d>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class ff extends zD{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ff(e,t,i)}_apply(e){const t=this._parse(e);return gA(e._query,t),new hl(e.firestore,e.converter,sg(e._query,t))}_parse(e){const t=Ry(e.firestore);return(function(l,c,d,m,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){eE(w,v);const j=[];for(const O of w)j.push(Zw(m,l,O));T={arrayValue:{values:j}}}else T=Zw(m,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||eE(w,v),T=VD(d,c,w,v==="in"||v==="not-in");return Ut.create(g,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function FD(r,e,t){const i=e,a=Ny("where",r);return ff._create(a,i,t)}class jy extends Oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jy(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)gA(c,m),c=sg(c,m)})(e._query,t),new hl(e.firestore,e.converter,sg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zw(r,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&t.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Ee.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gw(r,new Ee(i))}if(t instanceof At)return gw(r,t._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(t)}.`)}function eE(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gA(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HD{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Us(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Cd].arrayValue?.values?.map((i=>Tt(i.doubleValue)));return new ti(t)}convertGeoPoint(e){return new ei(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=ks(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Xe(DS(i),9688,{name:e});const a=new $c(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(t)||Di(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function $D(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends pA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ny("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Lt("string",Ia._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class md extends Ia{data(e={}){return super.data(e)}}class $o{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new md(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new md(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new md(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:GD(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}function Ua(r){r=ni(r,At);const e=ni(r.firestore,dl);return AD(Ay(e),r._key).then((t=>QD(e,r,t)))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:Lt("string",$o._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class yA extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function vA(r){r=ni(r,hl);const e=ni(r.firestore,dl),t=Ay(e),i=new yA(e);return BD(r._query),RD(t,r._query).then((a=>new $o(e,i,r,a)))}function Vd(r,e,t){r=ni(r,At);const i=ni(r.firestore,dl),a=$D(r.converter,e,t);return ky(i,[kD(Ry(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Sr.none())])}function _A(r,e,t,...i){r=ni(r,At);const a=ni(r.firestore,dl),l=Ry(a);let c;return c=typeof(e=$t(e))=="string"||e instanceof cf?MD(l,"updateDoc",r._key,e,t,i):PD(l,"updateDoc",r._key,e),ky(a,[c.toMutation(r._key,Sr.exists(!0))])}function KD(r){return ky(ni(r.firestore,dl),[new ly(r._key,Sr.none())])}function ky(r,e){return(function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget((async()=>fD(await SD(i),a,l))),l.promise})(Ay(r),e)}function QD(r,e,t){const i=t.docs.get(e._key),a=new yA(r);return new Ia(r,a,e._key,i,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function YD(...r){return new Cy("arrayUnion",r)}(function(e,t=!0){(function(a){ol=a})(sl),Ko(new Na("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new dl(new kj(i.getProvider("auth-internal")),new Mj(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),xs(rw,iw,e),xs(rw,iw,"esm2020")})();const WD={apiKey:"AIzaSyCk5H3YnBXpZrwTuMJJhFfFH-hWZyyewIg",authDomain:"startosedge-1bcd3.firebaseapp.com",projectId:"startosedge-1bcd3",storageBucket:"startosedge-1bcd3.firebasestorage.app",messagingSenderId:"995272833532",appId:"1:995272833532:web:d0d220d5b433a57762da79",measurementId:"G-R2XVSDYGYS"},bA=eT(WD),Ft=Ij(bA),yn=xD(bA),wA=new Ai,ml=()=>{const[r,e]=U.useState(!1),[t,i]=U.useState(!0);return U.useEffect(()=>{const a=Wg(Ft,async l=>{if(l)try{const c=await Ua(Fn(yn,"users",l.uid));if(c.exists()){const d=c.data().role;e(d==="admin"||d==="super_admin")}else e(!1)}catch(c){console.error("Error checking admin status:",c),e(!1)}else e(!1);i(!1)});return()=>a()},[]),{isAdmin:r,loading:t}},JD=()=>{const[r,e]=U.useState(null),[t,i]=U.useState(!1),[a,l]=U.useState(!1),{isAdmin:c}=ml();U.useEffect(()=>{const g=Wg(Ft,async v=>{if(v&&v.emailVerified)try{const w=await Ua(Fn(yn,"users",v.uid));if(w.exists()){const T=w.data();e({name:T.name||v.email.split("@")[0],email:v.email})}else e({name:v.email.split("@")[0],email:v.email})}catch(w){console.error("Error fetching user data:",w),e({name:v.email.split("@")[0],email:v.email})}else e(null)});return()=>g()},[]);const d=async()=>{try{await CT(Ft),e(null),window.location.href="/"}catch(g){console.error("Logout error:",g)}};U.useEffect(()=>{const g=()=>{i(window.scrollY>20)},v=()=>{window.innerWidth>968&&l(!1)};return window.addEventListener("scroll",g),window.addEventListener("resize",v),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",v)}},[]);const m=()=>{l(!1)};return p.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"navbar-content",children:[p.jsx("div",{className:"navbar-logo",children:p.jsx(Mt,{to:"/",className:"logo-text",onClick:m,children:"StartosEdge"})}),p.jsxs("div",{className:`navbar-links ${a?"active":""}`,children:[p.jsx(Mt,{to:"/",className:"nav-link",onClick:m,children:"Home"}),p.jsx(Mt,{to:"/programs",className:"nav-link",onClick:m,children:"Programs"}),p.jsx(Mt,{to:"/internships",className:"nav-link",onClick:m,children:"Internships"}),p.jsx(Mt,{to:"/taskhub",className:"nav-link",onClick:m,children:"TaskHub"}),p.jsx(Mt,{to:"/collaborate",className:"nav-link",onClick:m,children:"Collaborate"}),p.jsx(Mt,{to:"/about",className:"nav-link",onClick:m,children:"About Us"}),c&&p.jsx(Mt,{to:"/admin/users",className:"nav-link admin-link",onClick:m,children:"Admin"}),p.jsx("div",{className:"mobile-user-section",children:r?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mobile-user-info",children:[p.jsx(Mt,{to:"/profile",onClick:m,style:{textDecoration:"none"},children:p.jsx("div",{className:"profile-avatar-small",children:r.name.charAt(0).toUpperCase()})}),p.jsx("span",{className:"mobile-user-name",children:r.name})]}),p.jsx("button",{onClick:()=>{d(),m()},className:"nav-link mobile-nav-btn",children:"Logout"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Mt,{to:"/login",className:"nav-link mobile-nav-btn",onClick:m,children:"Login"}),p.jsx(Mt,{to:"/signup",className:"nav-link mobile-nav-btn",onClick:m,children:"Get Started"})]})})]}),p.jsx("div",{className:"navbar-actions",children:r?p.jsxs("div",{className:"user-menu",children:[p.jsx(Mt,{to:"/profile",className:"profile-avatar-link",title:"View Profile",children:p.jsx("div",{className:"profile-avatar-small",children:r.name.charAt(0).toUpperCase()})}),p.jsxs("span",{className:"user-name",children:["Hi, ",r.name]}),p.jsx("button",{onClick:d,className:"btn btn-secondary btn-sm",children:"Logout"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Mt,{to:"/login",className:"btn btn-secondary",children:"Login"}),p.jsx(Mt,{to:"/signup",className:"btn btn-primary",children:"Get Started"})]})}),p.jsxs("button",{className:"mobile-menu-toggle",onClick:()=>l(!a),"aria-label":"Toggle mobile menu",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]})]})})})},XD=()=>p.jsx("footer",{className:"footer",id:"contact",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"footer-content",children:[p.jsxs("div",{className:"footer-column",children:[p.jsx("h3",{className:"footer-logo",children:"StartosEdge"}),p.jsx("p",{className:"footer-description",children:"Empowering careers through world-class training and dedicated career support."}),p.jsxs("div",{className:"social-links",children:[p.jsx("a",{href:"#",className:"social-link",children:p.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),p.jsx("a",{href:"#",className:"social-link",children:p.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),p.jsx("a",{href:"#",className:"social-link",children:p.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),p.jsx("a",{href:"#",className:"social-link",children:p.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"})})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{children:"Programs"}),p.jsxs("ul",{className:"footer-links",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"Full Stack Development"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Data Science & ML"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Cyber Security"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Digital Marketing"})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{children:"Company"}),p.jsxs("ul",{className:"footer-links",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"About Us"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Careers"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Blog"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Contact"})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{children:"Support"}),p.jsxs("ul",{className:"footer-links",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"Help Center"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Terms of Service"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Privacy Policy"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"FAQs"})})]})]})]}),p.jsxs("div",{className:"footer-bottom",children:[p.jsx("p",{children:" 2025 StartosEdge. All rights reserved."}),p.jsx("p",{children:"Crafted with  for aspiring professionals"})]})]})}),ZD=()=>{const r=ii(),[e,t]=U.useState(!1);U.useEffect(()=>{const a=Ft.onAuthStateChanged(l=>{t(!!l)});return()=>a()},[]);const i=()=>{if(e){const a=document.getElementById("programs");a&&a.scrollIntoView({behavior:"smooth",block:"start"})}else r("/login",{state:{message:"Login to open program section",type:"info"}})};return p.jsxs("section",{className:"hero",id:"home",children:[p.jsxs("div",{className:"hero-background",children:[p.jsx("div",{className:"gradient-orb orb-1"}),p.jsx("div",{className:"gradient-orb orb-2"}),p.jsx("div",{className:"gradient-orb orb-3"})]}),p.jsx("div",{className:"container",children:p.jsxs("div",{className:"hero-content",children:[p.jsx("div",{className:"hero-badge fade-in-up",children:p.jsx("span",{children:" Personalized Career Guidance & Industry Mentorship"})}),p.jsxs("h1",{className:"hero-title fade-in-up",children:["Your Dream MNC Job Is Within ",p.jsx("span",{className:"text-gradient",children:"Reach"})]}),p.jsx("p",{className:"hero-description fade-in-up",children:"We guide job-seeking students and working professionals with personalized roadmaps for their learning. Transition from learning to career advancement with StartosEdge."}),p.jsx("div",{className:"hero-actions fade-in-up",children:p.jsxs("button",{className:"btn btn-primary btn-lg",onClick:i,children:[e?"View Programs":"Get Plan Started",p.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),p.jsxs("div",{className:"hero-stats",children:[p.jsxs("div",{className:"stat-card fade-in-up",children:[p.jsx("h3",{className:"stat-number",children:"500+"}),p.jsx("p",{className:"stat-label",children:"Careers Launched"})]}),p.jsxs("div",{className:"stat-card fade-in-up",children:[p.jsx("h3",{className:"stat-number",children:"95%"}),p.jsx("p",{className:"stat-label",children:"Satisfaction Rate"})]}),p.jsxs("div",{className:"stat-card fade-in-up",children:[p.jsx("h3",{className:"stat-number",children:"8 LPA"}),p.jsx("p",{className:"stat-label",children:"Average Package"})]}),p.jsxs("div",{className:"stat-card fade-in-up",children:[p.jsx("h3",{className:"stat-number",children:"50+"}),p.jsx("p",{className:"stat-label",children:"Hiring Partners"})]})]})]})})]})};var yg=function(r,e){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},yg(r,e)};function EA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ud=function(){return Ud=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ud.apply(this,arguments)};function pl(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(t[i[a]]=r[i[a]]);return t}function TA(r,e,t,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,e,t,i);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(e,t,l):c(e,t))||l);return a>3&&l&&Object.defineProperty(e,t,l),l}function SA(r,e){return function(t,i){e(t,i,r)}}function AA(r,e,t,i,a,l){function c(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var d=i.kind,m=d==="getter"?"get":d==="setter"?"set":"value",g=!e&&r?i.static?r:r.prototype:null,v=e||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),w,T=!1,A=t.length-1;A>=0;A--){var j={};for(var O in i)j[O]=O==="access"?{}:i[O];for(var O in i.access)j.access[O]=i.access[O];j.addInitializer=function(B){if(T)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(B||null))};var C=(0,t[A])(d==="accessor"?{get:v.get,set:v.set}:v[m],j);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(w=c(C.get))&&(v.get=w),(w=c(C.set))&&(v.set=w),(w=c(C.init))&&a.unshift(w)}else(w=c(C))&&(d==="field"?a.unshift(w):v[m]=w)}g&&Object.defineProperty(g,i.name,v),T=!0}function RA(r,e,t){for(var i=arguments.length>2,a=0;a<e.length;a++)t=i?e[a].call(r,t):e[a].call(r);return i?t:void 0}function CA(r){return typeof r=="symbol"?r:"".concat(r)}function xA(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function IA(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function ve(r,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{g(i.next(v))}catch(w){c(w)}}function m(v){try{g(i.throw(v))}catch(w){c(w)}}function g(v){v.done?l(v.value):a(v.value).then(d,m)}g((i=i.apply(r,e||[])).next())})}function NA(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(g){return function(v){return m([g,v])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(t=0)),t;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(v){g=[6,v],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var mf=Object.create?(function(r,e,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,a)}):(function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]});function OA(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mf(e,r,t)}function Ld(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dy(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(d){c={error:d}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return l}function jA(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Dy(arguments[e]));return r}function kA(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<t;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,a++)i[a]=l[c];return i}function DA(r,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return r.concat(l||Array.prototype.slice.call(e))}function tl(r){return this instanceof tl?(this.v=r,this):new tl(r)}function PA(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(A){return function(j){return Promise.resolve(j).then(A,w)}}function d(A,j){i[A]&&(a[A]=function(O){return new Promise(function(C,B){l.push([A,O,C,B])>1||m(A,O)})},j&&(a[A]=j(a[A])))}function m(A,j){try{g(i[A](j))}catch(O){T(l[0][3],O)}}function g(A){A.value instanceof tl?Promise.resolve(A.value.v).then(v,w):T(l[0][2],A)}function v(A){m("next",A)}function w(A){m("throw",A)}function T(A,j){A(j),l.shift(),l.length&&m(l[0][0],l[0][1])}}function MA(r){var e,t;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=r[a]?function(c){return(t=!t)?{value:tl(r[a](c)),done:!1}:l?l(c):c}:l}}function VA(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Ld=="function"?Ld(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=r[l]&&function(c){return new Promise(function(d,m){c=r[l](c),a(d,m,c.done,c.value)})}}function a(l,c,d,m){Promise.resolve(m).then(function(g){l({value:g,done:d})},c)}}function UA(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var eP=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},vg=function(r){return vg=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},vg(r)};function LA(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=vg(r),i=0;i<t.length;i++)t[i]!=="default"&&mf(e,r,t[i]);return eP(e,r),e}function BA(r){return r&&r.__esModule?r:{default:r}}function zA(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function qA(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t}function FA(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function HA(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}var tP=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function $A(r){function e(l){r.error=r.hasError?new tP(l,r.error,"An error was suppressed during disposal."):l,r.hasError=!0}var t,i=0;function a(){for(;t=r.stack.pop();)try{if(!t.async&&i===1)return i=0,r.stack.push(t),Promise.resolve().then(a);if(t.dispose){var l=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return a()}function GA(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,a,l,c){return i?e?".jsx":".js":a&&(!l||!c)?t:a+l+"."+c.toLowerCase()+"js"}):r}const nP={__extends:EA,__assign:Ud,__rest:pl,__decorate:TA,__param:SA,__esDecorate:AA,__runInitializers:RA,__propKey:CA,__setFunctionName:xA,__metadata:IA,__awaiter:ve,__generator:NA,__createBinding:mf,__exportStar:OA,__values:Ld,__read:Dy,__spread:jA,__spreadArrays:kA,__spreadArray:DA,__await:tl,__asyncGenerator:PA,__asyncDelegator:MA,__asyncValues:VA,__makeTemplateObject:UA,__importStar:LA,__importDefault:BA,__classPrivateFieldGet:zA,__classPrivateFieldSet:qA,__classPrivateFieldIn:FA,__addDisposableResource:HA,__disposeResources:$A,__rewriteRelativeImportExtension:GA},rP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:HA,get __assign(){return Ud},__asyncDelegator:MA,__asyncGenerator:PA,__asyncValues:VA,__await:tl,__awaiter:ve,__classPrivateFieldGet:zA,__classPrivateFieldIn:FA,__classPrivateFieldSet:qA,__createBinding:mf,__decorate:TA,__disposeResources:$A,__esDecorate:AA,__exportStar:OA,__extends:EA,__generator:NA,__importDefault:BA,__importStar:LA,__makeTemplateObject:UA,__metadata:IA,__param:SA,__propKey:CA,__read:Dy,__rest:pl,__rewriteRelativeImportExtension:GA,__runInitializers:RA,__setFunctionName:xA,__spread:jA,__spreadArray:DA,__spreadArrays:kA,__values:Ld,default:nP},Symbol.toStringTag,{value:"Module"})),iP=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Py extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class sP extends Py{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tE extends Py{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nE extends Py{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _g;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(_g||(_g={}));class aP{constructor(e,{headers:t={},customFetch:i,region:a=_g.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=iP(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ve(this,arguments,void 0,function*(t,i={}){var a;let l,c;try{const{headers:d,method:m,body:g,signal:v,timeout:w}=i;let T={},{region:A}=i;A||(A=this.region);const j=new URL(`${this.url}/${t}`);A&&A!=="any"&&(T["x-region"]=A,j.searchParams.set("forceFunctionRegion",A));let O;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",O=g):typeof g=="string"?(T["Content-Type"]="text/plain",O=g):typeof FormData<"u"&&g instanceof FormData?O=g:(T["Content-Type"]="application/json",O=JSON.stringify(g)):O=g;let C=v;w&&(c=new AbortController,l=setTimeout(()=>c.abort(),w),v?(C=c.signal,v.addEventListener("abort",()=>c.abort())):C=c.signal);const B=yield this.fetch(j.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),d),body:O,signal:C}).catch(ce=>{throw new sP(ce)}),P=B.headers.get("x-relay-error");if(P&&P==="true")throw new tE(B);if(!B.ok)throw new nE(B);let z=((a=B.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),Z;return z==="application/json"?Z=yield B.json():z==="application/octet-stream"||z==="application/pdf"?Z=yield B.blob():z==="text/event-stream"?Z=B:z==="multipart/form-data"?Z=yield B.formData():Z=yield B.text(),{data:Z,error:null,response:B}}catch(d){return{data:null,error:d,response:d instanceof nE||d instanceof tE?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var un={};const gl=K1(rP);var Qh={},Yh={},Wh={},Jh={},Xh={},Zh={},rE;function KA(){if(rE)return Zh;rE=1,Object.defineProperty(Zh,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Zh.default=r,Zh}var iE;function QA(){if(iE)return Xh;iE=1,Object.defineProperty(Xh,"__esModule",{value:!0});const e=gl.__importDefault(KA());class t{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,w,T;let A=null,j=null,O=null,C=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ce=await m.text();ce===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?j=ce:j=JSON.parse(ce))}const z=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),Z=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");z&&Z&&Z.length>1&&(O=parseInt(Z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(A={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,O=null,C=406,B="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const z=await m.text();try{A=JSON.parse(z),Array.isArray(A)&&m.status===404&&(j=[],A=null,C=200,B="OK")}catch{m.status===404&&z===""?(C=204,B="No Content"):A={message:z}}if(A&&this.isMaybeSingle&&(!((T=A?.details)===null||T===void 0)&&T.includes("0 rows"))&&(A=null,C=200,B="OK"),A&&this.shouldThrowOnError)throw new e.default(A)}return{error:A,data:j,count:O,status:C,statusText:B}});return this.shouldThrowOnError||(d=d.catch(m=>{var g,v,w,T,A,j;let O="";const C=m?.cause;if(C){const B=(g=C?.message)!==null&&g!==void 0?g:"",P=(v=C?.code)!==null&&v!==void 0?v:"";O=`${(w=m?.name)!==null&&w!==void 0?w:"FetchError"}: ${m?.message}`,O+=`

Caused by: ${(T=C?.name)!==null&&T!==void 0?T:"Error"}: ${B}`,P&&(O+=` (${P})`),C?.stack&&(O+=`
${C.stack}`)}else O=(A=m?.stack)!==null&&A!==void 0?A:"";return{error:{message:`${(j=m?.name)!==null&&j!==void 0?j:"FetchError"}: ${m?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Xh.default=t,Xh}var sE;function YA(){if(sE)return Jh;sE=1,Object.defineProperty(Jh,"__esModule",{value:!0});const e=gl.__importDefault(QA());class t extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:m=d}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const m=typeof d>"u"?"offset":`${d}.offset`,g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:m=!1,format:g="text"}={}){var v;const w=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),T=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${T}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Jh.default=t,Jh}var aE;function My(){if(aE)return Wh;aE=1,Object.defineProperty(Wh,"__esModule",{value:!0});const e=gl.__importDefault(YA()),t=new RegExp("[,()]");class i extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(m=>typeof m=="string"&&t.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${g}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Wh.default=i,Wh}var oE;function WA(){if(oE)return Yh;oE=1,Object.defineProperty(Yh,"__esModule",{value:!0});const e=gl.__importDefault(My());class t{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(a,l){const{head:c=!1,count:d}=l??{},m=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var d;const m="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(w.length>0){const T=[...new Set(w)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Yh.default=t,Yh}var lE;function oP(){if(lE)return Qh;lE=1,Object.defineProperty(Qh,"__esModule",{value:!0});const r=gl,e=r.__importDefault(WA()),t=r.__importDefault(My());class i{constructor(l,{headers:c={},schema:d,fetch:m}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=m}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:m=!1,count:g}={}){var v;let w;const T=new URL(`${this.url}/rpc/${l}`);let A;d||m?(w=d?"HEAD":"GET",Object.entries(c).filter(([O,C])=>C!==void 0).map(([O,C])=>[O,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([O,C])=>{T.searchParams.append(O,C)})):(w="POST",A=c);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new t.default({method:w,url:T,headers:j,schema:this.schemaName,body:A,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Qh.default=i,Qh}var cE;function lP(){if(cE)return un;cE=1,Object.defineProperty(un,"__esModule",{value:!0}),un.PostgrestError=un.PostgrestBuilder=un.PostgrestTransformBuilder=un.PostgrestFilterBuilder=un.PostgrestQueryBuilder=un.PostgrestClient=void 0;const r=gl,e=r.__importDefault(oP());un.PostgrestClient=e.default;const t=r.__importDefault(WA());un.PostgrestQueryBuilder=t.default;const i=r.__importDefault(My());un.PostgrestFilterBuilder=i.default;const a=r.__importDefault(YA());un.PostgrestTransformBuilder=a.default;const l=r.__importDefault(QA());un.PostgrestBuilder=l.default;const c=r.__importDefault(KA());return un.PostgrestError=c.default,un.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},un}var JA=lP();const XA=IE(JA),cP=G1({__proto__:null,default:XA},[JA]),{PostgrestClient:uP,PostgrestQueryBuilder:zV,PostgrestFilterBuilder:qV,PostgrestTransformBuilder:FV,PostgrestBuilder:HV,PostgrestError:$V}=XA||cP;class hP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dP="2.84.0",fP=`realtime-js/${dP}`,ZA="1.0.0",mP="2.0.0",uE=ZA,bg=1e4,pP=1e3,gP=100;var Ta;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ta||(Ta={}));var qt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(qt||(qt={}));var wr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(wr||(wr={}));var wg;(function(r){r.websocket="websocket"})(wg||(wg={}));var Sa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Sa||(Sa={}));class yP{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i,a,l;const c=e.topic,d=(t=e.ref)!==null&&t!==void 0?t:"",m=(i=e.join_ref)!==null&&i!==void 0?i:"",g=e.payload.event,v=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:new ArrayBuffer(0),w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+c.length+g.length,T=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(T),j=0;A.setUint8(j++,this.KINDS.userBroadcastPush),A.setUint8(j++,m.length),A.setUint8(j++,d.length),A.setUint8(j++,c.length),A.setUint8(j++,g.length),A.setUint8(j++,this.BINARY_ENCODING),Array.from(m,C=>A.setUint8(j++,C.charCodeAt(0))),Array.from(d,C=>A.setUint8(j++,C.charCodeAt(0))),Array.from(c,C=>A.setUint8(j++,C.charCodeAt(0))),Array.from(g,C=>A.setUint8(j++,C.charCodeAt(0)));var O=new Uint8Array(T.byteLength+v.byteLength);return O.set(new Uint8Array(T),0),O.set(new Uint8Array(v),T.byteLength),O.buffer}_encodeJsonUserBroadcastPush(e){var t,i,a,l;const c=e.topic,d=(t=e.ref)!==null&&t!==void 0?t:"",m=(i=e.join_ref)!==null&&i!==void 0?i:"",g=e.payload.event,v=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:{},T=new TextEncoder().encode(JSON.stringify(v)).buffer,A=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+c.length+g.length,j=new ArrayBuffer(this.HEADER_LENGTH+A);let O=new DataView(j),C=0;O.setUint8(C++,this.KINDS.userBroadcastPush),O.setUint8(C++,m.length),O.setUint8(C++,d.length),O.setUint8(C++,c.length),O.setUint8(C++,g.length),O.setUint8(C++,this.JSON_ENCODING),Array.from(m,P=>O.setUint8(C++,P.charCodeAt(0))),Array.from(d,P=>O.setUint8(C++,P.charCodeAt(0))),Array.from(c,P=>O.setUint8(C++,P.charCodeAt(0))),Array.from(g,P=>O.setUint8(C++,P.charCodeAt(0)));var B=new Uint8Array(j.byteLength+T.byteLength);return B.set(new Uint8Array(j),0),B.set(new Uint8Array(T),j.byteLength),B.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,d,m]=i;return t({join_ref:a,ref:l,topic:c,event:d,payload:m})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,i){const a=t.getUint8(1),l=t.getUint8(2),c=t.getUint8(3),d=t.getUint8(4);let m=this.HEADER_LENGTH+4;const g=i.decode(e.slice(m,m+a));m=m+a;const v=i.decode(e.slice(m,m+l));m=m+l;const w=i.decode(e.slice(m,m+c));m=m+c;const T=e.slice(m,e.byteLength),A=d===this.JSON_ENCODING?JSON.parse(i.decode(T)):T,j={type:this.BROADCAST_EVENT,event:v,payload:A};return c>0&&(j.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class eR{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ot;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ot||(ot={}));const hE=(r,e,t={})=>{var i;const a=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=vP(c,r,e,a),l),{}):{}},vP=(r,e,t,i)=>{const a=e.find(d=>d.name===r),l=a?.type,c=t[r];return l&&!i.includes(l)?tR(l,c):Eg(c)},tR=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return EP(e,t)}switch(r){case ot.bool:return _P(e);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return bP(e);case ot.json:case ot.jsonb:return wP(e);case ot.timestamp:return TP(e);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return Eg(e);default:return Eg(e)}},Eg=r=>r,_P=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bP=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},wP=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},EP=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let l;const c=r.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>tR(e,d))}return r},TP=r=>typeof r=="string"?r.replace(" ","T"):r,nR=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dp{constructor(e,t,i={},a=bg){this.channel=e,this.event=t,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dE;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(dE||(dE={}));class Vc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vc.syncState(this.state,a,l,c),this.pendingDiffs.forEach(m=>{this.state=Vc.syncDiff(this.state,m,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vc.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,a){const l=this.cloneDeep(e),c=this.transformState(t),d={},m={};return this.map(l,(g,v)=>{c[g]||(m[g]=v)}),this.map(c,(g,v)=>{const w=l[g];if(w){const T=v.map(C=>C.presence_ref),A=w.map(C=>C.presence_ref),j=v.filter(C=>A.indexOf(C.presence_ref)<0),O=w.filter(C=>T.indexOf(C.presence_ref)<0);j.length>0&&(d[g]=j),O.length>0&&(m[g]=O)}else d[g]=v}),this.syncDiff(l,{joins:d,leaves:m},i,a)}static syncDiff(e,t,i,a){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,m)=>{var g;const v=(g=e[d])!==null&&g!==void 0?g:[];if(e[d]=this.cloneDeep(m),v.length>0){const w=e[d].map(A=>A.presence_ref),T=v.filter(A=>w.indexOf(A.presence_ref)<0);e[d].unshift(...T)}i(d,v,m)}),this.map(c,(d,m)=>{let g=e[d];if(!g)return;const v=m.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),e[d]=g,a(d,g,m),g.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const a=e[i];return"metas"in a?t[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[i]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fE;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(fE||(fE={}));var Uc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Uc||(Uc={}));var Si;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Si||(Si={}));class Vy{constructor(e,t={config:{}},i){var a,l;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Dp(this,wr.join,this.params,this.timeout),this.rejoinTimer=new eR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Vc(this),this.broadcastEndpointURL=nR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:c,presence:d,private:m}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(A=>A.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Uc.PRESENCE]&&this.bindings[Uc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},T={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(A=>e?.(Si.CHANNEL_ERROR,A)),this._onClose(()=>e?.(Si.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:A})=>{var j;if(this.socket.setAuth(),A===void 0){e?.(Si.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,C=(j=O?.length)!==null&&j!==void 0?j:0,B=[];for(let P=0;P<C;P++){const z=O[P],{filter:{event:Z,schema:ce,table:ae,filter:x}}=z,N=A&&A[P];if(N&&N.event===Z&&N.schema===ce&&N.table===ae&&N.filter===x)B.push(Object.assign(Object.assign({},z),{id:N.id}));else{this.unsubscribe(),this.state=qt.errored,e?.(Si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,e&&e(Si.SUBSCRIBED);return}}).receive("error",A=>{this.state=qt.errored,e?.(Si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e?.(Si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===qt.joined&&e===Uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const g=await d.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(e,t={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,m;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Dp(this,wr.leave,{},e),i.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),c}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dp(this,e,t,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gP){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:m,leave:g,join:v}=wr;if(i&&[d,m,g,v].indexOf(c)>=0&&i!==this._joinRef())return;let T=this._onMessage(c,t,i);if(t&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(A=>{var j,O,C;return((j=A.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(O=A.filter)===null||O===void 0?void 0:O.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(A=>A.callback(T,i)):(l=this.bindings[c])===null||l===void 0||l.filter(A=>{var j,O,C,B,P,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const Z=A.id,ce=(j=A.filter)===null||j===void 0?void 0:j.event;return Z&&((O=t.ids)===null||O===void 0?void 0:O.includes(Z))&&(ce==="*"||ce?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const Z=(P=(B=A?.filter)===null||B===void 0?void 0:B.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return Z==="*"||Z===((z=t?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof T=="object"&&"ids"in T){const j=T.data,{schema:O,table:C,commit_timestamp:B,type:P,errors:z}=j;T=Object.assign(Object.assign({},{schema:O,table:C,commit_timestamp:B,eventType:P,new:{},old:{},errors:z}),this._getPayloadRecords(j))}A.callback(T,i)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Vy.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wr.close,{},e)}_onError(e){this._on(wr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=hE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=hE(e.columns,e.old_record)),t}}const Pp=()=>{},ed={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SP=[1e3,2e3,5e3,1e4],AP=1e4,RP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CP{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bg,this.transport=null,this.heartbeatIntervalMs=ed.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pp,this.ref=0,this.reconnectTimer=null,this.vsn=uE,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new yP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${wg.websocket}`,this.httpEndpoint=nR(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return Sa.Connecting;case Ta.open:return Sa.Open;case Ta.closing:return Sa.Closing;default:return Sa.Closed}}isConnected(){return this.connectionState()===Sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Vy(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${t} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pP,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ed.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=t,d=c?`(${c})`:"",m=l.status||"";this.log("receive",`${m} ${i} ${a} ${d}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${i}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([RP],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const a={access_token:t,version:fP};t&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(wr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new eR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ed.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,a,l,c,d,m,g,v,w,T,A;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:bg,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:ed.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Pp,this.vsn=(m=e?.vsn)!==null&&m!==void 0?m:uE,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(j=>SP[j-1]||AP),this.vsn){case ZA:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((j,O)=>O(JSON.stringify(j))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((j,O)=>O(JSON.parse(j)));break;case mP:this.encode=(T=e?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(A=e?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Uy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class xP extends Uy{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tg extends Uy{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Ly=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),IP=()=>Response,Sg=r=>{if(Array.isArray(r))return r.map(t=>Sg(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Sg(i)}),e},NP=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Mp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},OP=(r,e,t)=>ve(void 0,void 0,void 0,function*(){const i=yield IP();r instanceof i&&!t?.noResolveJson?r.json().then(a=>{const l=r.status||500,c=a?.statusCode||l+"";e(new xP(Mp(a),l,c))}).catch(a=>{e(new Tg(Mp(a),a))}):e(new Tg(Mp(r),r))}),jP=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!i?a:(NP(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function hu(r,e,t,i,a,l){return ve(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(t,jP(e,i,a,l)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>OP(m,d,i))})})}function Qc(r,e,t,i){return ve(this,void 0,void 0,function*(){return hu(r,"GET",e,t,i)})}function br(r,e,t,i,a){return ve(this,void 0,void 0,function*(){return hu(r,"POST",e,i,a,t)})}function Ag(r,e,t,i,a){return ve(this,void 0,void 0,function*(){return hu(r,"PUT",e,i,a,t)})}function kP(r,e,t,i){return ve(this,void 0,void 0,function*(){return hu(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function By(r,e,t,i,a){return ve(this,void 0,void 0,function*(){return hu(r,"DELETE",e,i,a,t)})}class DP{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}var rR;class PP{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rR]="BlobDownloadBuilder",this.promise=null}asStream(){return new DP(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}rR=Symbol.toStringTag;const MP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VP{constructor(e,t={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=Ly(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,a){return ve(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},mE),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),m&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(m))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const g=this._removeEmptyFolders(t),v=this._getFinalPath(g),w=yield(e=="PUT"?Ag:br)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pt(l))return{data:null,error:l};throw l}})}upload(e,t,i){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,a){return ve(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let m;const g=Object.assign({upsert:mE.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const w=yield Ag(this.fetch,d.toString(),m,{headers:v});return{data:{path:l,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(pt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const l=yield br(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Uy("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}update(e,t,i){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ve(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}copy(e,t,i){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,i){return ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield br(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,i){return ve(this,void 0,void 0,function*(){try{const a=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),m=()=>Qc(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new PP(m,this.shouldThrowOnError)}info(e){return ve(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Qc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Sg(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}exists(e){return ve(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield kP(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i)&&i instanceof Tg){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const d=typeof t?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(t?.transform||{});m!==""&&a.push(m);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}list(e,t,i){return ve(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},MP),t),{prefix:e||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}listV2(e,t){return ve(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const iR="2.84.0",sR={"X-Client-Info":`storage-js/${iR}`};class UP{constructor(e,t={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sR),t),this.fetch=Ly(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Qc(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}createBucket(e){return ve(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield Ag(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class LP{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sR),t),this.fetch=Ly(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const i=t.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Qc(this.fetch,a,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}const zy={"X-Client-Info":`storage-js/${iR}`,"Content-Type":"application/json"};class aR extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Bn(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Vp extends aR{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BP extends aR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var pE;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pE||(pE={}));const qy=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),zP=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},gE=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),qP=(r,e,t)=>ve(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const a=r.status||500,l=r;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||a+"";e(new Vp(gE(c),a,d))}).catch(()=>{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new Vp(d,a,c))});else{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new Vp(d,a,c))}}else e(new BP(gE(r),r))}),FP=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return i?(zP(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),t)):a};function HP(r,e,t,i,a,l){return ve(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(t,FP(e,i,a,l)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>qP(m,d,i))})})}function zn(r,e,t,i,a){return ve(this,void 0,void 0,function*(){return HP(r,"POST",e,i,a,t)})}class $P{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),t),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bn(i))return{data:null,error:i};throw i}})}listIndexes(e){return ve(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ve(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bn(i))return{data:null,error:i};throw i}})}}class GP{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),t),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}getVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}listVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield zn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}queryVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}}class KP{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),t),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}listBuckets(){return ve(this,arguments,void 0,function*(e={}){try{return{data:yield zn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bn(t))return{data:null,error:t};throw t}})}}class QP extends KP{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new YP(this.url,this.headers,e,this.fetch)}}class YP extends $P{constructor(e,t,i,a){super(e,t,a),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WP extends GP{constructor(e,t,i,a,l){super(e,t,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JP extends UP{constructor(e,t={},i,a){super(e,t,i,a)}from(e){return new VP(this.url,this.headers,e,this.fetch)}get vectors(){return new QP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LP(this.url+"/iceberg",this.headers,this.fetch)}}const XP="2.84.0";let Nc="";typeof Deno<"u"?Nc="deno":typeof document<"u"?Nc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nc="react-native":Nc="node";const ZP={"X-Client-Info":`supabase-js-${Nc}/${XP}`},eM={headers:ZP},tM={schema:"public"},nM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rM={},iM=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),sM=()=>Headers,aM=(r,e,t)=>{const i=iM(t),a=sM();return async(l,c)=>{var d;const m=(d=await e())!==null&&d!==void 0?d:r;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),i(l,Object.assign(Object.assign({},c),{headers:g}))}};function oM(r){return r.endsWith("/")?r:r+"/"}function lM(r,e){var t,i;const{db:a,auth:l,realtime:c,global:d}=r,{db:m,auth:g,realtime:v,global:w}=e,T={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),d),{headers:Object.assign(Object.assign({},(t=w?.headers)!==null&&t!==void 0?t:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?T.accessToken=r.accessToken:delete T.accessToken,T}function cM(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const oR="2.84.0",Lo=30*1e3,Rg=3,Up=Rg*Lo,uM="http://localhost:9999",hM="supabase.auth.token",dM={"X-Client-Info":`gotrue-js/${oR}`},Cg="X-Supabase-Api-Version",lR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mM=600*1e3;class Yc extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function _e(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class pM extends Yc{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function gM(r){return _e(r)&&r.name==="AuthApiError"}class Aa extends Yc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Bs extends Yc{constructor(e,t,i,a){super(e,i,a),this.name=t,this.status=i}}class Un extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yM(r){return _e(r)&&r.name==="AuthSessionMissingError"}class Io extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nd extends Bs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vM(r){return _e(r)&&r.name==="AuthImplicitGrantRedirectError"}class yE extends Bs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xg extends Bs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Lp(r){return _e(r)&&r.name==="AuthRetryableFetchError"}class vE extends Bs{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Ig extends Bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_E=` 	
\r=`.split(""),_M=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<_E.length;e+=1)r[_E[e].charCodeAt(0)]=-2;for(let e=0;e<Bd.length;e+=1)r[Bd[e].charCodeAt(0)]=e;return r})();function bE(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Bd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Bd[i]),e.queuedBits-=6}}function cR(r,e,t){const i=_M[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function wE(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{EM(c,i,t)};for(let c=0;c<r.length;c+=1)cR(r.charCodeAt(c),a,l);return e.join("")}function bM(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function wM(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}bM(i,e)}}function EM(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Go(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)cR(r.charCodeAt(a),t,i);return new Uint8Array(e)}function TM(r){const e=[];return wM(r,t=>e.push(t)),new Uint8Array(e)}function xa(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};return r.forEach(a=>bE(a,t,i)),bE(null,t,i),e.join("")}function SM(r){return Math.round(Date.now()/1e3)+r}function AM(){return Symbol("auth-callback")}const rn=()=>typeof window<"u"&&typeof document<"u",_a={tested:!1,writable:!1},uR=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_a.tested)return _a.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),_a.tested=!0,_a.writable=!0}catch{_a.tested=!0,_a.writable=!1}return _a.writable};function RM(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((i,a)=>{e[a]=i}),e}const hR=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),CM=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Bo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ba=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},bs=async(r,e)=>{await r.removeItem(e)};class pf{constructor(){this.promise=new pf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}pf.promiseConstructor=Promise;function Bp(r){const e=r.split(".");if(e.length!==3)throw new Ig("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!fM.test(e[i]))throw new Ig("JWT not in base64url format");return{header:JSON.parse(wE(e[0])),payload:JSON.parse(wE(e[1])),signature:Go(e[2]),raw:{header:e[0],payload:e[1]}}}async function xM(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function IM(r,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function NM(r){return("0"+r.toString(16)).substr(-2)}function OM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,NM).join("")}async function jM(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function kM(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await jM(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(r,e,t=!1){const i=OM();let a=i;t&&(a+="/PASSWORD_RECOVERY"),await Bo(r,`${e}-code-verifier`,a);const l=await kM(i);return[l,i===l?"plain":"s256"]}const DM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PM(r){const e=r.headers.get(Cg);if(!e||!e.match(DM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MM(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function VM(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(r){if(!UM.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zp(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LM(r,e){return new Proxy(r,{get:(t,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,a)}})}function EE(r){return JSON.parse(JSON.stringify(r))}const Ea=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),BM=[502,503,504];async function TE(r){var e;if(!CM(r))throw new xg(Ea(r),0);if(BM.includes(r.status))throw new xg(Ea(r),r.status);let t;try{t=await r.json()}catch(l){throw new Aa(Ea(l),l)}let i;const a=PM(r);if(a&&a.getTime()>=lR["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new vE(Ea(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Un}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new vE(Ea(t),r.status,t.weak_password.reasons);throw new pM(Ea(t),r.status||500,i)}const zM=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),t))};async function Re(r,e,t,i){var a;const l=Object.assign({},i?.headers);l[Cg]||(l[Cg]=lR["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await qM(r,e,t+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function qM(r,e,t,i,a,l){const c=zM(e,i,a,l);let d;try{d=await r(t,Object.assign({},c))}catch(m){throw console.error(m),new xg(Ea(m),0)}if(d.ok||await TE(d),i?.noResolveJson)return d;try{return await d.json()}catch(m){await TE(m)}}function _r(r){var e;let t=null;$M(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=SM(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function SE(r){const e=_r(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ss(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function FM(r){return{data:r,error:null}}function HM(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:l}=r,c=pl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:l},m=Object.assign({},c);return{data:{properties:d,user:m},error:null}}function AE(r){return r}function $M(r){return r.access_token&&r.refresh_token&&r.expires_in}const qp=["global","local","others"];class GM{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=hR(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=qp[0]){if(qp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qp.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ss})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=pl(e,["options"]),a=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:HM,redirectTo:t?.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ss})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,a,l,c,d,m;try{const g={nextPage:null,lastPage:0,total:0},v=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:AE});if(v.error)throw v.error;const w=await v.json(),T=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);g[`${C}Page`]=O}),g.total=parseInt(T)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(_e(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Oo(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ss})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Oo(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ss})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Oo(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ss})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Oo(e.userId);try{const{data:t,error:i}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:i}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Oo(e.userId),Oo(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,a,l,c,d,m;try{const g={nextPage:null,lastPage:0,total:0},v=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:AE});if(v.error)throw v.error;const w=await v.json(),T=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);g[`${C}Page`]=O}),g.total=parseInt(T)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(_e(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function RE(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const jo={debug:!!(globalThis&&uR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class KM extends dR{}async function QM(r,e,t){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new KM(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(jo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function YM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fR(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function WM(r){return parseInt(r,16)}function JM(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function XM(r){var e;const{chainId:t,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:m,resources:g,scheme:v,uri:w,version:T}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const A=fR(r.address),j=v?`${v}://${i}`:i,O=r.statement?`${r.statement}
`:"",C=`${j} wants you to sign in with your Ethereum account:
${A}

${O}`;let B=`URI: ${w}
Version: ${T}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(B+=`
Expiration Time: ${a.toISOString()}`),d&&(B+=`
Not Before: ${d.toISOString()}`),m&&(B+=`
Request ID: ${m}`),g){let P=`
Resources:`;for(const z of g){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);P+=`
- ${z}`}B+=P}return`${C}
${B}`}class Vt extends Error{constructor({message:e,code:t,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class zd extends Vt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ZM({error:r,options:e}){var t,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(mR(c)){if(l.rp.id!==c)return new Vt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function eV({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(mR(i)){if(t.rpId!==i)return new Vt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class tV{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nV=new tV;function rV(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,a=pl(r,["challenge","user","excludeCredentials"]),l=Go(e).buffer,c=Object.assign(Object.assign({},t),{id:Go(t.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const g=i[m];d.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Go(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function iV(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=pl(r,["challenge","allowCredentials"]),a=Go(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const d=t[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Go(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function sV(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:xa(new Uint8Array(r.response.attestationObject)),clientDataJSON:xa(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aV(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:xa(new Uint8Array(a.authenticatorData)),clientDataJSON:xa(new Uint8Array(a.clientDataJSON)),signature:xa(new Uint8Array(a.signature)),userHandle:a.userHandle?xa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mR(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function CE(){var r,e;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oV(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",e)}:{data:null,error:new zd("Empty credential response",e)}}catch(e){return{data:null,error:ZM({error:e,options:r})}}}async function lV(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",e)}:{data:null,error:new zd("Empty credential response",e)}}catch(e){return{data:null,error:eV({error:e,options:r})}}}const cV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qd(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(t(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=qd(d,c):i[l]=qd(c)}else i[l]=c}return i}function hV(r,e){return qd(cV,r,e||{})}function dV(r,e){return qd(uV,r,e||{})}class fV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const m=a??nV.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=hV(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:w}=await oV({publicKey:g,signal:m});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=dV(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:w}=await lV(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new Aa("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!t)return{data:null,error:new Yc("rpId is required for WebAuthn authentication")};try{if(!CE())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:m}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:m.type,rpId:t,rpOrigins:i,credential_response:m.credential_response}})}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new Aa("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!t)return{data:null,error:new Yc("rpId is required for WebAuthn registration")};try{if(!CE())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:m,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:a},{create:l});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:t,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new Aa("Unexpected error in register",c)}}}}YM();const mV={url:uM,storageKey:hM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xE(r,e,t){return await t()}const ko={};class Wc{get jwks(){var e,t;return(t=(e=ko[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ko[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},mV),e);if(this.storageKey=l.storageKey,this.instanceID=(t=Wc.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&rn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new GM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=hR(l.fetch),this.lock=l.lock||xE,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:rn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=QM:this.lock=xE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:uR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RE(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=RE(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${oR}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(rn()&&(t=RM(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),rn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),vM(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?this._returnResult({error:t}):this._returnResult({error:new Aa("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,a;try{const l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:_r}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,i,a;try{let l;if("email"in e){const{email:v,password:w,options:T}=e;let A=null,j=null;this.flowType==="pkce"&&([A,j]=await No(this.storage,this.storageKey)),l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:v,password:w,data:(t=T?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:j},xform:_r})}else if("phone"in e){const{phone:v,password:w,options:T}=e;l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=T?.data)!==null&&i!==void 0?i:{},channel:(a=T?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:_r})}else throw new td("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:d}=e;t=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:SE})}else if("phone"in e){const{phone:l,password:c,options:d}=e;t=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:SE})}else throw new td("You must provide either an email or phone number and a password");const{data:i,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Io;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,a,l,c,d,m,g,v,w,T;let A,j;if("message"in e)A=e.message,j=e.signature;else{const{chain:O,wallet:C,statement:B,options:P}=e;let z;if(rn())if(typeof C=="object")z=C;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")z=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=C}const Z=new URL((t=P?.url)!==null&&t!==void 0?t:window.location.href),ce=await z.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=fR(ce[0]);let x=(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!x){const k=await z.request({method:"eth_chainId"});x=WM(k)}const N={domain:Z.host,address:ae,statement:B,uri:Z.href,version:"1",chainId:x,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.resources};A=XM(N),j=await z.request({method:"personal_sign",params:[JM(A),ae]})}try{const{data:O,error:C}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:j},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:_r});if(C)throw C;if(!O||!O.session||!O.user){const B=new Io;return this._returnResult({data:{user:null,session:null},error:B})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:C})}catch(O){if(_e(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(e){var t,i,a,l,c,d,m,g,v,w,T,A;let j,O;if("message"in e)j=e.message,O=e.signature;else{const{chain:C,wallet:B,statement:P,options:z}=e;let Z;if(rn())if(typeof B=="object")Z=B;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))Z=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=B}const ce=new URL((t=z?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in Z&&Z.signIn){const ae=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),P?{statement:P}:null));let x;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")x=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)x=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)j=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),O=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ce.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(a=(i=z?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((c=z?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((w=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...z.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const ae=await Z.signMessage(new TextEncoder().encode(j),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=ae}}try{const{data:C,error:B}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:xa(O)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:_r});if(B)throw B;if(!C||!C.session||!C.user){const P=new Io;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:B})}catch(C){if(_e(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const t=await ba(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(t??"").split("/");try{const{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:_r});if(await bs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new Io;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(_e(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:i,token:a,access_token:l,nonce:c}=e,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:_r}),{data:m,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new Io;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,a,l,c;try{if("email"in e){const{email:d,options:m}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await No(this.storage,this.storageKey));const{error:w}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:d,options:m}=e,{data:g,error:v}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new td("You must provide either an email or phone number.")}catch(d){if(_e(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,i;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:_r});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,g=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,i,a,l,c;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await No(this.storage,this.storageKey));const g=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:FM});return!((l=g.data)===null||l===void 0)&&l.url&&rn()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(_e(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Un;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await Re(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:d}=await Re(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new td("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Up:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await ba(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=zp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=LM(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ss}):await this._useSession(async t=>{var i,a,l;const{data:c,error:d}=t;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ss})})}catch(t){if(_e(t))return yM(t)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Un;const c=a.session;let d=null,m=null;this.flowType==="pkce"&&e.email!=null&&([d,m]=await No(this.storage,this.storageKey));const{data:g,error:v}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:m}),jwt:c.access_token,xform:Ss});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(_e(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const t=Date.now()/1e3;let i=t,a=!0,l=null;const{payload:c}=Bp(e.access_token);if(c.exp&&(i=c.exp,a=i<=t),a){const{data:d,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(_e(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Un;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!rn())throw new nd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new yE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yE("No code detected.");const{data:P,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:m,token_type:g}=e;if(!l||!d||!c||!g)throw new nd("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(d);let T=v+w;m&&(T=parseInt(m));const A=T-v;A*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const j=T-w;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,T,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,T,v);const{data:O,error:C}=await this._getUser(l);if(C)throw C;const B={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:T,refresh_token:c,token_type:g,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:e.type},error:null})}catch(i){if(_e(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(gM(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=AM(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,a;try{const{data:{session:l},error:c}=t;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await No(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(_e(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,m,g,v;const{data:w,error:T}=l;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",A,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return rn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(_e(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:a,data:{session:l}}=t;if(a)throw a;const{options:c,provider:d,token:m,access_token:g,nonce:v}=e,w=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_r}),{data:T,error:A}=w;return A?this._returnResult({data:{user:null,session:null},error:A}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Io}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:A}))}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,a;const{data:l,error:c}=t;if(c)throw c;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await IM(async a=>(a>0&&await xM(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Lp(l)&&Date.now()+c-i<Lo})}catch(i){if(this._debug(t,"error",i),_e(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),rn()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await ba(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Bo(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:zp()}else if(a&&!a.user&&!a.user){const c=await ba(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await bs(this.storage,this.storageKey+"-user"),await Bo(this.storage,this.storageKey,a)):a.user=zp()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Up;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Up}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Lp(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new pf;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Un;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),_e(l)){const c={data:null,error:l};return Lp(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(m){l.push(m)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Bo(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=EE(a);await Bo(this.storage,this.storageKey,l)}else{const a=EE(t);await Bo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await bs(this.storage,this.storageKey+"-code-verifier"),await bs(this.storage,this.storageKey+"-user"),this.userStorage&&await bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Lo}ms, refresh threshold is ${Rg} ticks`),a<=Rg&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const a=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await No(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;return l?this._returnResult({data:null,error:l}):await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,a;const{data:l,error:c}=t;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:g}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&m.type==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sV(e.webauthn.credential_response):aV(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:m}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rV(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iV(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bp(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Un})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Un});const c=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&rn()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Un});const c=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&rn()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Un})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Un})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+mM>a)return i;const{data:l,error:c}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:A,error:j}=await this.getSession();if(j||!A.session)return this._returnResult({data:null,error:j});i=A.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:m}}=Bp(i);t?.allowExpired||MM(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!g){const{error:A}=await this.getUser(i);if(A)throw A;return{data:{claims:l,header:a,signature:c},error:null}}const v=VM(a.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,TM(`${d}.${m}`)))throw new Ig("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}}Wc.nextInstanceID={};const pV=Wc;class gV extends pV{constructor(e){super(e)}}class yV{constructor(e,t,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=t;const d=cM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:tM,realtime:rM,auth:Object.assign(Object.assign({},nM),{storageKey:m}),global:eM},v=lM(i??{},g);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=aM(t,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new uP(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new JP(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new aP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:d,lock:m,debug:g,throwOnError:v},w,T){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gV({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),w),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:m,debug:g,throwOnError:v,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new CP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vV=(r,e,t)=>new yV(r,e,t);function _V(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_V()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bV="https://dpcisqeugzvbqfmcrhzw.supabase.co",wV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwY2lzcWV1Z3p2YnFmbWNyaHp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NzEyODIsImV4cCI6MjA3OTQ0NzI4Mn0.8yXQS5cLfXthiKX61i0XZDSJcnqH5wi2PVySD9dM5HE",St=vV(bV,wV),EV=()=>{const r=ii(),[e,t]=U.useState([]),[i,a]=U.useState(!0);U.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c,error:d}=await St.from("programs").select("*").eq("is_featured",!0).order("created_at",{ascending:!1}).limit(4);if(d)throw d;t(c||[])}catch(c){console.error("Error loading featured programs:",c)}finally{a(!1)}};return p.jsx("section",{className:"programs section",id:"programs",children:p.jsxs("div",{className:"container",children:[p.jsx("div",{className:"section-header text-center",children:p.jsx("h2",{children:"Our Flagship Placement Programs"})}),p.jsx("div",{className:"programs-grid",children:i?p.jsx("p",{className:"text-center",children:"Loading programs..."}):e.length===0?p.jsx("p",{className:"text-center text-muted",children:"No featured programs available at the moment."}):e.map(c=>p.jsxs("div",{className:"program-card card",children:[p.jsxs("div",{className:"program-thumbnail",children:[c.thumbnail_url?p.jsx("img",{src:c.thumbnail_url,alt:c.title,onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="flex"}}):null,p.jsx("div",{className:"program-icon-fallback",style:{display:c.thumbnail_url?"none":"flex"},children:p.jsx("span",{style:{fontSize:"2rem"},children:""})}),p.jsx("span",{className:"category-badge",children:c.category})]}),p.jsxs("div",{className:"program-content",children:[p.jsx("h3",{className:"program-title",children:c.title}),p.jsxs("p",{className:"program-description",children:[c.description.substring(0,100),"..."]}),p.jsxs("div",{className:"program-meta",children:[p.jsx("span",{className:"badge",children:c.duration}),p.jsx("span",{className:"price-tag",children:c.price})]}),p.jsxs("button",{className:"btn btn-primary program-btn",onClick:()=>r(`/programs/${c.id}`),children:["Explore",p.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},c.id))}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{className:"btn btn-outline",onClick:()=>r("/programs"),children:"View All Programs"})})]})})},TV=()=>{const r=[{icon:"",title:"Industry-driven Internships & Live Projects"},{icon:"",title:"AICTE-linked Career-Readiness Programs"},{icon:"",title:"NAAC/NBA support for colleges"},{icon:"",title:"Placement-focused Certification Courses"},{icon:"",title:"Corporate Training & L&D Solutions"},{icon:"",title:"Faculty Development Programs"}],e=[{icon:"",title:"Students",description:"internships, employability, and career clarity"},{icon:"",title:"Colleges",description:"academicindustry integration and branding"},{icon:"",title:"Corporates",description:"internship hiring, training collaborations, and project-based engagements"}];return p.jsx("section",{className:"features section",id:"offerings",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"features-grid",children:[p.jsxs("div",{className:"features-column",children:[p.jsx("h2",{className:"features-section-title",children:"Key Offerings"}),p.jsx("div",{className:"features-list",children:r.map((t,i)=>p.jsxs("div",{className:"feature-card card",children:[p.jsx("div",{className:"feature-icon",children:t.icon}),p.jsx("p",{className:"feature-text",children:t.title})]},i))})]}),p.jsxs("div",{className:"features-column",children:[p.jsx("h2",{className:"features-section-title",children:"Who We Serve"}),p.jsx("div",{className:"features-list",children:e.map((t,i)=>p.jsxs("div",{className:"feature-card card",children:[p.jsx("div",{className:"feature-icon",children:t.icon}),p.jsxs("div",{className:"feature-content",children:[p.jsx("h3",{className:"feature-subtitle",children:t.title}),p.jsx("p",{className:"feature-text",children:t.description})]})]},i))})]})]})})})},SV=()=>p.jsxs(p.Fragment,{children:[p.jsx(ZD,{}),p.jsx(EV,{}),p.jsx(TV,{})]}),AV=()=>{const r=[{icon:"",title:"Our Identity",description:"StartosEdge is a fully tech-centric, delivering enterprise-grade training programs across multiple domains."},{icon:"",title:"Vision-Driven Mission",description:"To power learners, leaders of a workforce that thrives on innovation. At StratosEdge, we bridge the gap."},{icon:"",title:"Strategic Partnerships",description:"Collaborating with educators, academic institutions, and create continual learning journeys."}],e=[{icon:"",title:"Enterprise Training",description:"Upskilling your workforce in full-stack, data, cloud, QA, and managerial capability training."},{icon:"",title:"Campus Readiness",description:"Aptly Aptitude + Reasoning + Coding simulation assessments for job readiness."},{icon:"",title:"Tech Excellence",description:"Hands-on proficiency in: full-stack, data, cloud, and open source for upskilling tech teams."},{icon:"",title:"Communication Mastery",description:"Communication excellence: presentation, storytelling, and business communication."},{icon:"",title:"Leadership Acceleration",description:"Executive coaching, leadership, OKR frameworks, and driving organizational change."},{icon:"",title:"Tailored Learning",description:"Custom-built solutions to match schools (K-12), lean, post, and corporate needs."}],t=[{category:"Left Column",items:["Strategic Decision-Making, Executive Business Storytelling","Emotional Intelligence, mission-Driven DEI, Learning","Cross-Cultural Communication, Mitigation","Change Management","AI-Driven Learning, Digital Transformation in Training"]},{category:"Right Column",items:["Career Acceleration, Agile Learning, Talent Development","Sales Enablement, Negotiation Mastery, Customer-Centric Selling","Product Management","Time Management","Industry-Specific Adaptability: IT, BFSI, Telecom, Manufacturing"]}];return p.jsxs("div",{className:"about-page",children:[p.jsx("section",{className:"about-hero section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"about-hero-content text-center",children:[p.jsxs("h1",{className:"fade-in-up",children:["Transforming Talent for ",p.jsx("span",{className:"text-gradient",children:"Tomorrow's Workforce"})]}),p.jsx("p",{className:"hero-subtitle fade-in-up",children:"Corporate Development | Campus-to-Corporate Readiness | Leadership Development | Digital Up-skilling"})]})})}),p.jsx("section",{className:"about-cards-section section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:"section-title text-center",children:"About Us"}),p.jsx("div",{className:"about-cards-grid",children:r.map((i,a)=>p.jsxs("div",{className:"about-info-card card",children:[p.jsx("div",{className:"card-icon",children:i.icon}),p.jsx("h3",{children:i.title}),p.jsx("p",{children:i.description})]},a))})]})}),p.jsx("section",{className:"founder-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"founder-content",children:[p.jsx("div",{className:"founder-image",children:p.jsx("img",{src:"/assets/founder.png",alt:"Hari Krishna K",className:"founder-avatar"})}),p.jsxs("div",{className:"founder-info",children:[p.jsx("h2",{children:"Meet Hari Krishna K"}),p.jsx("p",{className:"founder-role",children:"Co-Founder & CEO of StartosEdge"}),p.jsx("p",{className:"founder-bio",children:"Hari Krishna K brings 15+ years of unmatched experience in empowering careers, students, and professionals to unlock their potential. He has transformed over 50,000 lives, led unique cohorts, and set the standard to build high-impact learning programs."}),p.jsx("div",{className:"founder-quote",children:p.jsx("p",{children:`"Thriving is not about achieving a title. It's about transforming everyday lives."`})})]})]})})}),p.jsx("section",{className:"solutions-section section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:"section-title text-center",children:"Our Solutions"}),p.jsx("div",{className:"solutions-grid",children:e.map((i,a)=>p.jsxs("div",{className:"solution-card card",children:[p.jsx("div",{className:"solution-icon",children:i.icon}),p.jsx("h3",{children:i.title}),p.jsx("p",{children:i.description})]},a))})]})}),p.jsx("section",{className:"expertise-section section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:"section-title text-center",children:"Detailed Expertise"}),p.jsx("div",{className:"expertise-grid",children:t.map((i,a)=>p.jsx("div",{className:"expertise-column",children:i.items.map((l,c)=>p.jsxs("div",{className:"expertise-item",children:[p.jsx("span",{className:"check-icon",children:""}),p.jsx("span",{children:l})]},c))},a))})]})})]})},RV=()=>{const[r,e]=U.useState({name:"",email:"",phone:"",program:"",message:""}),t=l=>{e({...r,[l.target.name]:l.target.value})},i=l=>{l.preventDefault(),console.log("Form submitted:",r),alert("Thank you for contacting us! We will get back to you soon."),e({name:"",email:"",phone:"",program:"",message:""})},a=[{icon:"",title:"Email",details:"info@startosedge.com",link:"mailto:info@startosedge.com"},{icon:"",title:"Phone",details:"+91 98765 43210",link:"tel:+919876543210"},{icon:"",title:"Address",details:"Bangalore, Karnataka, India",link:"#"},{icon:"",title:"Working Hours",details:"Mon-Sat: 9:00 AM - 7:00 PM",link:"#"}];return p.jsxs("div",{className:"contact-page",children:[p.jsx("section",{className:"contact-hero section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"contact-hero-content text-center",children:[p.jsxs("h1",{className:"fade-in-up",children:["Get In ",p.jsx("span",{className:"text-gradient",children:"Touch"})]}),p.jsx("p",{className:"hero-description fade-in-up",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})})}),p.jsx("section",{className:"contact-info-section section",children:p.jsx("div",{className:"container",children:p.jsx("div",{className:"contact-info-grid",children:a.map((l,c)=>p.jsxs("a",{href:l.link,className:"contact-info-card card",children:[p.jsx("div",{className:"contact-icon",children:l.icon}),p.jsx("h4",{children:l.title}),p.jsx("p",{children:l.details})]},c))})})}),p.jsx("section",{className:"contact-form-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"contact-layout",children:[p.jsxs("div",{className:"contact-form-container",children:[p.jsx("h2",{children:"Send Us a Message"}),p.jsxs("form",{onSubmit:i,className:"contact-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Full Name *"}),p.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:t,required:!0,placeholder:"Enter your full name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address *"}),p.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:t,required:!0,placeholder:"Enter your email"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),p.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:t,required:!0,placeholder:"Enter your phone number"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"program",children:"Interested Program"}),p.jsxs("select",{id:"program",name:"program",value:r.program,onChange:t,children:[p.jsx("option",{value:"",children:"Select a program"}),p.jsx("option",{value:"fullstack",children:"Full Stack Development"}),p.jsx("option",{value:"datascience",children:"Data Science & ML"}),p.jsx("option",{value:"cybersecurity",children:"Cyber Security"}),p.jsx("option",{value:"digitalmarketing",children:"Digital Marketing"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"message",children:"Message"}),p.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:t,rows:"5",placeholder:"Tell us more about your requirements..."})]}),p.jsxs("button",{type:"submit",className:"btn btn-primary btn-lg",children:["Send Message",p.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]}),p.jsxs("div",{className:"contact-sidebar",children:[p.jsxs("div",{className:"sidebar-card card",children:[p.jsx("h3",{children:"Why Choose StartosEdge?"}),p.jsxs("ul",{className:"benefits-list",children:[p.jsx("li",{children:" 100% Placement Assistance"}),p.jsx("li",{children:" Industry Expert Trainers"}),p.jsx("li",{children:" Hands-on Live Projects"}),p.jsx("li",{children:" Flexible Learning Options"}),p.jsx("li",{children:" Lifetime Course Access"}),p.jsx("li",{children:" 24/7 Student Support"})]})]}),p.jsxs("div",{className:"sidebar-card card",children:[p.jsx("h3",{children:"Quick Links"}),p.jsxs("div",{className:"quick-links",children:[p.jsx("a",{href:"/about",children:"About Us"}),p.jsx("a",{href:"/programs",children:"Our Programs"}),p.jsx("a",{href:"#",children:"Student Success Stories"}),p.jsx("a",{href:"#",children:"FAQs"})]})]})]})]})})})]})},zs=()=>{const[r,e]=U.useState([]),t=U.useCallback((m,g="info")=>{const v=Date.now();e(w=>[...w,{id:v,message:m,type:g}])},[]),i=U.useCallback(m=>{e(g=>g.filter(v=>v.id!==m))},[]),a=U.useCallback(m=>t(m,"success"),[t]),l=U.useCallback(m=>t(m,"error"),[t]),c=U.useCallback(m=>t(m,"warning"),[t]),d=U.useCallback(m=>t(m,"info"),[t]);return{toasts:r,showToast:t,removeToast:i,success:a,error:l,warning:c,info:d}},qs=({message:r,type:e="info",onClose:t,duration:i=4e3})=>{U.useEffect(()=>{const l=setTimeout(()=>{t()},i);return()=>clearTimeout(l)},[i,t]);const a=()=>{switch(e){case"success":return"";case"error":return"";case"warning":return"";case"info":default:return""}};return p.jsxs("div",{className:`toast toast-${e}`,children:[p.jsx("div",{className:"toast-icon",children:a()}),p.jsx("div",{className:"toast-content",children:p.jsx("p",{children:r})}),p.jsx("button",{className:"toast-close",onClick:t,children:""})]})},pR=({title:r,message:e,onConfirm:t,onCancel:i,inputPlaceholder:a,type:l="confirm",confirmText:c,inputType:d="text",loading:m=!1})=>{const[g,v]=U.useState(""),w=()=>{l==="prompt"?t(g):t()};return p.jsx("div",{className:"modal-overlay",onClick:i,children:p.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:r}),p.jsx("button",{className:"modal-close",onClick:i,children:""})]}),p.jsxs("div",{className:"modal-body",children:[p.jsx("p",{children:e}),l==="prompt"&&p.jsx("input",{type:d,className:"modal-input",placeholder:a,value:g,onChange:T=>v(T.target.value),autoFocus:!0,onKeyPress:T=>{T.key==="Enter"&&w()}})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"btn btn-secondary",onClick:i,disabled:m,children:"Cancel"}),p.jsx("button",{className:"btn btn-primary",onClick:w,disabled:m,children:m?"Sending...":c||(l==="prompt"?"Submit":"Confirm")})]})]})})},Ng=async r=>{try{const e=await Ua(Fn(yn,"users",r));if(!e.exists())return{isComplete:!1,missingFields:["all"]};const t=e.data(),i=[];return(!t.name||t.name.trim()==="")&&i.push("name"),(!t.email||t.email.trim()==="")&&i.push("email"),(!t.college||t.college.trim()==="")&&i.push("college"),{isComplete:i.length===0,missingFields:i}}catch(e){return console.error("Error checking profile completeness:",e),{isComplete:!1,missingFields:["error"]}}},CV=()=>{const r=ii(),e=ar(),{toasts:t,success:i,error:a,info:l,removeToast:c}=zs(),[d,m]=U.useState({email:"",password:""}),[g,v]=U.useState(!1),[w,T]=U.useState(!1),A=J1.useRef(!1);U.useEffect(()=>{e.state?.message&&!A.current&&(l(e.state.message),A.current=!0,window.history.replaceState({},document.title))},[e.state,l]);const j=P=>{m({...d,[P.target.name]:P.target.value})},O=async P=>{P.preventDefault(),v(!0);try{const z=await gO(Ft,d.email,d.password);if(!z.user.emailVerified){await Ft.signOut(),a("Please verify your email address before logging in. Check your inbox."),v(!1);return}const{isComplete:Z}=await Ng(z.user.uid);i("Login successful!"),setTimeout(()=>{r(Z?"/":"/profile")},1500)}catch(z){console.error("Login error:",z),v(!1);let Z="Login failed. Please try again.";z.code==="auth/user-not-found"&&(Z="No user found with this email."),z.code==="auth/wrong-password"&&(Z="Incorrect password."),z.code==="auth/invalid-email"&&(Z="Invalid email address."),a(Z)}},C=async()=>{try{const z=(await UT(Ft,wA)).user;(await Ua(Fn(yn,"users",z.uid))).exists()||await Vd(Fn(yn,"users",z.uid),{name:z.displayName,email:z.email,role:"user",createdAt:new Date});const{isComplete:ce}=await Ng(z.uid);i("Google login successful!"),setTimeout(()=>{r(ce?"/":"/profile")},1500)}catch(P){console.error("Google login error:",P),a("Google login failed.")}},B=async P=>{if(!P||!P.trim()){a("Please enter your email address.");return}try{await mO(Ft,P),i(`Password reset email sent to ${P}.`),T(!1)}catch(z){console.error("Password reset error:",z),a("Could not send password reset email.")}};return p.jsxs("div",{className:"login-page",children:[t.map(P=>p.jsx(qs,{message:P.message,type:P.type,onClose:()=>c(P.id)},P.id)),w&&p.jsx(pR,{title:"Reset Password",message:"Enter your email address to receive a password reset link.",onConfirm:B,onCancel:()=>T(!1),confirmText:"Send Reset Link",inputType:"email"}),p.jsxs("div",{className:"login-container",children:[p.jsxs("div",{className:"login-left",children:[p.jsxs("div",{className:"login-header",children:[p.jsxs("h1",{children:["Welcome to ",p.jsx("span",{className:"text-gradient",children:"StartosEdge"})]}),p.jsx("p",{children:"Log in to continue your journey to your dream career."})]}),p.jsxs("form",{className:"login-form",onSubmit:O,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:d.email,onChange:j,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:d.password,onChange:j,required:!0})]}),p.jsxs("div",{className:"form-options",children:[p.jsxs("div",{className:"remember-me",children:[p.jsx("input",{type:"checkbox",id:"remember"}),p.jsx("label",{htmlFor:"remember",children:"Remember me"})]}),p.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),T(!0)},className:"forgot-password",children:"Forgot Password?"})]}),p.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:g,children:g?"Logging in...":"Log In"}),p.jsx("div",{className:"divider",children:p.jsx("span",{children:"OR"})}),p.jsxs("button",{type:"button",className:"btn btn-google btn-full",onClick:C,children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google"}),"Sign in with Google"]})]}),p.jsx("div",{className:"login-footer",children:p.jsxs("p",{children:["Don't have an account? ",p.jsx(Mt,{to:"/signup",children:"Sign Up"})]})})]}),p.jsx("div",{className:"login-right",children:p.jsxs("div",{className:"login-benefits",children:[p.jsx("h3",{children:"Why Choose StartosEdge?"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"100% Placement Assistance"})," with top MNCs"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Expert Mentorship"})," from industry leaders"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Real-world Projects"})," to build your portfolio"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Global Community"})," of tech enthusiasts"]})]})]})})]})]})},xV=()=>{const r=ii(),{toasts:e,success:t,error:i,removeToast:a}=zs(),[l,c]=U.useState({fullName:"",email:"",password:"",confirmPassword:""}),[d,m]=U.useState(!1),g=T=>{c({...l,[T.target.name]:T.target.value})},v=async T=>{if(T.preventDefault(),l.password!==l.confirmPassword){i("Passwords don't match!");return}m(!0);try{const A=await pO(Ft,l.email,l.password);try{await Vd(Fn(yn,"users",A.user.uid),{name:l.fullName,email:l.email,role:"user",createdAt:new Date})}catch(j){throw console.error("Firestore creation failed:",j),await A.user.delete(),new Error("Failed to create user profile. Please try again.")}await yO(A.user),await Ft.signOut(),t("Account created! Verification email sent. Please check your inbox and verify before logging in."),setTimeout(()=>{r("/login")},4e3)}catch(A){console.error("Signup error:",A);let j="Signup failed. Please try again.";A.code==="auth/email-already-in-use"&&(j="Email already in use."),A.code==="auth/weak-password"&&(j="Password is too weak (minimum 6 characters)."),A.message.includes("Failed to create user profile")&&(j=A.message),i(j)}finally{m(!1)}},w=async()=>{try{const A=(await UT(Ft,wA)).user;await Vd(Fn(yn,"users",A.uid),{name:A.displayName,email:A.email,role:"user",createdAt:new Date},{merge:!0}),t("Account created successfully!"),setTimeout(()=>{r("/profile")},1500)}catch(T){console.error("Google signup error:",T),i("Google signup failed.")}};return p.jsxs("div",{className:"signup-page",children:[e.map(T=>p.jsx(qs,{message:T.message,type:T.type,onClose:()=>a(T.id)},T.id)),p.jsxs("div",{className:"signup-container",children:[p.jsxs("div",{className:"signup-left",children:[p.jsxs("div",{className:"signup-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Join StartosEdge and kickstart your career."})]}),p.jsxs("form",{className:"signup-form",onSubmit:v,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"fullName",children:"Full Name"}),p.jsx("input",{type:"text",id:"fullName",name:"fullName",placeholder:"John Doe",value:l.fullName,onChange:g,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",placeholder:"john@example.com",value:l.email,onChange:g,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Create a password",value:l.password,onChange:g,required:!0,minLength:"6"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm your password",value:l.confirmPassword,onChange:g,required:!0})]}),p.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:d,children:d?"Creating Account...":"Sign Up"}),p.jsx("div",{className:"divider",children:p.jsx("span",{children:"OR"})}),p.jsxs("button",{type:"button",className:"btn btn-google btn-full",onClick:w,children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google"}),"Sign up with Google"]})]}),p.jsx("div",{className:"signup-footer",children:p.jsxs("p",{children:["Already have an account? ",p.jsx(Mt,{to:"/login",children:"Log In"})]})})]}),p.jsx("div",{className:"signup-right",children:p.jsxs("div",{className:"signup-benefits",children:[p.jsx("h3",{children:"Join the Community"}),p.jsx("p",{children:"Get access to exclusive resources, mentorship, and job opportunities."})]})})]})]})},IV=()=>{const[r,e]=U.useState(!1),[t,i]=U.useState(""),[a,l]=U.useState({message:"",role:"",organization:""}),[c,d]=U.useState(!1);U.useEffect(()=>{const O=()=>{const C=localStorage.getItem("token"),B=localStorage.getItem("userName");C&&B?(e(!0),i(B)):(e(!1),i(""))};return O(),window.addEventListener("user-login",O),window.addEventListener("storage",O),()=>{window.removeEventListener("user-login",O),window.removeEventListener("storage",O)}},[]);const m=O=>{l({...a,[O.target.name]:O.target.value})},g=O=>{O.preventDefault(),console.log("Form submitted:",{userName:t,email:localStorage.getItem("userEmail")||"N/A",...a}),d(!0),setTimeout(()=>{d(!1),l({message:"",role:"",organization:""})},3e3)},v=["Mentor with us: guide cohorts and review capstone projects","Become a trainer: deliver modules in your area of expertise","Contribute content: build labs, case studies, and assessments"],w=["Hire-trained talent via our career programs","Co-create custom upskilling tracks with your SMEs","Offer real-world problem statements and internships"],T=["Full Stack, Data, Cloud, Cybersecurity bootcamps","Role-based tracks: SDE, DevOps, QA Automation","Soft skills: communication, collaboration, leadership"],A=["Aptitude + Reasoning + Coding interview prep","Company-specific drives: mock tests and interviews","Capstone-based portfolio and career support"],j=["Foundation coding (Scratch, Python basics)","STEM clubs: robotics, IoT, and maker activities","Communication and digital citizenship workshops"];return p.jsxs("div",{className:"collaborate-page",children:[p.jsx("section",{className:"collaborate-hero section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"collaborate-hero-content text-center",children:[p.jsxs("h1",{className:"fade-in-up",children:["Collaborate ",p.jsx("span",{className:"text-gradient",children:"With Us"})]}),p.jsx("p",{className:"hero-description fade-in-up",children:"Partner as an individual mentor/trainer or as an organization to empower learners. Explore our corporate and campus programs designed for real outcomes."})]})})}),p.jsx("section",{className:"contact-card-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"contact-card card",children:[p.jsx("h3",{children:"Contact Us"}),r?c?p.jsxs("div",{className:"success-message",children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),p.jsx("h4",{children:"Thank you for reaching out!"}),p.jsx("p",{children:"We've received your message and will get back to you soon."})]}):p.jsxs("form",{onSubmit:g,className:"contact-form",children:[p.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["Welcome, ",p.jsx("strong",{style:{color:"var(--primary-light)"},children:t}),"! Fill out the form below to get in touch with us."]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"role",children:"I am interested as:"}),p.jsxs("select",{id:"role",name:"role",value:a.role,onChange:m,required:!0,children:[p.jsx("option",{value:"",children:"Select an option"}),p.jsx("option",{value:"individual-mentor",children:"Individual - Mentor"}),p.jsx("option",{value:"individual-trainer",children:"Individual - Trainer"}),p.jsx("option",{value:"individual-content",children:"Individual - Content Creator"}),p.jsx("option",{value:"organization-hiring",children:"Organization - Hiring Partner"}),p.jsx("option",{value:"organization-training",children:"Organization - Training Partner"}),p.jsx("option",{value:"college",children:"College/University"}),p.jsx("option",{value:"school",children:"School"}),p.jsx("option",{value:"other",children:"Other"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"organization",children:"Organization (if applicable):"}),p.jsx("input",{type:"text",id:"organization",name:"organization",value:a.organization,onChange:m,placeholder:"Enter your organization name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"message",children:"Message:"}),p.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:m,placeholder:"Tell us about your requirements and how you'd like to collaborate...",rows:"5",required:!0})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Send Message"})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"Please log in to send us your details."}),p.jsx(Mt,{to:"/login",className:"btn btn-primary",children:"Login / Sign Up"})]})]})})}),p.jsx("section",{className:"collab-options-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"collab-grid",children:[p.jsxs("div",{className:"collab-card card",children:[p.jsx("div",{className:"collab-icon",children:""}),p.jsx("h3",{children:"For Individuals"}),p.jsx("ul",{className:"collab-list",children:v.map((O,C)=>p.jsxs("li",{children:[" ",O]},C))})]}),p.jsxs("div",{className:"collab-card card",children:[p.jsx("div",{className:"collab-icon",children:""}),p.jsx("h3",{children:"For Organizations"}),p.jsx("ul",{className:"collab-list",children:w.map((O,C)=>p.jsxs("li",{children:[" ",O]},C))})]})]})})}),p.jsx("section",{className:"programs-overview-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"programs-overview-grid",children:[p.jsxs("div",{className:"program-overview-card card",children:[p.jsx("div",{className:"program-icon",children:""}),p.jsx("h3",{children:"Corporate Training Programs"}),p.jsx("ul",{className:"program-list",children:T.map((O,C)=>p.jsxs("li",{children:[" ",O]},C))})]}),p.jsxs("div",{className:"program-overview-card card",children:[p.jsx("div",{className:"program-icon",children:""}),p.jsx("h3",{children:"College CRT Programs"}),p.jsx("ul",{className:"program-list",children:A.map((O,C)=>p.jsxs("li",{children:[" ",O]},C))})]}),p.jsxs("div",{className:"program-overview-card card",children:[p.jsx("div",{className:"program-icon",children:""}),p.jsx("h3",{children:"School-level Programs for Students"}),p.jsx("ul",{className:"program-list",children:j.map((O,C)=>p.jsxs("li",{children:[" ",O]},C))})]})]})})})]})},NV=()=>{const r=ii(),[e,t]=U.useState("all"),[i,a]=U.useState([]),{isAdmin:l}=ml(),{toasts:c,success:d,error:m,removeToast:g}=zs(),[v,w]=U.useState(!0),[T,A]=U.useState(!1),[j,O]=U.useState([]),[C,B]=U.useState(null),[P,z]=U.useState(""),[Z,ce]=U.useState(""),[ae,x]=U.useState({title:"",description:"",duration:"",price:"",category:"technical",thumbnail_url:"",is_featured:!1}),[N,k]=U.useState(null),[q,V]=U.useState(!0);U.useEffect(()=>{const ie=Ft.onAuthStateChanged(async de=>{if(!de)m("Please log in to view programs."),r("/login");else{try{const Te=await Ua(Fn(yn,"users",de.uid));if(Te.exists()){const Ge=Te.data();B(Ge),O(Ge.enrolled_programs||[])}}catch(Te){console.error("Error fetching user profile:",Te)}V(!1),F()}});return()=>ie()},[r,m]);const F=async()=>{try{const{data:ie,error:de}=await St.from("programs").select("*").order("created_at",{ascending:!1});if(de)throw de;a(ie||[])}catch(ie){console.error("Error loading programs:",ie)}finally{w(!1)}},D=ie=>{const de=ie.target.type==="checkbox"?ie.target.checked:ie.target.value;x({...ae,[ie.target.name]:de})},Je=ie=>{const de=ie.target.files[0];if(de){if(!de.type.startsWith("image/")){m("Please select an image file");return}if(de.size>2*1024*1024){m("Image size should be less than 2MB");return}k(de)}},be=async ie=>{const de=ie.name.split(".").pop(),Te=`${Date.now()}_${Math.random().toString(36).substring(7)}.${de}`,{data:Ge,error:vn}=await St.storage.from("course-videos").upload(Te,ie,{cacheControl:"3600",upsert:!1});if(vn)throw new Error("Image upload failed: "+vn.message);const{data:{publicUrl:Wt}}=St.storage.from("course-videos").getPublicUrl(Te);return Wt},[Q,oe]=U.useState(null),ge=async ie=>{ie.preventDefault(),A(!0);try{let de=ae.thumbnail_url;if(N&&(de=await be(N)),Q){const{error:Te}=await St.from("programs").update({title:ae.title,description:ae.description,duration:ae.duration,price:ae.price,category:ae.category,thumbnail_url:de,is_featured:ae.is_featured}).eq("id",Q.id);if(Te)throw Te;d("Program updated successfully!")}else{const{error:Te}=await St.from("programs").insert([{title:ae.title,description:ae.description,duration:ae.duration,price:ae.price,category:ae.category,thumbnail_url:de,is_featured:ae.is_featured}]);if(Te)throw Te;d("Program added successfully!")}x({title:"",description:"",duration:"",price:"",category:"technical",thumbnail_url:"",is_featured:!1}),k(null),oe(null),F()}catch(de){console.error("Error saving program:",de),m("Failed to save program: "+de.message)}finally{A(!1)}},De=ie=>{oe(ie),x({title:ie.title,description:ie.description,duration:ie.duration,price:ie.price,category:ie.category,thumbnail_url:ie.thumbnail_url,is_featured:ie.is_featured}),window.scrollTo({top:0,behavior:"smooth"})},Me=()=>{oe(null),x({title:"",description:"",duration:"",price:"",category:"technical",thumbnail_url:"",is_featured:!1}),k(null)},I=async ie=>{if(window.confirm("Delete this program?"))try{const{error:de}=await St.from("programs").delete().eq("id",ie);if(de)throw de;d("Program deleted"),F()}catch(de){console.error("Error deleting program:",de),m("Failed to delete program")}},X=async ie=>{try{const{error:de}=await St.from("programs").update({is_featured:!ie.is_featured}).eq("id",ie.id);if(de)throw de;d(`Program ${ie.is_featured?"removed from Home Page":"added to Home Page"}`),F()}catch(de){console.error("Error updating program:",de),m("Failed to update program")}},le=async ie=>{if(ie.preventDefault(),!P||!Z){m("Please enter email and select a program.");return}try{const de=qD(cA(yn,"users"),FD("email","==",P)),Te=await vA(de);if(Te.empty){m("User not found! Ask them to sign up first.");return}const Ge=Te.docs[0];await _A(Ge.ref,{enrolled_programs:YD(Z)}),d(` Access granted to ${P}!`),z(""),ce(""),P===C.email&&O(vn=>[...vn,Z])}catch(de){console.error("Error granting access:",de),m("Failed to grant access: "+de.message)}},he=async ie=>{if(!C){m("Please update your profile first (Name & Phone required)."),r("/profile");return}if(!C.phone){m("Phone number is required for purchase. Please update your profile."),r("/profile");return}if(!window.confirm(`Confirm purchase request for "${ie.title}"? Admin will contact you at ${C.phone}.`))return;const de=`buy-btn-${ie.id}`,Te=document.getElementById(de),Ge=Te?Te.innerText:" Buy Now";Te&&(Te.innerText=" Sending...",Te.disabled=!0);const vn="https://script.google.com/macros/s/AKfycbx3jlCg-oOWDhDaP258SUUDrtbqC6h1kf4WQXqf7s-K-ROj4ZH-hioneCoHfWudMJhT/exec";try{const Wt=new URLSearchParams;Wt.append("name",C.name),Wt.append("email",C.email),Wt.append("phone",C.phone),Wt.append("course",ie.title),Wt.append("timestamp",new Date().toLocaleString()),await fetch(vn,{method:"POST",body:Wt,mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),d("Request sent successfully! Admin will verify and grant access shortly.")}catch(Wt){console.error("Error sending request:",Wt),m("Failed to send request. Please try again or contact support.")}finally{Te&&(Te.innerText=" Request Sent",setTimeout(()=>{Te.innerText=Ge,Te.disabled=!1},3e3))}},Se=e==="all"?i:i.filter(ie=>ie.category===e);return q?p.jsx("div",{className:"flex-center",style:{height:"100vh"},children:"Loading..."}):p.jsxs("div",{className:"programs-detail-page",children:[c.map(ie=>p.jsx(qs,{message:ie.message,type:ie.type,onClose:()=>g(ie.id)},ie.id)),p.jsx("section",{className:"programs-detail-hero section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"programs-detail-hero-content text-center",children:[p.jsxs("h1",{className:"fade-in-up",children:["All Career ",p.jsx("span",{className:"text-gradient",children:"Programs"})]}),p.jsx("p",{className:"hero-description fade-in-up",children:"Choose your path to a successful tech career. Every program is designed to make you industry-ready."})]})})}),l&&p.jsx("section",{className:"section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"admin-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[p.jsxs("div",{className:"admin-panel card",children:[p.jsx("h3",{children:Q?"Edit Program":"Add New Program"}),p.jsxs("form",{onSubmit:ge,className:"admin-form",children:[p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Program Title"}),p.jsx("input",{name:"title",value:ae.title,onChange:D,required:!0,placeholder:"e.g. Full Stack Development"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Price"}),p.jsx("input",{name:"price",value:ae.price,onChange:D,required:!0,placeholder:"e.g. 20,000"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Duration"}),p.jsx("input",{name:"duration",value:ae.duration,onChange:D,required:!0,placeholder:"e.g. 6 Months"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Category"}),p.jsxs("select",{name:"category",value:ae.category,onChange:D,children:[p.jsx("option",{value:"technical",children:"Technical"}),p.jsx("option",{value:"non-technical",children:"Non-Technical"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Thumbnail Image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:Je}),N&&p.jsxs("small",{className:"text-muted",children:["Selected: ",N.name]}),!N&&ae.thumbnail_url&&p.jsxs("small",{className:"text-muted",children:["Current: ",p.jsx("a",{href:ae.thumbnail_url,target:"_blank",rel:"noreferrer",children:"View Image"})]})]}),p.jsx("div",{className:"form-group checkbox-group",children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",name:"is_featured",checked:ae.is_featured,onChange:D}),"Feature on Home Page"]})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{name:"description",value:ae.description,onChange:D,required:!0,rows:"3",placeholder:"Describe the program..."})]}),p.jsxs("div",{className:"admin-form-actions",children:[p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,children:T?"Saving...":Q?"Update Program":"Add Program"}),Q&&p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Me,children:"Cancel"})]})]})]}),p.jsxs("div",{className:"admin-panel card",style:{height:"fit-content"},children:[p.jsx("h3",{children:"Grant Course Access"}),p.jsx("p",{className:"text-muted",style:{marginBottom:"1rem"},children:"Enter the user's email from the Google Sheet to unlock the course for them."}),p.jsxs("form",{onSubmit:le,className:"admin-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"User Email"}),p.jsx("input",{type:"email",value:P,onChange:ie=>z(ie.target.value),required:!0,placeholder:"user@example.com"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Select Program"}),p.jsxs("select",{value:Z,onChange:ie=>ce(ie.target.value),required:!0,children:[p.jsx("option",{value:"",children:"-- Select Course --"}),i.map(ie=>p.jsx("option",{value:ie.id,children:ie.title},ie.id))]})]}),p.jsx("button",{type:"submit",className:"btn btn-success",children:"Grant Access"})]})]})]})})}),p.jsx("section",{className:"filter-section section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{className:`filter-btn ${e==="all"?"active":""}`,onClick:()=>t("all"),children:"All"}),p.jsx("button",{className:`filter-btn ${e==="technical"?"active":""}`,onClick:()=>t("technical"),children:"Technical"}),p.jsx("button",{className:`filter-btn ${e==="non-technical"?"active":""}`,onClick:()=>t("non-technical"),children:"Non-Technical"})]})})}),p.jsx("section",{className:"programs-grid-section section",children:p.jsx("div",{className:"container",children:v?p.jsx("p",{className:"text-center",children:"Loading programs..."}):Se.length===0?p.jsx("p",{className:"text-center text-muted",children:"No programs found."}):p.jsx("div",{className:"programs-detail-grid",children:Se.map(ie=>{const de=j.includes(ie.id)||l;return p.jsxs("div",{className:`program-detail-card card ${l?"admin-mode":""}`,children:[p.jsxs("div",{className:"program-thumbnail",children:[p.jsx("img",{src:ie.thumbnail_url||"https://via.placeholder.com/300x200?text=No+Image",alt:ie.title,onError:Te=>{Te.target.src="https://via.placeholder.com/300x200?text=No+Image"}}),ie.is_featured&&p.jsx("span",{className:"featured-badge",children:"Featured"}),p.jsx("span",{className:"category-badge",children:ie.category}),l&&p.jsx("button",{className:"edit-btn-pencil",title:"Edit Program",onClick:Te=>{Te.stopPropagation(),De(ie)},children:p.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),p.jsxs("div",{className:"program-content",children:[p.jsx("h3",{children:ie.title}),p.jsx("p",{className:"program-description",children:ie.description}),p.jsxs("div",{className:"program-meta",children:[p.jsxs("span",{children:[p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]}),ie.duration]}),p.jsxs("span",{children:[p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:[p.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),p.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),ie.price]})]}),de?p.jsx("button",{className:"btn btn-success",onClick:()=>r(`/programs/${ie.id}`),children:"Access Course"}):p.jsx("button",{id:`buy-btn-${ie.id}`,className:"btn btn-primary",onClick:()=>he(ie),children:"Buy Now"}),l&&p.jsxs("div",{className:"admin-controls",children:[p.jsx("button",{className:`btn btn-sm ${ie.is_featured?"btn-warning":"btn-success"}`,onClick:Te=>{Te.stopPropagation(),X(ie)},children:ie.is_featured?"Un-Feature":"Feature"}),p.jsx("button",{className:"btn btn-danger btn-sm",onClick:Te=>{Te.stopPropagation(),I(ie.id)},children:"Delete"})]})]})]},ie.id)})})})})]})},OV=()=>{const{id:r}=PC(),e=ii(),{isAdmin:t}=ml(),{toasts:i,success:a,error:l,removeToast:c}=zs(),[d,m]=U.useState(null),[g,v]=U.useState([]),[w,T]=U.useState(null),[A,j]=U.useState(!0),[O,C]=U.useState(!1),[B,P]=U.useState({title:"",description:""}),[z,Z]=U.useState(null);U.useEffect(()=>{ce()},[r]);const ce=async()=>{try{const{data:be,error:Q}=await St.from("programs").select("*").eq("id",r).single();if(Q||!be){l("Course not found"),e("/programs");return}m(be);const{data:oe,error:ge}=await St.from("program_videos").select("*").eq("program_id",r).order("created_at",{ascending:!0});if(ge)throw ge;v(oe||[]),oe&&oe.length>0&&T(oe[0])}catch(be){console.error("Error loading course:",be),l("Error loading course content")}finally{j(!1)}},ae=be=>{const Q=be.target.files[0];if(Q){if(!Q.type.startsWith("video/")){l("Please select a valid video file");return}if(Q.size>50*1024*1024){l("Video size must be less than 50MB");return}Z(Q)}},x=async be=>{const Q=be.name.split(".").pop(),oe=`videos/${r}/${Date.now()}_${Math.random().toString(36).substring(7)}.${Q}`;console.log("Uploading video:",oe);const{data:ge,error:De}=await St.storage.from("course-videos").upload(oe,be,{cacheControl:"3600",upsert:!1});if(De)throw De;const{data:{publicUrl:Me}}=St.storage.from("course-videos").getPublicUrl(oe);return Me},N=async be=>{if(be.preventDefault(),!z){l("Please select a video file to upload");return}C(!0);try{const Q=await x(z),{error:oe}=await St.from("program_videos").insert([{program_id:r,title:B.title,description:B.description,video_url:Q}]);if(oe)throw oe;a("Video uploaded successfully!"),P({title:"",description:""}),Z(null),document.getElementById("video-upload-input").value="",ce()}catch(Q){console.error("Error adding video:",Q),l("Failed to add video: "+Q.message)}finally{C(!1)}},k=async be=>{if(window.confirm("Delete this video?"))try{const{error:Q}=await St.from("program_videos").delete().eq("id",be);if(Q)throw Q;a("Video deleted"),ce()}catch(Q){console.error("Error deleting video:",Q),l("Failed to delete video")}},[q,V]=U.useState(null),[F,D]=U.useState(!1);U.useEffect(()=>(w?.video_url&&Je(w.video_url),()=>{q&&URL.revokeObjectURL(q)}),[w]);const Je=async be=>{D(!0);try{const oe=await(await fetch(be)).blob(),ge=URL.createObjectURL(oe);V(ge)}catch(Q){console.error("Error loading secure video:",Q),l("Failed to load secure video")}finally{D(!1)}};return A?p.jsx("div",{className:"loading-screen",children:"Loading Course..."}):d?p.jsxs("div",{className:"course-viewer-page",children:[i.map(be=>p.jsx(qs,{message:be.message,type:be.type,onClose:()=>c(be.id)},be.id)),p.jsxs("div",{className:"course-viewer-container",children:[p.jsxs("div",{className:"course-sidebar",children:[p.jsxs("div",{className:"sidebar-header",children:[p.jsx("button",{className:"back-btn",onClick:()=>e("/programs"),children:" Back"}),p.jsx("h3",{children:d.title})]}),p.jsx("div",{className:"video-list",children:g.length===0?p.jsx("p",{className:"no-videos",children:"No videos yet."}):g.map((be,Q)=>p.jsxs("div",{className:`video-item ${w?.id===be.id?"active":""}`,onClick:()=>T(be),children:[p.jsx("span",{className:"video-number",children:Q+1}),p.jsxs("div",{className:"video-info",children:[p.jsx("h4",{children:be.title}),p.jsx("span",{className:"video-duration",children:"Watch Now"})]})]},be.id))})]}),p.jsxs("div",{className:"course-main",children:[w?p.jsxs("div",{className:"video-player-wrapper",children:[p.jsx("div",{className:"video-frame",children:F?p.jsxs("div",{className:"video-loading-overlay",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Securing Video Stream..."})]}):p.jsx("video",{controls:!0,controlsList:"nodownload",onContextMenu:be=>be.preventDefault(),playsInline:!0,className:"html5-video-player",src:q,children:"Your browser does not support the video tag."},q)}),p.jsxs("div",{className:"video-details",children:[p.jsx("h2",{children:w.title}),p.jsx("p",{className:"video-description",children:w.description})]})]}):p.jsxs("div",{className:"empty-state",children:[p.jsx("h2",{children:"Select a video to start learning"}),p.jsx("p",{children:"Choose a topic from the sidebar."})]}),t&&p.jsxs("div",{className:"admin-video-panel card",children:[p.jsx("h3",{children:" Admin: Upload New Video"}),p.jsxs("form",{onSubmit:N,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Video Title"}),p.jsx("input",{value:B.title,onChange:be=>P({...B,title:be.target.value}),required:!0,placeholder:"e.g. Introduction to React"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:B.description,onChange:be=>P({...B,description:be.target.value}),required:!0,placeholder:"Briefly explain what this video covers..."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Select Video File (Max 50MB)"}),p.jsx("input",{id:"video-upload-input",type:"file",accept:"video/*",onChange:ae,required:!0})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:O,children:O?"Uploading Video...":"Upload Video"})]}),w&&p.jsx("button",{className:"btn btn-secondary mt-2",onClick:()=>k(w.id),style:{marginTop:"1rem"},children:"Delete Current Video"})]})]})]})]}):null},jV=()=>{const[r,e]=U.useState([]),[t,i]=U.useState(!0),{isAdmin:a}=ml(),{toasts:l,success:c,error:d,removeToast:m}=zs(),[g,v]=U.useState({title:"",company:"",location:"Remote",type:"Full-time",stipend:"",duration:"",apply_link:"",description:""});U.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:P,error:z}=await St.from("internships").select("*").order("created_at",{ascending:!1});if(z)throw z;e(P||[])}catch(P){console.error("Error fetching internships:",P)}finally{i(!1)}},T=P=>{v({...g,[P.target.name]:P.target.value})},A=async P=>{P.preventDefault();try{const{error:z}=await St.from("internships").insert([{...g}]);if(z)throw z;c("Internship posted successfully!"),v({title:"",company:"",location:"Remote",type:"Full-time",stipend:"",duration:"",apply_link:"",description:""}),w()}catch(z){console.error("Error posting internship:",z),d("Failed to post internship")}},j=async P=>{if(window.confirm("Delete this internship?"))try{const{error:z}=await St.from("internships").delete().eq("id",P);if(z)throw z;c("Internship deleted"),w()}catch(z){console.error("Error deleting internship:",z),d("Failed to delete internship")}},O=["Practice worknot theory","Weekly progress reports and mentor check-ins","Certificate + personalized recommendations"],C=[{icon:"",title:"Web & Full-Stack Development"},{icon:"",title:"AI, Machine Learning & Data Science"},{icon:"",title:"Cybersecurity Awareness"},{icon:"",title:"Python & Scripting Automation"},{icon:"",title:"IoT / Embedded Devices"}],B=[{icon:"",title:"Content & Communication"},{icon:"",title:"Digital Marketing & SEO"},{icon:"",title:"Instructional Design"},{icon:"",title:"HR & Talent Engagement"}];return p.jsxs("div",{className:"internships-page",children:[l.map(P=>p.jsx(qs,{message:P.message,type:P.type,onClose:()=>m(P.id)},P.id)),p.jsx("section",{className:"internships-hero section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"internships-hero-content text-center",children:[p.jsxs("h1",{className:"fade-in-up",children:["Gain Real-World ",p.jsx("span",{className:"text-gradient",children:"Experience"})]}),p.jsx("p",{className:"hero-description fade-in-up",children:"Our internships bridge the gap between academic theory and industry practice."})]})})}),a&&p.jsx("section",{className:"section",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"admin-panel card",children:[p.jsx("h3",{children:" Admin: Post New Internship"}),p.jsxs("form",{onSubmit:A,className:"admin-form",children:[p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Title"}),p.jsx("input",{name:"title",value:g.title,onChange:T,required:!0,placeholder:"e.g. Frontend Intern"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Company"}),p.jsx("input",{name:"company",value:g.company,onChange:T,required:!0,placeholder:"e.g. TechCorp"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Duration"}),p.jsx("input",{name:"duration",value:g.duration,onChange:T,required:!0,placeholder:"e.g. 3 Months"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Stipend"}),p.jsx("input",{name:"stipend",value:g.stipend,onChange:T,placeholder:"e.g. 10,000/mo"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Type"}),p.jsxs("select",{name:"type",value:g.type,onChange:T,children:[p.jsx("option",{children:"Full-time"}),p.jsx("option",{children:"Part-time"}),p.jsx("option",{children:"Remote"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Apply Link"}),p.jsx("input",{name:"apply_link",value:g.apply_link,onChange:T,placeholder:"https://..."})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{name:"description",value:g.description,onChange:T,required:!0,rows:"3"})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Post Internship"})]})]})})}),p.jsx("section",{className:"section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:"text-center",children:"Open Positions"}),t?p.jsx("p",{className:"text-center",children:"Loading opportunities..."}):r.length===0?p.jsx("p",{className:"text-center text-muted",children:"No open positions currently. Check back later!"}):p.jsx("div",{className:"internships-grid",children:r.map(P=>p.jsxs("div",{className:"internship-card card",children:[p.jsxs("div",{className:"card-header",children:[p.jsx("h3",{children:P.title}),p.jsx("span",{className:"badge",children:P.type})]}),p.jsxs("p",{className:"company-tag",children:[p.jsx("strong",{children:"Company:"})," ",P.company]}),p.jsxs("p",{className:"duration-tag",children:[p.jsx("strong",{children:"Duration:"})," ",P.duration]}),p.jsxs("p",{className:"stipend-tag",children:[p.jsx("strong",{children:"Stipend:"})," ",P.stipend||"Unpaid"]}),p.jsx("p",{className:"description",children:P.description}),p.jsxs("div",{className:"card-actions",children:[P.apply_link&&p.jsx("a",{href:P.apply_link,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-sm",children:"Apply Now"}),a&&p.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>j(P.id),children:"Delete"})]})]},P.id))})]})}),p.jsx("section",{className:"internship-overview-section section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{children:"Internship Overview"}),p.jsx("p",{className:"overview-description",children:"Our internship at StartosEdge immerses students in live projects, guided by expert mentors. From web-app builds to marketing campaigns, every task is real and impactful."}),p.jsx("ul",{className:"features-list",children:O.map((P,z)=>p.jsxs("li",{children:[p.jsx("span",{className:"check-icon",children:""})," ",P]},z))})]})}),p.jsx("section",{className:"internship-domains-section section",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{children:"Internship Domains"}),p.jsxs("div",{className:"domain-category",children:[p.jsxs("h3",{children:[p.jsx("span",{className:"domain-icon",children:""})," Technical Domains"]}),p.jsx("div",{className:"domains-grid",children:C.map((P,z)=>p.jsxs("div",{className:"domain-card card",children:[p.jsx("span",{className:"domain-emoji",children:P.icon}),p.jsx("p",{children:P.title})]},z))})]}),p.jsxs("div",{className:"domain-category",children:[p.jsxs("h3",{children:[p.jsx("span",{className:"domain-icon",children:""})," Non-Technical / Creative Domains"]}),p.jsx("div",{className:"domains-grid",children:B.map((P,z)=>p.jsxs("div",{className:"domain-card card",children:[p.jsx("span",{className:"domain-emoji",children:P.icon}),p.jsx("p",{children:P.title})]},z))})]})]})})]})},kV=()=>{const[r,e]=U.useState([]),[t,i]=U.useState(!0),{isAdmin:a}=ml(),{toasts:l,success:c,error:d,removeToast:m}=zs(),[g,v]=U.useState({title:"",description:"",coins:"",difficulty:"Medium",skills_required:"",deadline:""});U.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:O,error:C}=await St.from("tasks").select("*").order("created_at",{ascending:!1});if(C)throw C;e(O||[])}catch(O){console.error("Error fetching tasks:",O)}finally{i(!1)}},T=O=>{v({...g,[O.target.name]:O.target.value})},A=async O=>{O.preventDefault();try{const{error:C}=await St.from("tasks").insert([{...g}]);if(C)throw C;c("Task posted successfully!"),v({title:"",description:"",coins:"",difficulty:"Medium",skills_required:"",deadline:""}),w()}catch(C){console.error("Error posting task:",C),d("Failed to post task")}},j=async O=>{if(window.confirm("Delete this task?"))try{const{error:C}=await St.from("tasks").delete().eq("id",O);if(C)throw C;c("Task deleted"),w()}catch(C){console.error("Error deleting task:",C),d("Failed to delete task")}};return p.jsxs("div",{className:"taskhub-container section",children:[l.map(O=>p.jsx(qs,{message:O.message,type:O.type,onClose:()=>m(O.id)},O.id)),p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"taskhub-header",children:[p.jsx("h1",{className:"text-gradient",children:"TaskHub"}),p.jsx("p",{className:"section-description",children:"Complete tasks, earn rewards, and build your portfolio."})]}),a&&p.jsxs("div",{className:"admin-panel card fade-in-up",children:[p.jsx("h3",{children:"Post a New Task"}),p.jsxs("form",{onSubmit:A,className:"task-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Job Title"}),p.jsx("input",{type:"text",name:"title",value:g.title,onChange:T,required:!0,placeholder:"e.g. React Frontend Developer"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{name:"description",value:g.description,onChange:T,required:!0,placeholder:"Brief description of the task..."})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Required Skills"}),p.jsx("input",{type:"text",name:"skills_required",value:g.skills_required,onChange:T,required:!0,placeholder:"e.g. React, Node.js, CSS"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Coins/Reward"}),p.jsx("input",{type:"number",name:"coins",value:g.coins,onChange:T,required:!0,placeholder:"e.g. 500"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Difficulty"}),p.jsxs("select",{name:"difficulty",value:g.difficulty,onChange:T,children:[p.jsx("option",{children:"Easy"}),p.jsx("option",{children:"Medium"}),p.jsx("option",{children:"Hard"})]})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Post Task"})]})]}),p.jsx("div",{className:"tasks-grid",children:t?p.jsx("p",{className:"text-center",children:"Loading tasks..."}):r.length===0?p.jsxs("div",{className:"no-tasks text-center",children:[p.jsx("p",{children:"No tasks available at the moment."}),a&&p.jsx("p",{children:"Use the form above to post the first task!"})]}):r.map(O=>p.jsxs("div",{className:"task-card card",children:[p.jsxs("div",{className:"task-header",children:[p.jsx("h3",{className:"task-title",children:O.title}),p.jsxs("span",{className:"task-earnings",children:[" ",O.coins]})]}),p.jsx("p",{className:"task-desc",children:O.description}),p.jsxs("div",{className:"task-meta",children:[p.jsx("strong",{children:"Skills:"})," ",O.skills_required,p.jsx("span",{className:`badge ${O.difficulty.toLowerCase()}`,children:O.difficulty})]}),p.jsxs("div",{className:"task-actions",children:[p.jsx("button",{className:"btn btn-primary btn-sm",children:"Apply Now"}),a&&p.jsx("button",{className:"btn btn-secondary btn-sm delete-btn",onClick:()=>j(O.id),children:"Delete"})]})]},O.id))})]})]})},DV=()=>{const r=ii(),e=ar(),{toasts:t,removeToast:i,success:a,error:l}=zs(),[c,d]=U.useState(!0),[m,g]=U.useState(!1),[v,w]=U.useState(!1),[T,A]=U.useState({name:"",email:"",phone:"",linkedin:"",github:"",portfolio:"",bio:"",college:"",degree:"",graduationYear:"",skills:"",role:"user"}),[j,O]=U.useState(0),C=Z=>{if(!Z)return 0;const ce={name:Z.name,email:Z.email,phone:Z.phone,college:Z.college,degree:Z.degree,graduationYear:Z.graduationYear,bio:Z.bio,linkedin:Z.linkedin,github:Z.github,portfolio:Z.portfolio,skills:Z.skills},ae=Object.values(ce).filter(N=>N?typeof N=="string"?N.trim().length>0:!0:!1).length,x=Object.keys(ce).length;return Math.round(ae/x*100)};U.useEffect(()=>{e.state?.showIncompleteProfileWarning&&(l("Please complete your profile (Name, Email, Education) to access other pages."),w(!0),window.history.replaceState({},document.title));const Z=Wg(Ft,async ce=>{if(!ce){r("/login");return}try{const ae=await Ua(Fn(yn,"users",ce.uid));if(ae.exists()){const x=ae.data();A({name:x.name||"",email:x.email||ce.email||"",phone:x.phone||"",linkedin:x.linkedin||"",github:x.github||"",portfolio:x.portfolio||"",bio:x.bio||"",college:x.college||"",degree:x.degree||"",graduationYear:x.graduationYear||"",skills:x.skills||"",role:x.role||"user"}),O(C(x))}else A(x=>({...x,email:ce.email}))}catch(ae){console.error("Error loading profile:",ae),l("Failed to load profile")}finally{d(!1)}});return()=>Z()},[e.state]);const B=Z=>{const{name:ce,value:ae}=Z.target;A(x=>({...x,[ce]:ae}))},P=async Z=>{Z.preventDefault(),g(!0);try{const ce=Ft.currentUser;if(!ce)throw new Error("Not authenticated");await Vd(Fn(yn,"users",ce.uid),{...T,email:ce.email},{merge:!0}),a("Profile updated successfully!"),w(!1),O(C(T))}catch(ce){console.error("Error saving profile:",ce),l("Failed to save profile")}finally{g(!1)}},z=async()=>{window.confirm("Are you sure you want to logout?")&&(await CT(Ft),r("/login"))};return c?p.jsx("div",{className:"profile-page",children:p.jsx("div",{className:"loading-container",children:p.jsx("p",{children:"Loading profile..."})})}):p.jsxs("div",{className:"profile-page",children:[t.map(Z=>p.jsx(qs,{message:Z.message,type:Z.type,onClose:()=>i(Z.id)},Z.id)),p.jsxs("div",{className:"container profile-container",children:[p.jsxs("div",{className:"profile-header",children:[p.jsxs("div",{className:"header-text",children:[p.jsx("h1",{children:"My Profile"}),p.jsx("p",{className:"text-secondary",children:"Manage your personal information and portfolio"})]}),p.jsxs("div",{className:"profile-actions",children:[v?p.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancel"}):p.jsx("button",{className:"btn btn-primary",onClick:()=>w(!0),children:"Edit Profile"}),p.jsx("button",{className:"btn btn-danger",onClick:z,children:"Logout"})]})]}),p.jsxs("div",{className:"completion-card card",children:[p.jsxs("div",{className:"completion-header",children:[p.jsxs("div",{children:[p.jsx("h3",{children:"Profile Completion"}),p.jsx("p",{children:"Complete your profile to get better recommendations"})]}),p.jsx("div",{className:"completion-percentage",children:p.jsxs("span",{className:j===100?"complete":"incomplete",children:[j,"%"]})})]}),p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${j}%`}})})]}),p.jsxs("form",{onSubmit:P,className:"profile-form",children:[p.jsxs("div",{className:"form-section card",children:[p.jsx("h2",{children:"Personal Information"}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Full Name"}),p.jsx("input",{type:"text",name:"name",value:T.name,onChange:B,disabled:!v,placeholder:"John Doe"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",name:"email",value:T.email,disabled:!0,className:"input-disabled"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Phone"}),p.jsx("input",{type:"tel",name:"phone",value:T.phone,onChange:B,disabled:!v,placeholder:"+91 9876543210"})]})]})]}),p.jsxs("div",{className:"form-section card",children:[p.jsx("h2",{children:"Education"}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"College/University"}),p.jsx("input",{type:"text",name:"college",value:T.college,onChange:B,disabled:!v,placeholder:"IIT Delhi"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Degree"}),p.jsx("input",{type:"text",name:"degree",value:T.degree,onChange:B,disabled:!v,placeholder:"B.Tech in Computer Science"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Graduation Year"}),p.jsx("input",{type:"text",name:"graduationYear",value:T.graduationYear,onChange:B,disabled:!v,placeholder:"2024"})]})]})]}),p.jsxs("div",{className:"form-section card",children:[p.jsx("h2",{children:"Professional Links"}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"LinkedIn"}),p.jsx("input",{type:"url",name:"linkedin",value:T.linkedin,onChange:B,disabled:!v,placeholder:"https://linkedin.com/in/yourprofile"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"GitHub"}),p.jsx("input",{type:"url",name:"github",value:T.github,onChange:B,disabled:!v,placeholder:"https://github.com/yourusername"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Portfolio"}),p.jsx("input",{type:"url",name:"portfolio",value:T.portfolio,onChange:B,disabled:!v,placeholder:"https://yourportfolio.com"})]})]})]}),p.jsxs("div",{className:"form-section card",children:[p.jsx("h2",{children:"About"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Bio"}),p.jsx("textarea",{name:"bio",value:T.bio,onChange:B,disabled:!v,rows:"4",placeholder:"Tell us about yourself..."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Skills (comma-separated)"}),p.jsx("textarea",{name:"skills",value:T.skills,onChange:B,disabled:!v,rows:"2",placeholder:"React, Node.js, Python, MongoDB"})]})]}),v&&p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:m,children:m?"Saving...":"Save Changes"})})]})]})]})},PV=()=>p.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"2rem",padding:"2rem"},children:[p.jsx("h1",{children:"This feature is currently unavailable"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Please use email/password or Google sign-in to create an account."}),p.jsx(Mt,{to:"/signup",className:"btn btn-primary",children:"Go to Sign Up"})]}),MV=()=>{const r=ii(),{isAdmin:e,loading:t}=ml(),{toasts:i,success:a,error:l,removeToast:c}=zs(),[d,m]=U.useState([]),[g,v]=U.useState([]),[w,T]=U.useState(!0),[A,j]=U.useState(""),[O,C]=U.useState("all"),[B,P]=U.useState(null),[z,Z]=U.useState(!1),[ce,ae]=U.useState(!1),[x,N]=U.useState({role:"",enrolled_programs:[]}),[k,q]=U.useState("user");U.useEffect(()=>{!t&&!e&&(l("Access denied. Admin privileges required."),r("/"))},[e,t,r]),U.useEffect(()=>{e&&(D(),F(),V())},[e]);const V=async()=>{try{const I=await Ua(Fn(yn,"users",Ft.currentUser.uid));I.exists()&&q(I.data().role||"user")}catch(I){console.error("Error fetching current user role:",I)}},F=async()=>{try{const{data:I,error:X}=await St.from("programs").select("id, title");if(X)throw X;v(I||[])}catch(I){console.error("Error fetching programs:",I),l("Failed to fetch programs list.")}},D=async()=>{T(!0);try{const I=cA(yn,"users"),le=(await vA(I)).docs.map(he=>({id:he.id,...he.data(),createdAt:he.data().createdAt?.toDate?.()||new Date,enrolled_programs:he.data().enrolled_programs||[]}));le.sort((he,Se)=>Se.createdAt-he.createdAt),m(le)}catch(I){console.error("Error fetching users:",I),l("Failed to fetch users.")}finally{T(!1)}},Je=async()=>{if(B)try{if(B.id===Ft.currentUser?.uid){l("You cannot delete your own account from here."),Z(!1);return}await KD(Fn(yn,"users",B.id)),a(`User ${B.name||B.email} has been deleted.`),Z(!1),P(null),D()}catch(I){console.error("Error deleting user:",I),l("Failed to delete user.")}},be=async()=>{if(B){if(x.role!==B.role&&k!=="super_admin"){l("Only Super Admins can change user roles.");return}try{const I=Fn(yn,"users",B.id);await _A(I,{role:x.role,enrolled_programs:x.enrolled_programs,hasAccess:x.enrolled_programs.length>0}),a(`User ${B.name||B.email} has been updated.`),ae(!1),P(null),D()}catch(I){console.error("Error updating user:",I),l("Failed to update user.")}}},Q=I=>{P(I),N({role:I.role||"user",enrolled_programs:I.enrolled_programs||[]}),ae(!0)},oe=I=>{P(I),Z(!0)},ge=I=>{N(X=>{const le=X.enrolled_programs;return le.includes(I)?{...X,enrolled_programs:le.filter(he=>he!==I)}:{...X,enrolled_programs:[...le,I]}})},De=d.filter(I=>{const X=I.name?.toLowerCase().includes(A.toLowerCase())||I.email?.toLowerCase().includes(A.toLowerCase()),le=O==="all"||I.role===O;return X&&le});if(t)return p.jsx("div",{className:"admin-users-page",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Loading..."})]})});if(!e)return null;const Me=k==="super_admin";return p.jsxs("div",{className:"admin-users-page",children:[i.map(I=>p.jsx(qs,{message:I.message,type:I.type,onClose:()=>c(I.id)},I.id)),z&&p.jsx(pR,{title:"Delete User",message:`Are you sure you want to delete ${B?.name||B?.email}? This action cannot be undone.`,onConfirm:Je,onCancel:()=>Z(!1),confirmText:"Delete",type:"confirm"}),ce&&p.jsx("div",{className:"modal-overlay",onClick:()=>ae(!1),children:p.jsxs("div",{className:"modal-content edit-user-modal",onClick:I=>I.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"Edit User"}),p.jsx("button",{className:"modal-close",onClick:()=>ae(!1),children:""})]}),p.jsxs("div",{className:"modal-body",children:[p.jsx("div",{className:"form-group",children:p.jsxs("label",{children:["User: ",B?.name||B?.email]})}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"role",children:["Role ",!Me&&p.jsx("span",{style:{color:"#ff6b6b",fontSize:"0.85em"},children:"(Super Admin only)"})]}),p.jsxs("select",{id:"role",value:x.role,onChange:I=>N({...x,role:I.target.value}),disabled:!Me,children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Course Access"}),x.role==="admin"||x.role==="super_admin"?p.jsxs("div",{className:"alert-info",style:{padding:"10px",background:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",border:"1px solid rgba(99, 102, 241, 0.2)",color:"#a5b4fc"},children:[p.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",style:{marginRight:"8px",verticalAlign:"middle"},children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})," ",p.jsx("strong",{children:x.role==="super_admin"?"Super Admins":"Admins"})," automatically have access to all courses."]}):p.jsx("div",{className:"course-checkbox-list",children:g.length===0?p.jsx("p",{className:"text-muted",children:"No programs available."}):g.map(I=>p.jsxs("label",{className:"checkbox-label",children:[p.jsx("input",{type:"checkbox",checked:x.enrolled_programs.includes(I.id),onChange:()=>ge(I.id)}),p.jsx("span",{children:I.title})]},I.id))})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"btn btn-secondary",onClick:()=>ae(!1),children:"Cancel"}),p.jsx("button",{className:"btn btn-primary",onClick:be,children:"Save Changes"})]})]})}),p.jsxs("div",{className:"admin-users-container",children:[p.jsxs("div",{className:"admin-users-header",children:[p.jsx("h1",{children:"User Management"}),p.jsxs("p",{children:["Manage all users, their roles, and access permissions",Me?" (Super Admin)":" (Admin)"]})]}),p.jsxs("div",{className:"admin-controls",children:[p.jsx("div",{className:"search-box",children:p.jsx("input",{type:"text",placeholder:"Search by name or email...",value:A,onChange:I=>j(I.target.value)})}),p.jsx("div",{className:"filter-box",children:p.jsxs("select",{value:O,onChange:I=>C(I.target.value),children:[p.jsx("option",{value:"all",children:"All Roles"}),p.jsx("option",{value:"user",children:"Users"}),p.jsx("option",{value:"admin",children:"Admins"}),p.jsx("option",{value:"super_admin",children:"Super Admins"})]})}),p.jsx("button",{className:"btn btn-primary",onClick:D,children:"Refresh"})]}),p.jsxs("div",{className:"users-stats",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("h3",{children:d.length}),p.jsx("p",{children:"Total Users"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("h3",{children:d.filter(I=>I.role==="super_admin").length}),p.jsx("p",{children:"Super Admins"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("h3",{children:d.filter(I=>I.role==="admin").length}),p.jsx("p",{children:"Admins"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("h3",{children:d.filter(I=>I.enrolled_programs&&I.enrolled_programs.length>0).length}),p.jsx("p",{children:"With Course Access"})]})]}),w?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Loading users..."})]}):p.jsx("div",{className:"users-table-container",children:p.jsxs("table",{className:"users-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"Role"}),p.jsx("th",{children:"Enrolled Courses"}),p.jsx("th",{children:"Created"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:De.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"no-users",children:"No users found"})}):De.map(I=>p.jsxs("tr",{children:[p.jsx("td",{children:I.name||"N/A"}),p.jsx("td",{children:I.email}),p.jsx("td",{children:p.jsx("span",{className:`role-badge ${I.role||"user"}`,children:I.role==="super_admin"?"Super Admin":I.role==="admin"?"Admin":"User"})}),p.jsx("td",{children:I.role==="admin"||I.role==="super_admin"?p.jsx("span",{className:"access-badge active",children:"All Access (Admin)"}):I.enrolled_programs&&I.enrolled_programs.length>0?p.jsx("div",{className:"enrolled-courses-list",children:I.enrolled_programs.map(X=>{const le=g.find(he=>he.id===X);return p.jsx("span",{className:"course-badge",children:le?le.title:"Unknown Course"},X)})}):p.jsx("span",{className:"text-muted",children:"No Access"})}),p.jsx("td",{children:I.createdAt?.toLocaleDateString()||"N/A"}),p.jsx("td",{children:p.jsxs("div",{className:"action-buttons",children:[p.jsx("button",{className:"btn-icon edit",onClick:()=>Q(I),title:"Edit User",disabled:I.role==="super_admin",children:p.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),p.jsx("button",{className:"btn-icon delete",onClick:()=>oe(I),title:"Delete User",disabled:I.id===Ft.currentUser?.uid||I.role==="super_admin",children:p.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},I.id))})]})})]})]})},VV=()=>{const{pathname:r}=ar();return U.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo(0,0);const e=setTimeout(()=>{window.scrollTo(0,0)},0);return()=>clearTimeout(e)},[r]),null},Do=({children:r})=>{const[e,t]=U.useState(!0),[i,a]=U.useState(!1),[l,c]=U.useState(null),d=ar();return U.useEffect(()=>{const m=Ft.onAuthStateChanged(async g=>{if(c(g),g){const{isComplete:v}=await Ng(g.uid);a(v)}t(!1)});return()=>m()},[]),e?p.jsx("div",{className:"loading-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:p.jsx("div",{className:"spinner"})}):l?!i&&d.pathname!=="/profile"?p.jsx(Sb,{to:"/profile",state:{showIncompleteProfileWarning:!0},replace:!0}):r:p.jsx(Sb,{to:"/login",state:{from:d,message:"Please login to access this section",type:"info"},replace:!0})};function UV(){return p.jsxs(_x,{children:[p.jsx(VV,{}),p.jsxs("div",{className:"App",children:[p.jsx(JD,{}),p.jsxs(WC,{children:[p.jsx(Rn,{path:"/",element:p.jsx(SV,{})}),p.jsx(Rn,{path:"/login",element:p.jsx(CV,{})}),p.jsx(Rn,{path:"/signup",element:p.jsx(xV,{})}),p.jsx(Rn,{path:"/finishSignUp",element:p.jsx(PV,{})}),p.jsx(Rn,{path:"/contact",element:p.jsx(RV,{})}),p.jsx(Rn,{path:"/about",element:p.jsx(AV,{})}),p.jsx(Rn,{path:"/programs",element:p.jsx(Do,{children:p.jsx(NV,{})})}),p.jsx(Rn,{path:"/programs/:id",element:p.jsx(Do,{children:p.jsx(OV,{})})}),p.jsx(Rn,{path:"/internships",element:p.jsx(Do,{children:p.jsx(jV,{})})}),p.jsx(Rn,{path:"/collaborate",element:p.jsx(Do,{children:p.jsx(IV,{})})}),p.jsx(Rn,{path:"/taskhub",element:p.jsx(Do,{children:p.jsx(kV,{})})}),p.jsx(Rn,{path:"/admin/users",element:p.jsx(Do,{children:p.jsx(MV,{})})}),p.jsx(Rn,{path:"/profile",element:p.jsx(DV,{})})]}),p.jsx(XD,{})]})]})}iC.createRoot(document.getElementById("root")).render(p.jsx(U.StrictMode,{children:p.jsx(UV,{})}));
