import{u as j,r as o,a as p,j as e,g as L,d as T,b as E}from"./index-D9G_iR9j.js";import{s as q}from"./supabaseClient-B9sVw7_z.js";import{u as A,T as I}from"./Toast-CKfwthUu.js";const W=()=>{const r=j(),[n,u]=o.useState(!1);o.useEffect(()=>{const l=p.onAuthStateChanged(h=>{u(!!h)});return()=>l()},[]);const c=()=>{if(n){const l=document.getElementById("programs");l&&l.scrollIntoView({behavior:"smooth",block:"start"})}else r("/login",{state:{message:"Login to open program section",type:"info"}})};return e.jsxs("section",{className:"hero",id:"home",children:[e.jsxs("div",{className:"hero-background",children:[e.jsx("div",{className:"gradient-orb orb-1"}),e.jsx("div",{className:"gradient-orb orb-2"}),e.jsx("div",{className:"gradient-orb orb-3"})]}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"hero-content",children:[e.jsx("div",{className:"hero-badge fade-in-up",children:e.jsx("span",{children:"ðŸŽ¯ Personalized Career Guidance & Industry Mentorship"})}),e.jsxs("h1",{className:"hero-title fade-in-up",children:["Your Dream MNC Job Is Within ",e.jsx("span",{className:"text-gradient",children:"Reach"})]}),e.jsx("p",{className:"hero-description fade-in-up",children:"We guide job-seeking students and working professionals with personalized roadmaps for their learning. Transition from learning to career advancement with StartosEdge."}),e.jsx("div",{className:"hero-actions fade-in-up",children:e.jsxs("button",{className:"btn btn-primary btn-lg",onClick:c,children:[n?"View Programs":"Get Plan Started",e.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),e.jsxs("div",{className:"hero-stats",children:[e.jsxs("div",{className:"stat-card fade-in-up",children:[e.jsx("h3",{className:"stat-number",children:"500+"}),e.jsx("p",{className:"stat-label",children:"Careers Launched"})]}),e.jsxs("div",{className:"stat-card fade-in-up",children:[e.jsx("h3",{className:"stat-number",children:"95%"}),e.jsx("p",{className:"stat-label",children:"Satisfaction Rate"})]}),e.jsxs("div",{className:"stat-card fade-in-up",children:[e.jsx("h3",{className:"stat-number",children:"â‚¹8 LPA"}),e.jsx("p",{className:"stat-label",children:"Average Package"})]}),e.jsxs("div",{className:"stat-card fade-in-up",children:[e.jsx("h3",{className:"stat-number",children:"50+"}),e.jsx("p",{className:"stat-label",children:"Hiring Partners"})]})]})]})})]})},R=()=>{const r=j(),{toasts:n,success:u,error:c,removeToast:l}=A(),[h,b]=o.useState([]),[N,v]=o.useState(!0),[d,x]=o.useState(null),[y,g]=o.useState([]),[w,f]=o.useState(!1);o.useEffect(()=>{S(),P()},[]);const P=async()=>{const s=p.onAuthStateChanged(async t=>{if(t)try{const a=await L(T(E,"users",t.uid));if(a.exists()){const m=a.data();x(m),g(m.enrolled_programs||[]),f(m.role==="admin"||m.role==="super_admin")}}catch(a){console.error("Error fetching user profile:",a)}else x(null),g([]),f(!1)});return()=>s()},S=async()=>{try{const{data:s,error:t}=await q.from("programs").select("*").eq("is_featured",!0).order("created_at",{ascending:!1}).limit(4);if(t)throw t;b(s||[])}catch(s){console.error("Error loading featured programs:",s)}finally{v(!1)}},k=async s=>{if(!p.currentUser){c("Please log in to purchase a course."),r("/login");return}if(!d){c("Please update your profile first (Name & Phone required)."),r("/profile");return}if(!d.phone){c("Phone number is required for purchase. Please update your profile."),r("/profile");return}if(!window.confirm(`Confirm purchase request for "${s.title}"? Admin will contact you at ${d.phone}.`))return;const t=`buy-btn-home-${s.id}`,a=document.getElementById(t),m=a?a.innerText:"ðŸ›’ Buy Now";a&&(a.innerText="â³ Sending...",a.disabled=!0);const C="https://script.google.com/macros/s/AKfycbx3jlCg-oOWDhDaP258SUUDrtbqC6h1kf4WQXqf7s-K-ROj4ZH-hioneCoHfWudMJhT/exec";try{const i=new URLSearchParams;i.append("name",d.name),i.append("email",d.email),i.append("phone",d.phone),i.append("course",s.title),i.append("timestamp",new Date().toLocaleString()),await fetch(C,{method:"POST",body:i,mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),u("Request sent successfully! Admin will verify and grant access shortly.")}catch(i){console.error("Error sending request:",i),c("Failed to send request. Please try again or contact support.")}finally{a&&(a.innerText="âœ… Request Sent",setTimeout(()=>{a.innerText=m,a.disabled=!1},3e3))}};return e.jsxs("section",{className:"programs section",id:"programs",children:[n.map(s=>e.jsx(I,{message:s.message,type:s.type,onClose:()=>l(s.id)},s.id)),e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"section-header text-center",children:e.jsx("h2",{children:"Our Flagship Placement Programs"})}),e.jsx("div",{className:"programs-grid",children:N?e.jsx("p",{className:"text-center",children:"Loading programs..."}):h.length===0?e.jsx("p",{className:"text-center text-muted",children:"No featured programs available at the moment."}):h.map(s=>{const t=y.includes(s.id)||w;return e.jsxs("div",{className:"program-card card",children:[e.jsxs("div",{className:"program-thumbnail",children:[s.thumbnail_url?e.jsx("img",{src:s.thumbnail_url,alt:s.title,onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"program-icon-fallback",style:{display:s.thumbnail_url?"none":"flex"},children:e.jsx("span",{style:{fontSize:"2rem"},children:"ðŸš€"})}),e.jsx("span",{className:"category-badge",children:s.category})]}),e.jsxs("div",{className:"program-content",children:[e.jsx("h3",{className:"program-title",children:s.title}),e.jsxs("p",{className:"program-description",children:[s.description.substring(0,100),"..."]}),e.jsxs("div",{className:"program-meta",children:[e.jsx("span",{className:"badge",children:s.duration}),e.jsx("span",{className:"price-tag",children:s.price})]}),t?e.jsxs("button",{className:"btn btn-success program-btn",onClick:()=>r(`/programs/${s.id}`),children:["Access Course",e.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsxs("button",{id:`buy-btn-home-${s.id}`,className:"btn btn-primary program-btn",onClick:()=>k(s),children:["Buy Now",e.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})]})]},s.id)})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{className:"btn btn-outline",onClick:()=>r("/programs"),children:"View All Programs"})})]})]})},M=()=>{const r=[{icon:"ðŸ‘¨â€ðŸŽ“",title:"Students",description:"internships, employability, and career clarity"},{icon:"ðŸ«",title:"Colleges",description:"academicâ€“industry integration and branding"},{icon:"ðŸ¢",title:"Corporates",description:"internship hiring, training collaborations, and project-based engagements"}];return e.jsx("section",{className:"features section",id:"offerings",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"features-grid",children:e.jsxs("div",{className:"feature-column",children:[e.jsx("h2",{className:"feature-column-title",children:"Who We Serve"}),e.jsx("div",{className:"features-list",children:r.map((n,u)=>e.jsxs("div",{className:"feature-card card",children:[e.jsx("div",{className:"feature-icon",children:n.icon}),e.jsxs("div",{className:"feature-content",children:[e.jsx("h3",{className:"feature-subtitle",children:n.title}),e.jsx("p",{className:"feature-text",children:n.description})]})]},u))})]})})})})},D=()=>e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(R,{}),e.jsx(M,{})]});export{D as default};
